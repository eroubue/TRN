<?xml version="1.0"?>
<TriggernometryExport PluginVersion="1.2.0.753">
  <ExportedFolder FfxivZoneFilterRegularExpression="^777$" Id="0d8eb5fa-dbeb-40e9-8640-927ef2727fd8" Name="[Nag0miReload]莫灵喵绝神兵宝宝椅LatihasMod-V3.9.9" Enabled="true">
    <Folders>
      <Folder FFXIVZoneFilterEnabled="True" FfxivZoneFilterRegularExpression="^777$" Id="a141c7a1-f21a-4f17-aa1b-b95e5eeaaaed" Name="区域限制" Enabled="true">
        <Folders>
          <Folder Id="855fd3d3-a59b-4c3c-b11e-8b2bbcb733bc" Name="控制" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="团灭初始化" Id="ad3cff0f-bc2d-4a43-bf7b-0e0cf373419e" RegularExpression="^.{14} Director 21:.{8}:400000(?:03|1[026]|05|11)" RefirePeriodExpression="5000">
                <Actions>
                  <Action OrderNumber="1" FolderId="0ce40102-dbad-4ebf-b5d1-c50aa2bd41d4" ActionType="ActInteraction" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Action:Remove" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="4" TriggerOp="CancelTrigger" TriggerId="7cd5d68a-0618-4518-8ded-456af498e3ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="5" TriggerOp="CancelTrigger" TriggerId="79e9018e-f963-491b-b1a2-a302437d6feb" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="6" TriggerOp="CancelTrigger" TriggerId="cce11067-b354-4d5e-9f03-9ece0eb9dd90" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="7" TriggerOp="DisableTrigger" TriggerId="7fdf279d-fe61-47bb-8549-353af34c35de" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="8" TriggerOp="EnableTrigger" TriggerId="36da6c29-0d8c-4602-b131-5940bee8c76b" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="9" TriggerOp="EnableTrigger" TriggerId="7cd5d68a-0618-4518-8ded-456af498e3ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="10" TriggerOp="CancelTrigger" TriggerId="69e8a4a2-bb8d-43b3-ad74-f9d6b2918b07" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="11" TriggerOp="CancelTrigger" TriggerId="3a53e180-1f2d-4a99-97a8-1c65305ea404" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="12" TriggerOp="CancelTrigger" TriggerId="c9647608-627f-416b-a73b-dfa490b3f366" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="13" TriggerOp="CancelTrigger" TriggerId="c58f12fe-ccc8-42f1-90e0-b6d59d3f41ef" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="14" TriggerOp="CancelTrigger" TriggerId="5b1cb2a5-5e24-4c8d-9617-0b44480ddab8" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="15" TriggerOp="CancelTrigger" TriggerId="b7047d44-de0c-462d-8a72-039af36b11b7" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="16" TriggerOp="CancelTrigger" TriggerId="23e5a1ab-24f8-4a4c-907c-b825242ca30f" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="17" TriggerOp="CancelTrigger" TriggerId="be2678de-9a92-49e9-ace8-d270d89d2852" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="18" TriggerOp="CancelTrigger" TriggerId="c7b8d36e-82da-475f-ad90-f0316292bff9" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="19" TriggerOp="CancelTrigger" TriggerId="3f900d50-0154-451d-b1e1-c72f3e275e56" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="20" TriggerOp="CancelTrigger" TriggerId="dc9b92fe-c833-4758-8e3a-26e6c46d65ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="21" TriggerOp="CancelTrigger" TriggerId="36da6c29-0d8c-4602-b131-5940bee8c76b" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="22" TriggerOp="CancelTrigger" TriggerId="7fdf279d-fe61-47bb-8549-353af34c35de" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="23" VariableOp="UnsetRegexUniversal" VariableName="^tuw_.+" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="24" NamedCallbackName="LatihasTUW" NamedCallbackParam="p0init" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="25" TriggerOp="DisableTrigger" TriggerId="1b7f564c-19fa-4332-8dd4-6b6f908ad124" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="26" TriggerOp="CancelTrigger" TriggerId="1b7f564c-19fa-4332-8dd4-6b6f908ad124" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="27" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段风神" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="28" NamedCallbackName="PictoACT" NamedCallbackParam="Tag:热风觉醒&#xD;&#xA;Action:Remove" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="29" NamedCallbackName="PictoACT" NamedCallbackParam="Tag:热风未觉醒&#xD;&#xA;Action:Remove" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="30" FolderOp="CancelFolder" FolderId="a141c7a1-f21a-4f17-aa1b-b95e5eeaaaed" ActionType="Folder" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="接收职能初始化" Id="a72912e1-c1a9-48e8-93f4-37f752c9e62e" RegularExpression="^.{14} ChatLog 00:0038::\[Nag0miUWU\] (?&lt;str&gt;.+)$">
                <Actions>
                  <Action OrderNumber="1" TriggerId="358d174c-7807-4bdf-b6e3-f04b91cb9e72" TriggerForce="regexp" ActionType="Trigger" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${ecallback:LatihasTUW}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" NamedCallbackName="LatihasTUW" NamedCallbackParam="p0init:${str}" ActionType="NamedCallback" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="发送职能初始化" Id="55c0cfad-b673-4e8d-a128-2f40eed9da8d" RegularExpression="^.{14} ChatLog 00:0038::(?&lt;role&gt;[sSmMhHdD][tT1-4])$" Description="在/s或/p喊话：&#xD;&#xA;&#xD;&#xA;你是D1就喊话D1&#xD;&#xA;你是D2就喊话D2&#xD;&#xA;你是D3就喊话D3&#xD;&#xA;你是D4就喊话D4&#xD;&#xA;你是H1就喊话H1&#xD;&#xA;你是H2就喊话H2&#xD;&#xA;你是MT就喊话MT&#xD;&#xA;你是ST就喊话ST&#xD;&#xA;&#xD;&#xA;设置成功会有字幕提醒&#xD;&#xA;&#xD;&#xA;字母仅限英文半角，全角不可以">
                <Actions>
                  <Action OrderNumber="1" VariableOp="SetString" VariableName="ptuw_USpecJob" VariableExpression="${role}" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerId="358d174c-7807-4bdf-b6e3-f04b91cb9e72" TriggerForce="regexp" ActionType="Trigger" Asynchronous="False">
                    <Condition Enabled="false" Grouping="Or">
                      <ConditionSingle Enabled="false" ExpressionL="${ecallback:LatihasTUW}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                    </Condition>
                  </Action>
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="启用触发" Id="5017da27-4c73-467e-a35e-53c1b1984243" RegularExpression="">
                <Actions>
                  <Action OrderNumber="1" TriggerOp="EnableTrigger" TriggerId="c7b8d36e-82da-475f-ad90-f0316292bff9" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerOp="EnableTrigger" TriggerId="3f900d50-0154-451d-b1e1-c72f3e275e56" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" TriggerOp="EnableTrigger" TriggerId="dc9b92fe-c833-4758-8e3a-26e6c46d65ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="4" TriggerOp="EnableTrigger" TriggerId="cdd97bd8-22b3-4232-ab44-9578ba09e536" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="5" TriggerOp="EnableTrigger" TriggerId="14b6a6e9-2f9b-4cd5-a2c6-9e03ffe2f6b3" ActionType="Trigger" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="b0f62653-8cfc-4cba-bf61-34a14d0908e5" Name="P1风神" Enabled="true">
            <Folders>
              <Folder Id="55d5e981-c9ec-4f73-8b54-e1270aea21a9" Name="刺羽承伤" Enabled="true">
                <Folders />
                <Triggers>
                  <Trigger Enabled="true" Name="刺羽承伤记录" Id="91343fc9-e566-4dde-b535-5407c57dec90" RegularExpression="^.{14} (?:ActionEffect 15|AOEActionEffect 16):.{8}:(?&lt;sname&gt;[^:]+):(?&lt;jid&gt;[^:]+):(?&lt;jname&gt;[^:]+):.+:71878:0:10000">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1ciyudmg:${jid},${sname}[${jname}]" VariableOp="SetString" VariableName="tuw_刺羽_承伤" VariableExpression="${var:tuw_刺羽_承伤} | ${sname}[${jname}]" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="刺羽连线2层" Id="a66bfd7d-916b-44d0-8aa3-ff7da210bc36" RegularExpression="^.{14} StatusAdd 1A:5F5:[^:]+:9999.00:40.{6}:[^:]+:10.{6}:[^:]+:02:[^:]+:71878">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1ciyucs" VariableOp="SetNumeric" VariableName="tuw_刺羽层数" VariableExpression="${var:tuw_刺羽层数}+1" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="获取刺羽" Id="57a784a8-d7f2-4d9a-976c-4d24aa215921" RegularExpression="^.{14} AddCombatant 03:(?&lt;zid&gt;.{8}):.+:00::2091:8726:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1ciyu:${zid}" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="40c3dc0e-b741-45af-8095-f660ec18ce85" Name="风圈计时器" Enabled="true">
                <Folders />
                <Triggers />
              </Folder>
            </Folders>
            <Triggers>
              <Trigger Enabled="true" Name="P1时间轴" Id="760e97de-2040-4038-b54f-f08d04bc34ea" RegularExpression="^.{14} (?:\w+ )00:0044:(迦楼罗|Garuda|ガルーダ):(哈哈哈哈哈！ 你们这些蝼蚁只有被我的狂风吹散的下场|Heehee HAHA hahaha HEEHEE haha HEEEEEE!!!|無残に散れッ！)" PrevActionsRefire="Deny" PeriodRefire="Deny" Description="需要改快捷键要打开分组一个一个改 修改那个向最终幻想XIV发送的数字keycode&#xD;&#xA;下面是键位对应的keycode&#xD;&#xA;&#xD;&#xA;键码值(keyCode)&#xD;&#xA;A:65 B:66 C:67 D:68 E:69 F:70 G:71 H:72 I:73 J:74 K:75 L:76 M:77&#xD;&#xA;N:78 O:79 P:80 Q:81 R:82 S:83 T:84 U:85 V:86 W:87 X:88 Y:89 Z:90&#xD;&#xA;大键盘上的数字&#xD;&#xA;0:48 1:49 2:50 3:51 4:52 5:53 6:54 7:55 8:56 9:57&#xD;&#xA;小键盘上的数字&#xD;&#xA;0:96 1:97 2:98 3:99 4:100 5:101 6:102 7:103 8:104 9:105&#xD;&#xA;F1-F12&#xD;&#xA;F1:112 F2:113 F3:114 F4:115 F5:116 F6:117 F7:118 F8:l119 F9:120 F10:121 F11:122 F12:123">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段风神" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1place" TriggerId="adc7a596-943e-4567-aa7f-57d360dad1d8" TriggerForce="regexp,conditions" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="3" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1place" TriggerId="5017da27-4c73-467e-a35e-53c1b1984243" TriggerForce="regexp" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="4" UseTTSTextExpression="顺劈" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="5" UseTTSTextExpression="顺劈加死刑" ActionType="UseTTS" ExecutionDelayExpression="15000" Asynchronous="False" />
                  <Action OrderNumber="6" UseTTSTextExpression="躲羽毛" ActionType="UseTTS" ExecutionDelayExpression="14000" Asynchronous="False" Description="33" />
                  <Action OrderNumber="7" UseTTSTextExpression="AOE" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" Description="33" />
                  <Action OrderNumber="8" NamedCallbackName="command" NamedCallbackParam="/e 回场中" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="9" UseTTSTextExpression="ST消除" ActionType="UseTTS" ExecutionDelayExpression="7000" Asynchronous="False" Description="44" />
                  <Action OrderNumber="10" UseTTSTextExpression="远奶消除" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" Description="47" />
                  <Action OrderNumber="11" UseTTSTextExpression="远奶剩余三秒" UseTTSRateExpression="+10" ActionType="UseTTS" ExecutionDelayExpression="4500" Asynchronous="False" Description="47" />
                  <Action OrderNumber="12" SystemBeepLengthExpression="300" ExecutionDelayExpression="1000" Asynchronous="False" />
                  <Action OrderNumber="13" SystemBeepFreqExpression="1546.5" SystemBeepLengthExpression="300" ExecutionDelayExpression="1000" Asynchronous="False" />
                  <Action OrderNumber="14" SystemBeepFreqExpression="2046.5" SystemBeepLengthExpression="300" ExecutionDelayExpression="1000" Asynchronous="False" />
                  <Action OrderNumber="15" UseTTSTextExpression="近战消除" ActionType="UseTTS" ExecutionDelayExpression="500" Asynchronous="False" Description="56">
                    <Condition Enabled="false" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxivparty[${_ffxivplayer}].role}" ExpressionTypeL="String" ExpressionR="Healer" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="16" UseTTSTextExpression="躲羽毛" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="17" UseTTSTextExpression="AOE" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="18" NamedCallbackName="command" NamedCallbackParam="/e 回场中" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionGroup Enabled="true" Grouping="Or">
                        <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                      </ConditionGroup>
                    </Condition>
                  </Action>
                  <Action OrderNumber="19" UseTTSTextExpression="躲羽毛" ActionType="UseTTS" ExecutionDelayExpression="17000" Asynchronous="False" />
                  <Action OrderNumber="20" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1fs1" UseTTSTextExpression="躲羽毛" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="21" UseTTSTextExpression="双T去三四点挡风枪" ActionType="UseTTS" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="22" NamedCallbackName="command" NamedCallbackParam="/e 回场中" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="23" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1fshp1" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="24" UseTTSTextExpression="躲羽毛" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="25" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="6000" Asynchronous="False" />
                  <Action OrderNumber="26" NamedCallbackName="command" NamedCallbackParam="/e 回场中" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="27" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1fshp2" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="28" NamedCallbackName="LatihasTUW" NamedCallbackParam="p1fs2" UseTTSTextExpression="远T接线" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="3000" Asynchronous="False" />
                  <Action OrderNumber="29" UseTTSTextExpression="接线" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" />
                  <Action OrderNumber="30" UseTTSTextExpression="顺劈加死刑" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                  <Action OrderNumber="31" UseTTSTextExpression="躲羽毛" ActionType="UseTTS" ExecutionDelayExpression="7500" Asynchronous="False" />
                  <Action OrderNumber="32" UseTTSTextExpression="顺劈" ActionType="UseTTS" ExecutionDelayExpression="13000" Asynchronous="False" />
                  <Action OrderNumber="33" UseTTSTextExpression="钢铁月环" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="34" UseTTSTextExpression="分摊" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="35" UseTTSTextExpression="顺劈" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="48fb5203-8e0d-4fc0-966e-8d9e2f30c559" Name="P2火神" Enabled="true">
            <Folders>
              <Folder Id="410058e9-25ac-4e83-a665-90290022501c" Name="火柱承伤" Enabled="true">
                <Folders />
                <Triggers>
                  <Trigger Enabled="true" Name="柱子觉醒2层" Id="c951f74c-c834-43ed-a131-d745642f8934" RegularExpression="^.{14} StatusAdd 1A:609:[^:]+:9999.00:.{8}::(?&lt;zid&gt;.{8}):[^:]+:02:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2zhuzijx:${zid}" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="柱子承伤记录" Id="3d314fbf-3c3d-4821-b8ae-201988f067be" RegularExpression="^.{14} (?:ActionEffect 15|AOEActionEffect 16):.{8}:(?&lt;sname&gt;[^:]+):(?&lt;jid&gt;[^:]+):(?&lt;jname&gt;[^:]+):(?&lt;tid&gt;.{8}):.+:26870:0:10000">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2zhuzidmg:${jid},${sname}[${jname}],${tid}" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="获取柱子" Id="b48e4fa7-dbda-45fc-b2d8-a52dae295d82" RegularExpression="^.{14} AddCombatant 03:(?&lt;zid&gt;.{8}):.+:00::1186:8731:.+:10000:::(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2zhuzi:${zid},${x},${y}" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers>
              <Trigger Enabled="true" Sequential="True" Name="火神开场位置" Id="bee86050-0620-435c-aec3-632148a8e26d" RegularExpression="^.{14} 271 10F:(?&lt;id&gt;.{8}):[^:]+:00:00:(?&lt;x&gt;80.5|100.0|119.5)000:(?&lt;y&gt;80.5|100.0|119.5)000">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2hs:${id},${x},${y}" ActionType="NamedCallback" />
                </Actions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="火神开场" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="柱子开场位置async" Id="4606b77a-8f80-4fcf-aef1-ab2fcb203c73" RegularExpression="^.{14} 263 107:.{8}:2B61:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2safe:${x},${y}" ActionType="NamedCallback" />
                </Actions>
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="火神开场" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="P2时间轴" Id="69e8a4a2-bb8d-43b3-ad74-f9d6b2918b07" RegularExpression="^.{14} (?:\w+ )00:0044:(迦楼罗|Garuda|ガルーダ):(怎……怎么可能……区区蝼蚁……|My power... No...|お、おのれ……クソ虫がぁぁぁぁぁッ！！！)" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段火神" Enabled="False" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" VariableOp="SetString" VariableName="tuw_state" VariableExpression="火神开场" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="4" UseTTSTextExpression="开疾跑" ActionType="UseTTS" Asynchronous="False" />
                  <Action OrderNumber="5" UseTTSTextExpression="两次AOE" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="6" VariableOp="SetString" VariableName="tuw_state" VariableExpression="火神" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="7" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="8" UseTTSTextExpression="群盾防击退" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="9" UseTTSTextExpression="三连死刑后，MT挑衅" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="MT" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="10" UseTTSTextExpression="连线靠近，D3D4沿绿色点放置地火" UseTTSRateExpression="+2" ActionType="UseTTS" ExecutionDelayExpression="18000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="MT" ExpressionTypeR="String" ConditionType="StringNotEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="11" UseTTSTextExpression="拉近到三四柱中间" ActionType="UseTTS" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="MT" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="12" UseTTSTextExpression="AOE" ActionType="UseTTS" ExecutionDelayExpression="33000" Asynchronous="False" Description="44" />
                  <Action OrderNumber="13" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2zhuzi23" UseTTSTextExpression="AOE" TriggerId="d1f5a763-0462-4545-b79c-042df5c20e45" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" Description="44" />
                  <Action OrderNumber="14" UseTTSTextExpression="热风奶前往3点" UseTTSRateExpression="+2" ActionType="UseTTS" ExecutionDelayExpression="7000" Asynchronous="False" Description="56">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="H2" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="H1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="15" UseTTSTextExpression="引导地火" UseTTSRateExpression="+2" ActionType="UseTTS" Asynchronous="False" Description="56">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="D3" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="D4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="16" UseTTSTextExpression="十字冲" ActionType="UseTTS" ExecutionDelayExpression="14000" Asynchronous="False" />
                  <Action OrderNumber="17" UseTTSTextExpression="六人分摊" ActionType="UseTTS" ExecutionDelayExpression="12000" Asynchronous="False" />
                  <Action OrderNumber="18" UseTTSTextExpression="火神冲看本体" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="19" UseTTSTextExpression="三连死刑" ActionType="UseTTS" ExecutionDelayExpression="18000" Asynchronous="False" />
                  <Action OrderNumber="20" UseTTSTextExpression="赢导地火" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="21" UseTTSTextExpression="分摊" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="cdb7c89f-2205-437d-8a7b-7f844b5a528f" Name="P3土神" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Sequential="True" Name="泰坦上天播报" Id="42a0f330-efaa-4512-ae1f-0a14704f566b" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B66:" PeriodRefire="Deny" RefirePeriodExpression="100">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p3fly:${id}" ActionType="NamedCallback" ExecutionDelayExpression="100" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="上天后恢复标点" Id="835a8f6b-087a-4c47-a897-0b074e3aa530" RegularExpression=".{14} AOEActionEffect 16:.{8}:[^:]+:2B66:">
                <Actions>
                  <Action OrderNumber="1" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="泰坦打奶牢" Id="925266cf-a5cf-4d7d-856d-ba57175fa322" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2CB8:">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p3nl:${id}" ActionType="NamedCallback" />
                </Actions>
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="三桶后" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="三连桶点名标记async" Id="aefcd279-2f12-4ce4-95f3-694ebaf22845" RegularExpression="^.{14} ActionEffect 15:.{8}:[^:]+:2B6(?:B|C):[^:]+:.{8}:(?&lt;Name&gt;[^:]+):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p3threebucket:${Name}" ActionType="NamedCallback" />
                </Actions>
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="P3时间轴" Id="3a53e180-1f2d-4a99-97a8-1c65305ea404" RegularExpression="^.{14} (?:\w+ )00:0044:(伊弗利特|Ifrit|イフリート):(不共戴天……|The blessing of Light...defies me!?|不倶戴天……。)" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段土神" Enabled="False" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" TriggerOp="CancelTrigger" TriggerId="69e8a4a2-bb8d-43b3-ad74-f9d6b2918b07" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" TriggerOp="CancelTrigger" TriggerId="79e9018e-f963-491b-b1a2-a302437d6feb" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Tag:热风觉醒&#xD;&#xA;Action:Remove" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="5" VariableOp="SetString" VariableName="tuw_state" VariableExpression="土神" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="6" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="7" UseTTSTextExpression="贴边" UseTTSRateExpression="1" ActionType="UseTTS" Asynchronous="False" />
                  <Action OrderNumber="8" UseTTSTextExpression="群奶，法系捡碎片" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="3500" Asynchronous="False" />
                  <Action OrderNumber="9" UseTTSTextExpression="AOE" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="3500" Asynchronous="False" />
                  <Action OrderNumber="10" UseTTSTextExpression="死刑后，赢导流沙" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="10000" Asynchronous="False" />
                  <Action OrderNumber="11" UseTTSTextExpression="去反方向" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="13000" Asynchronous="False" />
                  <Action OrderNumber="12" UseTTSTextExpression="站石牢" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="15000" Asynchronous="False" Description="33" />
                  <Action OrderNumber="13" TriggerOp="DisableTrigger" TriggerId="cdd97bd8-22b3-4232-ab44-9578ba09e536" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="14" UseTTSTextExpression="连续AOE" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="10000" Asynchronous="False" Description="37" />
                  <Action OrderNumber="15" VariableOp="SetString" VariableName="tuw_state" VariableExpression="三桶后" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="16" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="17" UseTTSTextExpression="引导流沙" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" Description="44" />
                  <Action OrderNumber="18" UseTTSTextExpression="穿冲拳" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="7000" Asynchronous="False" Description="47" />
                  <Action OrderNumber="19" UseTTSTextExpression="去反方向" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" Description="56">
                    <Condition Enabled="false" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${_ffxivparty[${_ffxivplayer}].role}" ExpressionTypeL="String" ExpressionR="Healer" ExpressionTypeR="String" ConditionType="RegexMatch" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="20" UseTTSTextExpression="打石牢，穿冲拳" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="15000" Asynchronous="False" />
                  <Action OrderNumber="21" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="22" UseTTSTextExpression="连续AOE" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="13000" Asynchronous="False" />
                  <Action OrderNumber="23" UseTTSTextExpression="顺劈加死刑" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="24" NamedCallbackName="LatihasTUW" NamedCallbackParam="p3lb" UseTTSTextExpression="连续AOE" UseTTSRateExpression="1" ActionType="NamedCallback" ExecutionDelayExpression="3000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${var:tuw_lb}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericNotEqual" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="25" UseTTSTextExpression="掀桌后穿，靠近T" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" />
                  <Action OrderNumber="26" UseTTSTextExpression="引导流沙穿冲拳，贴边" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="27" UseTTSTextExpression="顺劈加死刑" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="17000" Asynchronous="False" />
                  <Action OrderNumber="28" UseTTSTextExpression="引导流沙三次" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="7000" Asynchronous="False" />
                  <Action OrderNumber="29" UseTTSTextExpression="连续aoe" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="一杆进洞左右async" Id="cdd97bd8-22b3-4232-ab44-9578ba09e536" RegularExpression="^.{14} AddCombatant 03:.{8}:.+:00::1803:8728:.+:10000:::(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p3ygjd:${x},${y}" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerId="deeb84f9-f33c-4204-b1d9-edc6f749ad85" TriggerForce="regexp,conditions" ActionType="Trigger" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="29924e9d-f3e1-42d7-acd0-275e04cbe19c" Name="P4转场123运" Enabled="true">
            <Folders>
              <Folder Id="e677c390-6b27-4006-b890-f6358e67d448" Name="1运" Enabled="true">
                <Folders />
                <Triggers>
                  <Trigger Enabled="true" Name="P4一运" Id="c58f12fe-ccc8-42f1-90e0-b6d59d3f41ef" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]*:2B76:" PrevActionsRefire="Deny" Scheduling="FromRefirePeriod" PeriodRefire="Deny" RefirePeriodExpression="120000">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段一运" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" UseTTSTextExpression="读条衣运" UseTTSRateExpression="1" ActionType="UseTTS" Asynchronous="False" />
                      <Action OrderNumber="3" VariableOp="SetString" VariableName="tuw_state" VariableExpression="一运" ActionType="Variable" Asynchronous="False" />
                      <Action OrderNumber="4" UseTTSTextExpression="开疾跑" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" />
                      <Action OrderNumber="5" ListVariableOp="Push" ListVariableName="tuw_1yun_safe" ListVariableExpression="W" NamedCallbackName="LatihasTUW" NamedCallbackParam="p41" VariableOp="SetString" VariableName="tuw_1yun_safe1" VariableExpression="左西" ActionType="NamedCallback" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="6" UseTTSTextExpression="躲地裂" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" Description="33" />
                      <Action OrderNumber="7" UseTTSTextExpression="贴边穿第四个字" UseTTSRateExpression="3" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" Description="37" />
                      <Action OrderNumber="8" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" Description="44" />
                      <Action OrderNumber="9" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="10" NamedCallbackName="LatihasTUW" NamedCallbackParam="clear2" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="11" NamedCallbackName="LatihasTUW" NamedCallbackParam="p41dihuo" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="12" UseTTSTextExpression="赢导地火" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="9500" Asynchronous="False" Description="47" />
                      <Action OrderNumber="13" UseTTSTextExpression="边缘贴贴" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="14000" Asynchronous="False" Description="56">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxivparty[${_ffxivplayer}].role}" ExpressionTypeL="String" ExpressionR="Healer" ExpressionTypeR="String" ConditionType="RegexMatch" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="14" UseTTSTextExpression="穿" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                      <Action OrderNumber="15" UseTTSTextExpression="连续aoe" UseTTSRateExpression="2" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                      <Action OrderNumber="16" UseTTSTextExpression="吸附炸弹 换t" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" />
                      <Action OrderNumber="17" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="6500" Asynchronous="False" />
                      <Action OrderNumber="18" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="4000" Asynchronous="False" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="光辉炎柱" Id="5c1e86a5-9504-43d5-a49f-dc615c263d25" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B7D:" PeriodRefire="Deny" RefirePeriodExpression="5000">
                    <Actions>
                      <Action OrderNumber="1" UseTTSTextExpression="地火准备" ActionType="UseTTS" Asynchronous="False" />
                      <Action OrderNumber="2" NamedCallbackName="LatihasTUW" NamedCallbackParam="p41place2" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="3" UseTTSTextExpression="3" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="4" UseTTSTextExpression="2" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="5" UseTTSTextExpression="1" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="6" UseTTSTextExpression="冲鸭" UseTTSRateExpression="-7" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="7" NamedCallbackName="LatihasTUW" NamedCallbackParam="clear2" ActionType="NamedCallback" Asynchronous="False" />
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="一运" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Sequential="True" Name="泰坦位置" Id="eafd8ce0-9ae3-4776-ad00-5eff8066019b" RegularExpression="^.{14} AddCombatant 03:.{8}:.+:00::1801:9020:.+:10000:::(?&lt;x&gt;[^:]+):86.30:" PeriodRefire="Deny" RefirePeriodExpression="50000">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p41taitan:${x}" VariableOp="SetString" VariableName="tuw_1yun_taitan" VariableExpression="右右右" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="000f0919-77dc-4921-9b95-e65c2400f55f" Name="3运" Enabled="true">
                <Folders>
                  <Folder Id="4c613522-6874-4bfe-9c97-60b9d91cc688" Name="3运播报" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Name="风枪播报async" Id="09219dd8-d0ca-48bd-9861-18c4c273c808" RegularExpression="^.{14} TargetIcon 1B:.{8}:(?&lt;RoleName&gt;[^:]+):0000:0000:0010">
                        <Actions>
                          <Action OrderNumber="1" ListVariableOp="Push" ListVariableName="tuw_3yun_bobao" ListVariableExpression="${RoleName}" NamedCallbackName="LatihasTUW" NamedCallbackParam="p43fq:${RoleName}" ActionType="NamedCallback" />
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="三运" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="地火播报async" Id="14b6a6e9-2f9b-4cd5-a2c6-9e03ffe2f6b3" RegularExpression="^.{14} 263 107:.{8}:2B5A:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p43dh:${x},${y}" ActionType="NamedCallback" />
                          <Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="14b6a6e9-2f9b-4cd5-a2c6-9e03ffe2f6b3" ActionType="Trigger" ExecutionDelayExpression="1000" />
                        </Actions>
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="三运" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="石牢" Id="539c6288-0c84-449e-82f4-04c88a0108d8" RegularExpression="^.{14} ActionEffect 15:.{8}:[^:]+:2B6(?:B|C):[^:]+:.{8}:(?&lt;Name&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="broadcast:石牢 ${Name}" ActionType="NamedCallback" />
                          <Action OrderNumber="2" UseTTSTextExpression="石牢石牢" UseTTSRateExpression="3" ActionType="UseTTS">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${RoleName}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" LogMessageText="[Latihas Tip] 石牢石牢:0:0:main" LogProcess="True" TriggerId="f1b2e1c2-86a2-4ba2-a85f-87a2b9547c6a" TriggerText="Tip_Subtitle:石牢石牢:0:0:main" ActionType="LogMessage">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${RoleName}" ExpressionTypeL="String" ExpressionR="${_ffxivplayer}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="三运" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                        </Condition>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="true" Name="P4三运" Id="b7047d44-de0c-462d-8a72-039af36b11b7" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]*:2D4D:" PrevActionsRefire="Deny" PeriodRefire="Deny">
                    <Actions>
                      <Action OrderNumber="1" TriggerOp="CancelTrigger" TriggerId="5b1cb2a5-5e24-4c8d-9617-0b44480ddab8" ActionType="Trigger" Asynchronous="False" />
                      <Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段三运" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" TriggerOp="EnableTrigger" TriggerId="1b7f564c-19fa-4332-8dd4-6b6f908ad124" ActionType="Trigger" Asynchronous="False" />
                      <Action OrderNumber="4" UseTTSTextExpression="读条三运，准备站位" UseTTSRateExpression="2" ActionType="UseTTS" Asynchronous="False" />
                      <Action OrderNumber="5" VariableOp="SetString" VariableName="tuw_state" VariableExpression="三运" ActionType="Variable" Asynchronous="False" />
                      <Action OrderNumber="6" NamedCallbackName="LatihasTUW" NamedCallbackParam="p43place" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="7" UseTTSTextExpression="看好点名" UseTTSRateExpression="2" ActionType="UseTTS" ExecutionDelayExpression="10000" Asynchronous="False" Description="3.15" />
                      <Action OrderNumber="8" JsonEndpointExpression="http://127.0.0.1:${var:标点工具监听端口}/place" JsonPayloadExpression="{&quot;A&quot;:{&quot;X&quot;:99.8104248,&quot;Y&quot;:0.0,&quot;Z&quot;:81.30746,&quot;ID&quot;:0,&quot;Active&quot;:true},&quot;B&quot;:{&quot;X&quot;:118.614006,&quot;Y&quot;:-9.536743E-07,&quot;Z&quot;:101.205719,&quot;ID&quot;:1,&quot;Active&quot;:true},&quot;C&quot;:{&quot;X&quot;:99.36147,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:118.309875,&quot;ID&quot;:2,&quot;Active&quot;:true},&quot;D&quot;:{&quot;X&quot;:81.8219,&quot;Y&quot;:-1.90734863E-06,&quot;Z&quot;:100.209518,&quot;ID&quot;:3,&quot;Active&quot;:true},&quot;One&quot;:{&quot;X&quot;:99.73788,&quot;Y&quot;:9.536743E-07,&quot;Z&quot;:100.647522,&quot;ID&quot;:4,&quot;Active&quot;:true},&quot;Two&quot;:{&quot;X&quot;:0.0,&quot;Y&quot;:0.0,&quot;Z&quot;:0.0,&quot;ID&quot;:5,&quot;Active&quot;:false}}" NamedCallbackName="LatihasTUW" NamedCallbackParam="initplace" TriggerId="eb30602e-1253-4f5e-8c5f-f10bb2319db3" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="1000" Asynchronous="False" />
                      <Action OrderNumber="9" UseTTSTextExpression="鸟叫完走" UseTTSRateExpression="3" ActionType="UseTTS" ExecutionDelayExpression="5000" Asynchronous="False" Description="3.21" />
                      <Action OrderNumber="10" UseTTSTextExpression="打石牢，躲羽毛，注意场边刚羽" UseTTSRateExpression="3" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" Description="3.24" />
                      <Action OrderNumber="11" UseTTSTextExpression="MT接线，穿冲拳分摊" UseTTSRateExpression="2" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" />
                      <Action OrderNumber="12" UseTTSTextExpression="群奶，躲羽毛" UseTTSRateExpression="2" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                      <Action OrderNumber="13" UseTTSTextExpression="坦克LB" UseTTSRateExpression="2" ActionType="UseTTS" ExecutionDelayExpression="10000" Asynchronous="False" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="潜地炮追踪" Id="d776f47d-e9bd-47ed-a2fe-c8b4974ec9d6" RegularExpression="^.{14} 264 108:.{8}:2B83:.{8}:1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="p43qdptrace:${x},${y}" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers>
              <Trigger Enabled="true" Name="转场拉哈布雷亚" Id="c9647608-627f-416b-a73b-dfa490b3f366" RegularExpression="^.{14} (?:\w+ )00:0044:(泰坦|Titan|タイタン):(我的……孩子们……终有一日……|Hie, my children, into the dark!|ぬぬぬぬ……無念……)" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" TriggerOp="CancelTrigger" TriggerId="3a53e180-1f2d-4a99-97a8-1c65305ea404" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="2" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段转场LB" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段本体" ActionType="NamedCallback" ExecutionDelayExpression="60000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="2运" Id="5b1cb2a5-5e24-4c8d-9617-0b44480ddab8" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]*:2D4C:">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 设置阶段二运" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="2" UseTTSTextExpression="读条二运，神兵左侧集合" UseTTSRateExpression="1" ActionType="UseTTS" Asynchronous="False" />
                  <Action OrderNumber="3" VariableOp="SetString" VariableName="tuw_state" VariableExpression="二运" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="4" UseTTSTextExpression="三连流沙，右左上" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="5" NamedCallbackName="LatihasTUW" NamedCallbackParam="p42place2" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="6" NamedCallbackName="LatihasTUW" NamedCallbackParam="p42place4d4" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="7" UseTTSTextExpression="D4接线" UseTTSRateExpression="1" ActionType="UseTTS" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionGroup Enabled="true" Grouping="Or">
                        <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="d4" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                      </ConditionGroup>
                    </Condition>
                  </Action>
                  <Action OrderNumber="8" UseTTSTextExpression="去四点" UseTTSRateExpression="1" ActionType="UseTTS" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="d4" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="9" UseTTSTextExpression="热风奶接线" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionGroup Enabled="true" Grouping="Or">
                        <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="h1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="h2" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                      </ConditionGroup>
                    </Condition>
                  </Action>
                  <Action OrderNumber="10" NamedCallbackName="LatihasTUW" NamedCallbackParam="p42place2rf" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="11" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="10000" Asynchronous="False" />
                  <Action OrderNumber="12" UseTTSTextExpression="穿冲拳" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="7500" Asynchronous="False" />
                  <Action OrderNumber="13" NamedCallbackName="LatihasTUW" NamedCallbackParam="p42hs" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="14" UseTTSTextExpression="热风奶去4点躲避" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="2000" Asynchronous="False">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="h1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                      <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="h2" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="15" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="16" UseTTSTextExpression="穿台风眼" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="21000" Asynchronous="False" />
                  <Action OrderNumber="17" UseTTSTextExpression="顺劈" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="18" UseTTSTextExpression="二仇炮，待毁有击退" UseTTSRateExpression="3" ActionType="UseTTS" ExecutionDelayExpression="8000" Asynchronous="False" />
                  <Action OrderNumber="19" UseTTSTextExpression="顺劈" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="196750fc-0939-4cb8-806c-10d978d90706" Name="P5家长会" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="火风土" Id="3f900d50-0154-451d-b1e1-c72f3e275e56" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]+:2CD4:" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" TriggerOp="DisableTrigger" TriggerId="c7b8d36e-82da-475f-ad90-f0316292bff9" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="dc9b92fe-c833-4758-8e3a-26e6c46d65ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" UseTTSTextExpression="火风土，开疾跑" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="4" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="6000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="5" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="6" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="5000" Asynchronous="False" />
                  <Action OrderNumber="7" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="8" UseTTSTextExpression="从侧边穿钢铁月环，去3点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="9" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh3" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="10" UseTTSTextExpression="穿穿穿" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="5500" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="11" UseTTSTextExpression="等羽毛，回A点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="12" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="13" UseTTSTextExpression="三连流沙" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="1500" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="14" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="15" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="16" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False" />
                  <Action OrderNumber="17" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="18" UseTTSTextExpression="群盾团减" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" RefireInterrupt="True" />
                </Actions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="家长会" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="土火风" Id="dc9b92fe-c833-4758-8e3a-26e6c46d65ea" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]+:2CD5:" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" TriggerOp="DisableTrigger" TriggerId="c7b8d36e-82da-475f-ad90-f0316292bff9" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="3f900d50-0154-451d-b1e1-c72f3e275e56" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" UseTTSTextExpression="土火风，三连流沙" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="4" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="5" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="2000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="6" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="3000" Asynchronous="False" />
                  <Action OrderNumber="7" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="8" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="9" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="10" UseTTSTextExpression="群盾团减" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="11" UseTTSTextExpression="回A点放地火" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="12000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="12" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="13" UseTTSTextExpression="开疾跑" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="7000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="14" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="2500" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="15" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="16" UseTTSTextExpression="从侧边穿钢铁月环,去3点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="16500" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="17" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh3" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="18" UseTTSTextExpression="穿穿穿" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="6500" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="19" UseTTSTextExpression="躲羽毛" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="11500" Asynchronous="False" RefireInterrupt="True" />
                </Actions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="家长会" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="P5三神家长会" Id="be2678de-9a92-49e9-ace8-d270d89d2852" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]+:2B88:" PrevActionsRefire="Deny" PeriodRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" VariableOp="SetString" VariableName="tuw_state" VariableExpression="家长会" ActionType="Variable" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="2" TriggerOp="CancelTrigger" TriggerId="b7047d44-de0c-462d-8a72-039af36b11b7" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" NamedCallbackName="LatihasTUW" NamedCallbackParam="p42place2" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="4" UseTTSTextExpression="站位撞球" UseTTSRateExpression="2" ActionType="UseTTS" Asynchronous="False" />
                  <Action OrderNumber="5" UseTTSTextExpression="A点集合" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                  <Action OrderNumber="6" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="7" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[BNpcID=8734].address},0.5" ActionType="NamedCallback" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="风火土" Id="c7b8d36e-82da-475f-ad90-f0316292bff9" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]+:2CD3:" PrevActionsRefire="Deny">
                <Actions>
                  <Action OrderNumber="1" TriggerOp="DisableTrigger" TriggerId="3f900d50-0154-451d-b1e1-c72f3e275e56" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="dc9b92fe-c833-4758-8e3a-26e6c46d65ea" ActionType="Trigger" Asynchronous="False" />
                  <Action OrderNumber="3" UseTTSTextExpression="风火土，从侧边穿钢铁月环，去3点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="4" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh3" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="5" UseTTSTextExpression="穿穿穿" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="6" UseTTSTextExpression="躲羽毛，回A点，放地火" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="11500" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="7" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="8" UseTTSTextExpression="火神开疾跑" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="3500" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="9" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="2500" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="10" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="11" UseTTSTextExpression="原地不动" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="6500" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="12" UseTTSTextExpression="三连流沙" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="9000" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="13" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="14" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" Asynchronous="False" />
                  <Action OrderNumber="15" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzh2" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="16" UseTTSTextExpression="去2点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                  <Action OrderNumber="17" UseTTSTextExpression="群盾团减" UseTTSRateExpression="4" ActionType="UseTTS" ExecutionDelayExpression="3000" Asynchronous="False" RefireInterrupt="True" Description="16.5s" />
                  <Action OrderNumber="18" NamedCallbackName="LatihasTUW" NamedCallbackParam="jzhA" TriggerId="0cd509ba-d3cd-4970-bcf0-c4613d36971e" TriggerForce="regexp" ActionType="NamedCallback" ExecutionDelayExpression="1000" Asynchronous="False" />
                  <Action OrderNumber="19" UseTTSTextExpression="去A点" UseTTSRateExpression="4" ActionType="UseTTS" Asynchronous="False" RefireInterrupt="True" />
                </Actions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${var:tuw_state}" ExpressionTypeL="String" ExpressionR="家长会" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                </Condition>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="e66cb351-5246-4dcd-bcb7-857374da3164" Name="通用机制" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="热风" Id="9762649e-2515-47c1-a528-dbf3f87be745" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B5B:[^:]+:.{8}:(?&lt;RoleName&gt;[^:]+):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="rf:${RoleName}" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="吸附炸弹" Id="5e316cfd-d573-4ae3-884d-cad526ed42f8" RegularExpression="^.{14} StatusAdd 1A:5FC:[^:]+:(?&lt;time&gt;[^:]+):" PeriodRefire="Deny" RefirePeriodExpression="3000">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="xfzd:${time}" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="究极，坦克LB3" Id="6f21bed9-5cf9-4f44-998d-57f725aea785" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B8B:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="坦克LB3" UseTTSRateExpression="" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="火神冲播报" Id="eaf6c470-647e-46a4-ad57-a5ab9cceb8a8" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B5F:" PeriodRefire="Deny" RefirePeriodExpression="200">
                <Actions>
                  <Action OrderNumber="1" SystemBeepFreqExpression="2000" SystemBeepLengthExpression="300" UseTTSTextExpression="冲冲冲" ExecutionDelayExpression="2000" Asynchronous="False" />
                  <Action OrderNumber="2" UseTTSTextExpression="冲冲冲" UseTTSRateExpression="1" Enabled="False" ActionType="UseTTS" ExecutionDelayExpression="1000" Asynchronous="False" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="以太波动" Id="417d5c2b-76af-4322-acaf-4bfbe87a27b8" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B88:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="站位，坦克LB1" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="爆雷刷新" Id="d4fea9c1-bc5c-4359-bacb-a251abc36a16" RegularExpression="^.{14} AddCombatant 03:.{8}:.+:00::2138:8735">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="准备撞球" UseTTSRateExpression="1" ActionType="UseTTS" />
                </Actions>
                <Condition Enabled="false" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${_ffxivparty[${_ffxivplayer}].role}" ExpressionTypeL="String" ExpressionR="Tank" ExpressionTypeR="String" ConditionType="RegexMatch" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="魔导核爆" Id="fc1f6554-0ee0-4bed-8bb9-90f29cff199d" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B87:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="核爆减伤" UseTTSRateExpression="1" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="觉醒" Id="ca11ff53-1e68-4fad-aa1a-3c76ad9c7c77" RegularExpression="^.{14} StatusAdd 1A:5F9:[^:]+:9999.00:E0000000::(?&lt;id&gt;.{8}):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="broadcast:已觉醒" ActionType="NamedCallback" />
                  <Action OrderNumber="2" NamedCallbackName="LatihasTUW" NamedCallbackParam="p2hsjx:${id}" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="法系LB" Id="539299ac-5e82-47d8-8f22-a4cff1a6dc5d" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B72:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="法系LB" UseTTSRateExpression="-4" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="奶妈LB" Id="6af15053-6e6d-4a89-8a46-fad2d1fc44cc" RegularExpression="^.{14} StatusRemove 1E:30F:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="奶妈LB" UseTTSRateExpression="-4" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="近战LB" Id="cc177113-1ff5-42b5-83be-335a738ecec3" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B74:">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="近战LB" UseTTSRateExpression="-4" ActionType="UseTTS" ExecutionDelayExpression="2000" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="诱导射线-二仇炮" Id="9c4323ba-d1ed-46ae-9acd-12b096ee5b56" RegularExpression="^.{14} StartsCasting 14:.{8}:[^:]+:2B7B:">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="LatihasTUW" NamedCallbackParam="ydsx" UseTTSTextExpression="二仇炮" UseTTSRateExpression="1" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="死亡" Id="9a0e9cfe-e85b-42df-8b35-ae51fb7cfa00" RegularExpression="^.{14} Death 19:(?&lt;id&gt;40.{6}):">
                <Actions>
                  <Action OrderNumber="1" JsonEndpointExpression="http://127.0.0.1:${var:鲶鱼精邮差监听端口}/command" JsonPayloadExpression="/p 刺羽被打倒 承伤: ${var:刺羽_承伤}" NamedCallbackName="LatihasTUW" NamedCallbackParam="death:${id}" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="爆发药监控" Id="7f6680b5-f624-42ce-a68f-cba24c5ed357" RegularExpression="^.{14} StatusAdd 1A:31:[^:]+:[^:]+:.{8}:[^:]+:.{8}:(?&lt;id&gt;[^:]+):">
                <Actions>
                  <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 爆发药:${id}" ActionType="NamedCallback" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="c1563286-5dd0-4fec-94c6-760302bf5f70" Name="回调" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="回调解析TTS" Id="0f35e672-c4e7-4b19-aeb7-69563467b682" RegularExpression="^\[Latihas TTS\] (?&lt;tts&gt;.+)$">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="${tts}" ActionType="UseTTS" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Source="ACT" Name="回调注入" Id="358d174c-7807-4bdf-b6e3-f04b91cb9e72" RegularExpression="">
                <Actions>
                  <Action OrderNumber="1" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Numerics;&#xD;&#xA;using System.Text;&#xD;&#xA;using System.Threading.Tasks;&#xD;&#xA;using Triggernometry;&#xD;&#xA;using Triggernometry.PluginBridges;&#xD;&#xA;using static Triggernometry.Action.ActionTypeEnum;&#xD;&#xA;using static Triggernometry.Entity.RoleType;&#xD;&#xA;using static Triggernometry.Interpreter.StaticHelpers;&#xD;&#xA;using static Triggernometry.RealPlugin;&#xD;&#xA;using Action = Triggernometry.Action;&#xD;&#xA;&#xD;&#xA;plug.UnregisterNamedCallback(&quot;LatihasTUW&quot;);&#xD;&#xA;plug.RegisterNamedCallback(&quot;LatihasTUW&quot;, new Action&lt;object, string&gt;(LatihasTUW.Callback), null);&#xD;&#xA; &#xD;&#xA;&#xD;&#xA;public static class LatihasTUW {&#xD;&#xA; private static string MyJob, MyName, hs, ttsafe, hsadd;&#xD;&#xA; private static bool Ubroadcast, Uthreebucket,Uauto,Umarklocal,Umark,Utarget;&#xD;&#xA; private static Vector2 Zhuzi2;&#xD;&#xA; private static Ciyu ciyu;&#xD;&#xA; private static List&lt;DHP43&gt; p43dhDist = new();&#xD;&#xA; private static int p43dhCount;&#xD;&#xA; private static readonly Player[] Players = new Player[8];&#xD;&#xA; private static readonly List&lt;string&gt; P43PlayerName = new();&#xD;&#xA; private static readonly List&lt;Player&gt; Threebuckets = new();&#xD;&#xA; private static readonly Trigger _tri = new();&#xD;&#xA; private static readonly List&lt;Zhuzi&gt; Zhuzis = new();&#xD;&#xA; private static readonly string[] JobOrder = { &quot;MT&quot;, &quot;ST&quot;, &quot;H1&quot;, &quot;H2&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot; },&#xD;&#xA;  TBJobOrder = { &quot;MT&quot;, &quot;ST&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot;, &quot;H1&quot;, &quot;H2&quot; },&#xD;&#xA;  Server = {&#xD;&#xA;   &quot;红玉海&quot;, &quot;神意之地&quot;, &quot;拉诺西亚&quot;, &quot;幻影群岛&quot;, &quot;萌芽池&quot;, &quot;宇宙和音&quot;, &quot;沃仙曦染&quot;, &quot;晨曦王座&quot;, &quot;白银乡&quot;, &quot;白金幻象&quot;, &quot;神拳痕&quot;, &quot;潮风亭&quot;, &quot;旅人栈桥&quot;, &quot;拂晓之间&quot;,&#xD;&#xA;   &quot;龙巢神殿&quot;, &quot;梦羽宝境&quot;, &quot;紫水栈桥&quot;, &quot;延夏&quot;, &quot;静语庄园&quot;, &quot;摩杜纳&quot;, &quot;海猫茶屋&quot;, &quot;柔风海湾&quot;, &quot;琥珀原&quot;, &quot;水晶塔&quot;, &quot;银泪湖&quot;, &quot;伊修加德&quot;, &quot;太阳海岸&quot;, &quot;红茶川&quot;, &quot;Anima&quot;,&#xD;&#xA;   &quot;Belias&quot;, &quot;Chocobo&quot;, &quot;Hades&quot;, &quot;Ixion&quot;, &quot;Mandragora&quot;, &quot;Masamune&quot;, &quot;Pandaemonium&quot;, &quot;Shinryu&quot;, &quot;Titan&quot;, &quot;Asura&quot;&#xD;&#xA;  };&#xD;&#xA;&#xD;&#xA; private static void Place(string expr) {&#xD;&#xA;  try {&#xD;&#xA;   var sb = new StringBuilder(&quot;{&quot;);&#xD;&#xA;   foreach (var s in expr.Split(';')) {&#xD;&#xA;    var parts = s.Split(':');&#xD;&#xA;    var name = parts[0] switch {&#xD;&#xA;     &quot;1&quot; =&gt; &quot;One&quot;,&#xD;&#xA;     &quot;2&quot; =&gt; &quot;Two&quot;,&#xD;&#xA;     &quot;3&quot; =&gt; &quot;Three&quot;,&#xD;&#xA;     &quot;4&quot; =&gt; &quot;Four&quot;,&#xD;&#xA;     _ =&gt; parts[0]&#xD;&#xA;    };&#xD;&#xA;    if (parts[1] == &quot;clear&quot;)&#xD;&#xA;     sb.Append($&quot;\&quot;{name}\&quot;:{{}},&quot;);&#xD;&#xA;    else {&#xD;&#xA;     var xy = parts[1].Split(',');&#xD;&#xA;     sb.Append($&quot;\&quot;{name}\&quot;:{{\&quot;X\&quot;:{xy[0]},\&quot;Z\&quot;:{xy[1]},\&quot;Y\&quot;:0,\&quot;Active\&quot;:true}},&quot;);&#xD;&#xA;    }&#xD;&#xA;   }&#xD;&#xA;   plug.InvokeNamedCallback(&quot;place&quot;, sb.Append(&quot;}&quot;).ToString());&#xD;&#xA;  }&#xD;&#xA;  catch (Exception ex) {&#xD;&#xA;   Log($&quot;Place Error({expr}):{ex.StackTrace}&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; public static void Callback(object _, string str) {&#xD;&#xA;  try {&#xD;&#xA;   var ss = str.Split(':');&#xD;&#xA;   switch (ss[0].ToLower()) {&#xD;&#xA;    case &quot;initplace&quot;: //v&#xD;&#xA;     Place(StaticPlace.initPlace);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;broadcast&quot;: //str&#xD;&#xA;     Broadcast(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;tts&quot;: //str&#xD;&#xA;     PostTTS(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;ydsx&quot;:&#xD;&#xA;     ydsx();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;Target&quot;:&#xD;&#xA;     Target(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;rf&quot;: //str:name&#xD;&#xA;     rf(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;xfzd&quot;: //time&#xD;&#xA;     xfzd(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;clear2&quot;: //time&#xD;&#xA;     Place(StaticPlace.clear2);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;death&quot;: //id&#xD;&#xA;     Death(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p0init&quot;: //str:job&#xD;&#xA;     if (str.Contains(&quot;:&quot;)) {&#xD;&#xA;      var tmp = ss[1].Split(',')[0].ToUpper();&#xD;&#xA;      if (JobOrder.All(j =&gt; j != tmp)) {&#xD;&#xA;       if (tmp == Tank.ToString().ToUpper()) MyJob = &quot;MT&quot;;&#xD;&#xA;       if (tmp == PureHealer.ToString().ToUpper()) MyJob = &quot;H1&quot;;&#xD;&#xA;       if (tmp == BarrierHealer.ToString().ToUpper()) MyJob = &quot;H2&quot;;&#xD;&#xA;       if (tmp == StrengthMelee.ToString().ToUpper()) MyJob = &quot;D1&quot;;&#xD;&#xA;       if (tmp == DexterityMelee.ToString().ToUpper()) MyJob = &quot;D2&quot;;&#xD;&#xA;       if (tmp == PhysicalRanged.ToString().ToUpper()) MyJob = &quot;D3&quot;;&#xD;&#xA;       if (tmp == MagicalRanged.ToString().ToUpper()) MyJob = &quot;D4&quot;;&#xD;&#xA;      }&#xD;&#xA;      else MyJob = tmp;&#xD;&#xA;      GetPartyOrderInit(ss[1]);&#xD;&#xA;     }&#xD;&#xA;     else if (MyJob != null) {&#xD;&#xA;      InitParams();&#xD;&#xA;      PostTip($&quot;已使用{MyJob}进行初始化&quot;);&#xD;&#xA;     }&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1place&quot;: //void&#xD;&#xA;     InitParams();&#xD;&#xA;     Place(StaticPlace.initPlace);&#xD;&#xA;     Place(StaticPlace.clear2);&#xD;&#xA;     Place(StaticPlace.clear3);&#xD;&#xA;     Place(StaticPlace.clear4);&#xD;&#xA;     if (MyJob == null) PostTTS(&quot;未设置职业，请检查设置。&quot;);&#xD;&#xA;     if (Ubroadcast) Broadcast(&quot;已开启团队播报，请注意不要冲突&quot;);&#xD;&#xA;     if (Uthreebucket) Broadcast(&quot;已开启三桶播报，请注意不要冲突&quot;);&#xD;&#xA;     if (Uauto)Broadcast(&quot;已开启全自动打印移动坐标，如不需要使用请关闭。&quot;);&#xD;&#xA;     if (Umark&amp;&amp;Umarklocal)Broadcast(&quot;已启用本地标记。&quot;);&#xD;&#xA;     if (Umark&amp;&amp;!Umarklocal)Broadcast(&quot;已启用小队可见标记。&quot;);&#xD;&#xA;     &#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1ciyu&quot;: //str&#xD;&#xA;     lock (ciyu) { ciyu.zid = ss[1]; }&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1ciyudmg&quot;: //jid,desc&#xD;&#xA;     var sx = ss[1].Split(',');&#xD;&#xA;     if (sx[0] is &quot;2B45&quot; or &quot;2B46&quot;) break;&#xD;&#xA;     lock (ciyu) { ciyu.dmg.Add(sx[1]); }&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1ciyucs&quot;: //void&#xD;&#xA;     lock (ciyu) { ciyu.cs2 = true; }&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1fshp1&quot;: //void&#xD;&#xA;     p1fshp();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1fshp2&quot;: //void&#xD;&#xA;     p1fshp(false);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1fs1&quot;: //void&#xD;&#xA;     var es = GetXYFromBnpcid(&quot;8723&quot;);&#xD;&#xA;     if (es.Count == 2) {&#xD;&#xA;      var fs1 = GetDir(es[0]);&#xD;&#xA;      var fs2 = GetDir(es[1]);&#xD;&#xA;      PostTTS($&quot;{fs1},{fs2}&quot;);&#xD;&#xA;      FsPlaceByRule(fs1, fs2);&#xD;&#xA;     }&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p1fs2&quot;: //void&#xD;&#xA;     const string fs3 = &quot;左西&quot;;&#xD;&#xA;     const string fs4 = &quot;右东&quot;;&#xD;&#xA;     PostTTS($&quot;{fs3},{fs4}&quot;);&#xD;&#xA;     FsPlace(fs3, fs4);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2hs&quot;: //id,x,y&#xD;&#xA;     p2hs(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2safe&quot;: //x,y&#xD;&#xA;     p2safe(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2zhuzi&quot;: //id,x,y&#xD;&#xA;     p2zhuzi(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2zhuzidmg&quot;: //jid,desc&#xD;&#xA;     p2zhuzidmg(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2zhuzijx&quot;: //id&#xD;&#xA;     p2zhuzijx(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2zhuzi23&quot;: //vois&#xD;&#xA;     p2zhuzi23();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p2hsjx&quot;: //id&#xD;&#xA;     p2hsjx(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p3threebucket&quot;: //name&#xD;&#xA;     ThreeBucket(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p3fly&quot;: //id&#xD;&#xA;     p3fly(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p3ygjd&quot;: //x,y&#xD;&#xA;     NEWp3ygjd(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p3nl&quot;: //id&#xD;&#xA;     p3nl(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p3lb&quot;:&#xD;&#xA;     p3lb();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p41&quot;: //void&#xD;&#xA;     p41();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p41dihuo&quot;:&#xD;&#xA;     p41dihuo();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p41taitan&quot;: //x&#xD;&#xA;     p41taitan(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p41place2&quot;: //void&#xD;&#xA;     Place(StaticPlace.p41place2);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p42hs&quot;: //void&#xD;&#xA;     p42hs();&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p42place2&quot;: //void&#xD;&#xA;     Place(StaticPlace.p42place2);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p42place4d4&quot;: //void&#xD;&#xA;     Place(StaticPlace.p42place4d4);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p42place2rf&quot;: //void&#xD;&#xA;     Place(StaticPlace.p42place2rf);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p43place&quot;: //void&#xD;&#xA;     Place(StaticPlace.startp43);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p43dh&quot;: //xy&#xD;&#xA;     p43dh(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p43fq&quot;: //name&#xD;&#xA;     p43dh_fq(ss[1], &quot;风枪&quot;);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;p43qdptrace&quot;: //xy&#xD;&#xA;     p43qdptrace(ss[1]);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;jzha&quot;: //void&#xD;&#xA;     Place(StaticPlace.p5jzhA);&#xD;&#xA;     Broadcast(&quot;A点&quot;, true);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;jzh2&quot;: //void&#xD;&#xA;     Place(StaticPlace.p5jzh2);&#xD;&#xA;     Broadcast(&quot;2点&quot;, true);&#xD;&#xA;     break;&#xD;&#xA;    case &quot;jzh3&quot;: //void&#xD;&#xA;     Place(StaticPlace.p5jzh3);&#xD;&#xA;     Broadcast(&quot;3点&quot;, true);&#xD;&#xA;     break;&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA;  catch (Exception e) {&#xD;&#xA;   Log($&quot;Error: {str}&quot;);&#xD;&#xA;   Log(e.StackTrace);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2hsjx(string id) {&#xD;&#xA;  var e = BridgeFFXIV.GetIdEntity(id);&#xD;&#xA;  if (e.GetValue(&quot;bnpcid&quot;).ToString() == &quot;8730&quot;) hsadd = e.GetValue(&quot;address&quot;).ToString();&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p3lb() {&#xD;&#xA;  BelowHP(&quot;8727&quot;, 0.15, &quot;请注意土神血量和LB槽&lt;se.6&gt;&quot;, &quot;stop2&quot;);&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; private static void markerBelowHPtarget(string marker, double percent, string hexid) {&#xD;&#xA;  foreach (var en in BridgeFFXIV.GetAllEntities().Where(x =&gt; x.GetValue(&quot;Marker&quot;).ToString() == marker)) {&#xD;&#xA;   bool isLowHp = 1.0 * int.Parse(en.GetValue(&quot;currenthp&quot;).ToString()) / int.Parse(en.GetValue(&quot;maxhp&quot;).ToString()) &lt; percent;&#xD;&#xA;   bool hasLowStack = int.Parse(en.GetValue(&quot;StatusStack(609)&quot;).ToString()) &lt;= 1;&#xD;&#xA;   if (!(isLowHp &amp;&amp; hasLowStack)) return;&#xD;&#xA;   if(Utarget)Target(hexid); &#xD;&#xA;   return;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; private static void Newp2FindTargetzhuzi(int a1, int a2, int a3, int a4)&#xD;&#xA; {&#xD;&#xA;  if (MyJob is not (&quot;D1&quot; or &quot;D2&quot; or &quot;D3&quot; or &quot;D4&quot;))&#xD;&#xA;   return;&#xD;&#xA;&#xD;&#xA;  // 根据传入的 a1, a2, a3, a4 和 job 判断 Zhuzis 的索引&#xD;&#xA;  int targetIndex = -1;&#xD;&#xA;  switch (MyJob)&#xD;&#xA;  {&#xD;&#xA;   case &quot;D1&quot;:&#xD;&#xA;    targetIndex = a1;&#xD;&#xA;    break;&#xD;&#xA;   case &quot;D2&quot;:&#xD;&#xA;    targetIndex = a2;&#xD;&#xA;    break;&#xD;&#xA;   case &quot;D3&quot;:&#xD;&#xA;    targetIndex = a3;&#xD;&#xA;    break;&#xD;&#xA;   case &quot;D4&quot;:&#xD;&#xA;    targetIndex = a4;&#xD;&#xA;    break;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  if (targetIndex == -1 || targetIndex &gt;= Zhuzis.Count)&#xD;&#xA;   return;&#xD;&#xA;  var targetZid = Zhuzis[targetIndex].zid;&#xD;&#xA;  if(Utarget)Target(targetZid);&#xD;&#xA;  if(Utarget)PostTip($&quot;已切换目标&quot;);&#xD;&#xA;  string hex火神Id = FindTargetHexIdByBnpcId(&quot;8730&quot;);&#xD;&#xA;  if(Utarget)markerBelowHPtarget(targetZid, 0.4, hex火神Id);&#xD;&#xA; &#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static void BelowHP(string bnpcid, double percent, string desc, string marktype) {&#xD;&#xA;  foreach (var en in BridgeFFXIV.GetAllEntities().Where(x =&gt; x.GetValue(&quot;bnpcid&quot;).ToString() == bnpcid)) {&#xD;&#xA;   if (!(1.0 * int.Parse(en.GetValue(&quot;currenthp&quot;).ToString()) / int.Parse(en.GetValue(&quot;maxhp&quot;).ToString()) &lt; percent)) return;&#xD;&#xA;   Broadcast(desc, true);&#xD;&#xA;   if (!Umarklocal&amp;&amp;Umark)Mark(en.GetValue(&quot;id&quot;), marktype);&#xD;&#xA;   return;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void Mark(object hexId, string marktype) {&#xD;&#xA;  if (Umarklocal&amp;&amp;Umark) plug.InvokeNamedCallback(&quot;mark&quot;, $&quot;{{\&quot;ActorID\&quot;:0x{hexId},\&quot;MarkType\&quot;:\&quot;{marktype}\&quot;,\&quot;LocalOnly\&quot;:\&quot;True\&quot;}}&quot;);&#xD;&#xA;  if (!Umarklocal&amp;&amp;Umark) plug.InvokeNamedCallback(&quot;mark&quot;, $&quot;{{\&quot;ActorID\&quot;:0x{hexId},\&quot;MarkType\&quot;:\&quot;{marktype}\&quot;}}&quot;);&#xD;&#xA; }&#xD;&#xA; private static void Target(object hexId) {&#xD;&#xA;  if(Utarget)plug.InvokeNamedCallback(&quot;Target&quot;, $&quot;{{\&quot;ActorID\&quot;:0x{hexId}}}&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static string FindTargetHexIdByBnpcId(string targetBnpcId)&#xD;&#xA; {&#xD;&#xA;  foreach (var entity in BridgeFFXIV.GetAllEntities())&#xD;&#xA;  {&#xD;&#xA;   var bnpcid = entity.GetValue(&quot;bnpcid&quot;)?.ToString();&#xD;&#xA;   var isTargetable = entity.GetValue(&quot;IsTargetable&quot;)?.ToString();&#xD;&#xA;&#xD;&#xA;   if (bnpcid == targetBnpcId &amp;&amp; isTargetable == &quot;1&quot;)&#xD;&#xA;   {&#xD;&#xA;    return entity.GetValue(&quot;id&quot;)?.ToString(); // 返回 hexid&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  return null; // 未找到符合条件的实体&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p1fshp(bool first = true) {&#xD;&#xA;  if (first) BelowHP(&quot;8722&quot;, 0.15, &quot;请注意风神血量&lt;se.6&gt;&quot;, &quot;stop1&quot;);&#xD;&#xA;  else BelowHP(&quot;8722&quot;, 0.08, &quot;请注意风神血量&lt;se.6&gt;&quot;, &quot;stop2&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void Death(string id) {&#xD;&#xA;  foreach (var z in Zhuzis.Where(z =&gt; z.zid == id &amp;&amp; !z.cs2)) {&#xD;&#xA;   Broadcast($&quot;柱炸:{string.Join(&quot;&quot;, z.dmg)}&quot;);&#xD;&#xA;   break;&#xD;&#xA;  }&#xD;&#xA;  lock (ciyu) {&#xD;&#xA;   if (id == ciyu.zid &amp;&amp; !ciyu.cs2) Broadcast($&quot;羽炸:{string.Join(&quot;&quot;, ciyu.dmg)}&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p43qdptrace(string xy) {&#xD;&#xA;  var pos = GetXY(xy);&#xD;&#xA;  Place($&quot;2:{pos.X},{pos.Y}&quot;);&#xD;&#xA;  if (pos is { X: &gt; 100, Y: &gt; 100 }) Broadcast(&quot;警告，潜地炮位置出现在右下&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void xfzd(string time) {&#xD;&#xA;  Task.Run(async delegate {&#xD;&#xA;   await Task.Delay(((int)float.Parse(time) - 3) * 1000);&#xD;&#xA;   PostTTS(&quot;准备爆炸&quot;);&#xD;&#xA;  });&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p3nl(string id) {&#xD;&#xA;  Broadcast(&quot;优先攻击石牢&quot;);&#xD;&#xA;  Mark(id, &quot;attack1&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void rf(string name) {&#xD;&#xA;  var HDead = false;&#xD;&#xA;  foreach (var p in Players) {&#xD;&#xA;   if (BridgeFFXIV.GetNamedPartyMember(p.name).GetValue(&quot;currenthp&quot;).ToString() == &quot;0&quot; &amp;&amp; p.job is &quot;H1&quot; or &quot;H2&quot;) {&#xD;&#xA;    Log(&quot;Dead: &quot; + p.name);&#xD;&#xA;    HDead = true;&#xD;&#xA;   }&#xD;&#xA;   if (p.name != name || MyName != name) continue;&#xD;&#xA;   PostTip(&quot;热风点你，快出去！&quot;);&#xD;&#xA;  }&#xD;&#xA;  if (HDead) Broadcast(&quot;奶死亡，热风注意出人群&quot;, true);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void ydsx() {&#xD;&#xA;  var TDead = false;&#xD;&#xA;  foreach (var p in Players) {&#xD;&#xA;   if (BridgeFFXIV.GetNamedPartyMember(p.name).GetValue(&quot;currenthp&quot;).ToString() == &quot;0&quot; &amp;&amp; p.job is &quot;ST&quot; or &quot;MT&quot;) {&#xD;&#xA;    Log(&quot;Dead: &quot; + p.name);&#xD;&#xA;    TDead = true;&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA;  var op = &quot;二仇炮。&quot;;&#xD;&#xA;  if (TDead) {&#xD;&#xA;   op += &quot;T死亡，二仇注意出人群&quot;;&#xD;&#xA;   Broadcast(op, true);&#xD;&#xA;  }&#xD;&#xA;  PostTTS(op);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p42hs() {&#xD;&#xA;  var yflt = GetXYFromBnpcid(&quot;8730&quot;, 1)[0];&#xD;&#xA;  var dir = GetDir(yflt);&#xD;&#xA;  if (dir is &quot;左上西北&quot; or &quot;右下东南&quot;) Place(&quot;4:112,112&quot;);&#xD;&#xA;  if (dir is &quot;左下西南&quot; or &quot;右上东北&quot;) Place(&quot;4:88,112&quot;);&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; private static void p41() {&#xD;&#xA;  var jll = GetXYFromBnpcid(&quot;8722&quot;, 1)[0];&#xD;&#xA;  var tt = GetXYFromBnpcid(&quot;8727&quot;, 1)[0];&#xD;&#xA;  var yflt = GetXYFromBnpcid(&quot;8730&quot;, 1)[0];&#xD;&#xA;  var yflt_dir = GetDir(yflt);&#xD;&#xA;  var jjsb = GetXYFromBnpcid(&quot;8734&quot;)[0];&#xD;&#xA;  var jjsb_dir = GetDir(jjsb);&#xD;&#xA;  var tt_dir = GetDir(tt);&#xD;&#xA;  var result = new List&lt;P41Info&gt;();&#xD;&#xA;  foreach (var s in new[] { &quot;上北&quot;, &quot;下南&quot;, &quot;左西&quot;, &quot;右东&quot; }) {&#xD;&#xA;   if (jll.X &gt; 100 &amp;&amp; s == &quot;右东&quot; || jll.X &lt; 100 &amp;&amp; s == &quot;左西&quot; ||&#xD;&#xA;    jll.Y &gt; 100 &amp;&amp; s == &quot;下南&quot; || jll.Y &lt; 100 &amp;&amp; s == &quot;上北&quot; ||&#xD;&#xA;    s == tt_dir) continue;&#xD;&#xA;   switch (s) {&#xD;&#xA;    case &quot;上北&quot;:&#xD;&#xA;     if (jjsb_dir != &quot;左上西北&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;上北然后逆时针&quot;, new Vector2(91, 83),&#xD;&#xA;       yflt_dir != &quot;左上西北&quot; &amp;&amp; yflt_dir != &quot;右下东南&quot;));&#xD;&#xA;     if (jjsb_dir != &quot;右上东北&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;上北然后顺时针&quot;, new Vector2(109, 83),&#xD;&#xA;       yflt_dir != &quot;右上东北&quot; &amp;&amp; yflt_dir != &quot;左下西南&quot;));&#xD;&#xA;     break;&#xD;&#xA;    case &quot;下南&quot;:&#xD;&#xA;     if (jjsb_dir != &quot;左下西南&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;下南然后顺时针&quot;, new Vector2(91, 117),&#xD;&#xA;       yflt_dir != &quot;右上东北&quot; &amp;&amp; yflt_dir != &quot;左下西南&quot;));&#xD;&#xA;     if (jjsb_dir != &quot;右下东南&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;下南然后逆时针&quot;, new Vector2(109, 117),&#xD;&#xA;       yflt_dir != &quot;左上西北&quot; &amp;&amp; yflt_dir != &quot;右下东南&quot;));&#xD;&#xA;     break;&#xD;&#xA;    case &quot;左西&quot;:&#xD;&#xA;     if (jjsb_dir != &quot;左上西北&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;左西然后顺时针&quot;, new Vector2(83, 91),&#xD;&#xA;       yflt_dir != &quot;左上西北&quot; &amp;&amp; yflt_dir != &quot;右下东南&quot;));&#xD;&#xA;     if (jjsb_dir != &quot;左下西南&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;左西然后逆时针&quot;, new Vector2(83, 109),&#xD;&#xA;       yflt_dir != &quot;右上东北&quot; &amp;&amp; yflt_dir != &quot;左下西南&quot;));&#xD;&#xA;     break;&#xD;&#xA;    case &quot;右东&quot;:&#xD;&#xA;     if (jjsb_dir != &quot;右上东北&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;右东然后逆时针&quot;, new Vector2(117, 91),&#xD;&#xA;       yflt_dir != &quot;右上东北&quot; &amp;&amp; yflt_dir != &quot;左下西南&quot;));&#xD;&#xA;     if (jjsb_dir != &quot;右下东南&quot;)&#xD;&#xA;      result.Add(new P41Info(s, &quot;右东然后顺时针&quot;, new Vector2(117, 109),&#xD;&#xA;       yflt_dir != &quot;左上西北&quot; &amp;&amp; yflt_dir != &quot;右下东南&quot;));&#xD;&#xA;     break;&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA;  var esresult = result.Where(t =&gt; t.canES).ToList();&#xD;&#xA;  esresult.AddRange(result.Where(t =&gt; !t.canES));&#xD;&#xA;  var recommand = esresult[0];&#xD;&#xA;  PostTip(recommand.desc);&#xD;&#xA;  Place(recommand.first switch {&#xD;&#xA;   &quot;上北&quot; =&gt; StaticPlace.safeA,&#xD;&#xA;   &quot;下南&quot; =&gt; StaticPlace.safeC,&#xD;&#xA;   &quot;左西&quot; =&gt; StaticPlace.safeD,&#xD;&#xA;   &quot;右东&quot; =&gt; StaticPlace.safeB&#xD;&#xA;  });&#xD;&#xA;  if(Uauto)Log($&quot;可能安全点:{string.Join(&quot;|&quot;, esresult)}。神兵:{jjsb_dir},土神:{tt_dir},火神:{yflt_dir}。&quot;);&#xD;&#xA;  Task.Run(async delegate {&#xD;&#xA;   await Task.Delay(recommand.canES ? 1000 : 6000);&#xD;&#xA;   Place($&quot;4:{recommand.after.X},{recommand.after.Y}&quot;);&#xD;&#xA;  });&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p43dh_fq(string s, string desc) {&#xD;&#xA;  if (s == MyName) PostTip(desc);&#xD;&#xA;  else if (desc == &quot;地火&quot;) desc += &quot;(仅供参考)&quot;;&#xD;&#xA;  lock (P43PlayerName) {&#xD;&#xA;   P43PlayerName.Add(s);&#xD;&#xA;   Broadcast($&quot;{desc} {s}&quot;);&#xD;&#xA;   if (P43PlayerName.Count == 5) p43qdp();&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p43qdp() {&#xD;&#xA;  var nm = &quot;&quot;;&#xD;&#xA;  foreach (var player in Players) {&#xD;&#xA;   var pn = player.name;&#xD;&#xA;   if (player.job is &quot;MT&quot; or &quot;ST&quot; || P43PlayerName.Contains(pn)) continue;&#xD;&#xA;   if (nm == &quot;&quot;) nm = pn;&#xD;&#xA;   else return;&#xD;&#xA;  }&#xD;&#xA;  if (nm == MyName) PostTip(&quot;潜地炮&quot;);&#xD;&#xA;  Broadcast($&quot;潜地炮 {nm}&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p43dh(string xy) {&#xD;&#xA;  var pos = GetXY(xy);&#xD;&#xA;  lock (p43dhDist) {&#xD;&#xA;   var iter = 0;&#xD;&#xA;   foreach (var player in Players) {&#xD;&#xA;    if (player.job is &quot;ST&quot; or &quot;MT&quot;) continue;&#xD;&#xA;    var pn = player.name;&#xD;&#xA;    var pl = BridgeFFXIV.GetNamedPartyMember(pn);&#xD;&#xA;    var dist = Vector2.DistanceSquared(pos,&#xD;&#xA;     new Vector2(float.Parse(pl.GetValue(&quot;x&quot;).ToString()),&#xD;&#xA;      float.Parse(pl.GetValue(&quot;y&quot;).ToString())));&#xD;&#xA;    if (p43dhCount == 0) p43dhDist.Add(new DHP43(pn, dist));&#xD;&#xA;    else {&#xD;&#xA;     p43dhDist[iter].dist = Math.Min(p43dhDist[iter].dist, dist);&#xD;&#xA;     iter++;&#xD;&#xA;    }&#xD;&#xA;   }&#xD;&#xA;   if (++p43dhCount != 3) return;&#xD;&#xA;   p43dhDist.Sort((a, b) =&gt; a.dist.CompareTo(b.dist));&#xD;&#xA;   p43dh_fq(p43dhDist[0].name, &quot;地火&quot;);&#xD;&#xA;   p43dh_fq(p43dhDist[1].name, &quot;地火&quot;);&#xD;&#xA;   p43dh_fq(p43dhDist[2].name, &quot;地火&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA; private static void p41dihuo() {&#xD;&#xA; // 初始点和圆心&#xD;&#xA; Vector2 startPoint = new Vector2(100, 118);&#xD;&#xA; Vector2 center = new Vector2(100, 100);&#xD;&#xA; &#xD;&#xA; // 自定义角度转弧度函数&#xD;&#xA; float ToRadians(float degrees) =&gt; (float)(degrees * Math.PI / 180.0);&#xD;&#xA; &#xD;&#xA; // 旋转函数&#xD;&#xA; Vector2 RotatePoint(Vector2 point, Vector2 center, float angleRadians)&#xD;&#xA; {&#xD;&#xA;  Vector2 translatedPoint = point - center;&#xD;&#xA;  Vector2 rotatedPoint = new Vector2(&#xD;&#xA;   translatedPoint.X * (float)Math.Cos(angleRadians) - translatedPoint.Y * (float)Math.Sin(angleRadians),&#xD;&#xA;   translatedPoint.X * (float)Math.Sin(angleRadians) + translatedPoint.Y * (float)Math.Cos(angleRadians)&#xD;&#xA;  );&#xD;&#xA;  return rotatedPoint + center;&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; // 绘制原始点&#xD;&#xA; plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 25\nPos: {startPoint.X}, {startPoint.Y}\nScale: 1,1\nColor: 1, 1, 1, 0.9&quot;);&#xD;&#xA; if (Uauto)&#xD;&#xA; {&#xD;&#xA;  plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 原始点:({startPoint.X:F1}, {startPoint.Y:F1})&quot;);&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; // 顺时针旋转三次：30度, 30度, 30度&#xD;&#xA; float currentAngle = 0;&#xD;&#xA; for (int i = 0; i &lt; 3; i++)&#xD;&#xA; {&#xD;&#xA;  currentAngle += 30;&#xD;&#xA;  Vector2 rotatedPoint = RotatePoint(startPoint, center, ToRadians(currentAngle));&#xD;&#xA;  &#xD;&#xA;  // 使用PictoACT绘制omen&#xD;&#xA;  plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 25\nPos: {rotatedPoint.X}, {rotatedPoint.Y}\nScale: 1,1\nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;  &#xD;&#xA;  if (Uauto)&#xD;&#xA;  {&#xD;&#xA;   plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 顺时针第{i+1}次旋转(累计{currentAngle}度) - 点:({rotatedPoint.X:F1}, {rotatedPoint.Y:F1})&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; // 逆时针旋转三次：30度, 30度, 30度&#xD;&#xA; currentAngle = 0;&#xD;&#xA; for (int i = 0; i &lt; 3; i++)&#xD;&#xA; {&#xD;&#xA;  currentAngle -= 30;&#xD;&#xA;  Vector2 rotatedPoint = RotatePoint(startPoint, center, ToRadians(currentAngle));&#xD;&#xA;  &#xD;&#xA;  // 使用PictoACT绘制omen&#xD;&#xA;  plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 25\nPos: {rotatedPoint.X}, {rotatedPoint.Y}\nScale: 1,1\nColor: 1, 0.1, 0.1, 0.9&quot;);&#xD;&#xA;  &#xD;&#xA;  if (Uauto)&#xD;&#xA;  {&#xD;&#xA;   plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 逆时针第{i+1}次旋转(累计{Math.Abs(currentAngle)}度) - 点:({rotatedPoint.X:F1}, {rotatedPoint.Y:F1})&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA; private static void p41taitan(string x) {&#xD;&#xA;  var dir = x switch {&#xD;&#xA;   &quot;113.70&quot; =&gt; &quot;右右右&quot;,&#xD;&#xA;   &quot;86.30&quot; =&gt; &quot;左左左&quot;&#xD;&#xA;  };&#xD;&#xA;  PostTip(dir);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2zhuzijx(string s) {&#xD;&#xA;  lock (Zhuzis) {&#xD;&#xA;   foreach (var z in Zhuzis.Where(z =&gt; z.zid == s)) {&#xD;&#xA;    z.cs2 = true;&#xD;&#xA;    break;&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static void p2zhuzidmg(string st) {&#xD;&#xA;  var ss = st.Split(',');&#xD;&#xA;  if (ss[0] == &quot;2B58&quot;) return;&#xD;&#xA;  lock (Zhuzis) {&#xD;&#xA;   foreach (var z in Zhuzis.Where(z =&gt; z.zid == ss[2])) {&#xD;&#xA;    z.dmg.Add(ss[1]);&#xD;&#xA;    break;&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2zhuzi23() {&#xD;&#xA;  if (Zhuzi2.X is 83.88f or 93.3f) Zhuzi2.X = 88;&#xD;&#xA;  if (Zhuzi2.X is 106.7f or 116.12f) Zhuzi2.X = 112;&#xD;&#xA;  if (Zhuzi2.Y is 83.88f or 93.3f) Zhuzi2.Y = 88;&#xD;&#xA;  if (Zhuzi2.Y is 106.7f or 116.12f) Zhuzi2.Y = 112;&#xD;&#xA;  Place($&quot;2:{Zhuzi2.X},{Zhuzi2.Y};3:{200 - Zhuzi2.X},{200 - Zhuzi2.Y}&quot;);&#xD;&#xA;  &#xD;&#xA;  // 三点坐标&#xD;&#xA;  Vector2 point3 = new Vector2(200 - Zhuzi2.X, 200 - Zhuzi2.Y);&#xD;&#xA;  // 圆心&#xD;&#xA;  Vector2 center = new Vector2(100, 100);&#xD;&#xA;  &#xD;&#xA;  // 自定义角度转弧度函数&#xD;&#xA;  float ToRadians(float degrees) =&gt; (float)(degrees * Math.PI / 180.0);&#xD;&#xA;  &#xD;&#xA;  // 旋转函数&#xD;&#xA;  Vector2 RotatePoint(Vector2 point, Vector2 center, float angleRadians)&#xD;&#xA;  {&#xD;&#xA;   Vector2 translatedPoint = point - center;&#xD;&#xA;   Vector2 rotatedPoint = new Vector2(&#xD;&#xA;    translatedPoint.X * (float)Math.Cos(angleRadians) - translatedPoint.Y * (float)Math.Sin(angleRadians),&#xD;&#xA;    translatedPoint.X * (float)Math.Sin(angleRadians) + translatedPoint.Y * (float)Math.Cos(angleRadians)&#xD;&#xA;   );&#xD;&#xA;   return rotatedPoint + center;&#xD;&#xA;  }&#xD;&#xA;  &#xD;&#xA;  // 顺时针旋转四次：45度, 30度, 30度, 30度&#xD;&#xA;  Vector2[] clockwisePoints = new Vector2[4];&#xD;&#xA;  float[] clockwiseAngles = { 45, 30, 30, 30 };&#xD;&#xA;  float currentAngle = 0;&#xD;&#xA;  &#xD;&#xA;  for (int i = 0; i &lt; 4; i++)&#xD;&#xA;  {&#xD;&#xA;   currentAngle += clockwiseAngles[i];&#xD;&#xA;   Vector2 rotatedPoint1 = RotatePoint(point3, center, ToRadians(currentAngle));&#xD;&#xA;   &#xD;&#xA;   clockwisePoints[i] = rotatedPoint1;&#xD;&#xA;   &#xD;&#xA;   // 使用PictoACT绘制omen - 每次旋转只绘制一个点&#xD;&#xA;   // 修改颜色从蓝色到绿色渐变&#xD;&#xA;   float blue = 1.0f - (i * 0.25f); // 蓝色分量从1递减到0.25&#xD;&#xA;   float green = 0.1f + (i * 0.25f); // 绿色分量从0.1递增到0.85&#xD;&#xA;   plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 25\nPos: {rotatedPoint1.X}, {rotatedPoint1.Y}\nScale: 1,1\nColor: 0.1,{green:F1},{blue:F1}, 0.9&quot;);&#xD;&#xA;   &#xD;&#xA;   if (Uauto)&#xD;&#xA;   {&#xD;&#xA;    plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 顺时针第{i+1}次旋转(累计{currentAngle}度) - 点:({rotatedPoint1.X:F1}, {rotatedPoint1.Y:F1})&quot;);&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA;  &#xD;&#xA;  // 逆时针旋转四次：45度, 30度, 30度, 30度&#xD;&#xA;  Vector2[] counterclockwisePoints = new Vector2[4];&#xD;&#xA;  float[] counterclockwiseAngles = { -45, -30, -30, -30 };&#xD;&#xA;  currentAngle = 0;&#xD;&#xA;  &#xD;&#xA;  for (int i = 0; i &lt; 4; i++)&#xD;&#xA;  {&#xD;&#xA;   currentAngle += counterclockwiseAngles[i];&#xD;&#xA;   Vector2 rotatedPoint1 = RotatePoint(point3, center, ToRadians(currentAngle));&#xD;&#xA;   &#xD;&#xA;   counterclockwisePoints[i] = rotatedPoint1;&#xD;&#xA;   &#xD;&#xA;   // 使用PictoACT绘制omen - 每次旋转只绘制一个点&#xD;&#xA;   // 修改颜色从蓝色到绿色渐变&#xD;&#xA;   float blue = 1.0f - (i * 0.25f); // 蓝色分量从1递减到0.25&#xD;&#xA;   float green = 0.1f + (i * 0.25f); // 绿色分量从0.1递增到0.85&#xD;&#xA;   plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 25\nPos: {rotatedPoint1.X}, {rotatedPoint1.Y}\nScale: 1,1\nColor: 0.1,{green:F1},{blue:F1}, 0.9&quot;);&#xD;&#xA;   &#xD;&#xA;   if (Uauto)&#xD;&#xA;   {&#xD;&#xA;    plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 逆时针第{i+1}次旋转(累计{currentAngle}度) - 点:({rotatedPoint1.X:F1}, {rotatedPoint1.Y:F1})&quot;);&#xD;&#xA;   }&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2zhuzimark(int a1, int a2, int a3, int a4) {&#xD;&#xA;  Mark(Zhuzis[a1].zid, &quot;attack1&quot;);&#xD;&#xA;  Mark(Zhuzis[a2].zid, &quot;attack2&quot;);&#xD;&#xA;  Mark(Zhuzis[a3].zid, &quot;attack3&quot;);&#xD;&#xA;  Mark(Zhuzis[a4].zid, &quot;attack4&quot;);&#xD;&#xA;  plug.InvokeNamedCallback(&quot;command&quot;,$&quot;/e 柱子标记完成&quot;);&#xD;&#xA;  &#xD;&#xA;  &#xD;&#xA; }&#xD;&#xA; &#xD;&#xA; private static void FindIntersectionWithCircle(int a1,int a2,int a3, int a4)&#xD;&#xA; {&#xD;&#xA;  // 步骤 1: 检查索引是否合法&#xD;&#xA;  if (Zhuzis.Count &lt;= a3 || Zhuzis.Count &lt;= a4)&#xD;&#xA;  {&#xD;&#xA;   Console.WriteLine(&quot;索引超出范围&quot;);&#xD;&#xA;   return;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  // 步骤 2: 获取 pos 值&#xD;&#xA;  int posA1 = Zhuzis[a1].pos;&#xD;&#xA;  int posA2 = Zhuzis[a2].pos;&#xD;&#xA;  int posA3 = Zhuzis[a3].pos;&#xD;&#xA;  int posA4 = Zhuzis[a4].pos;&#xD;&#xA;&#xD;&#xA;  // 假设 pos 是一个二维点，比如通过 DecodePos 方法解析&#xD;&#xA;  Vector2 pointA1 = DecodePos(posA1);&#xD;&#xA;  Vector2 pointA2 = DecodePos(posA2);&#xD;&#xA;  Vector2 pointA3 = DecodePos(posA3); // 需要定义 DecodePos 方法&#xD;&#xA;  Vector2 pointA4 = DecodePos(posA4);&#xD;&#xA;&#xD;&#xA;  // 步骤 3: 计算中点 zdpos&#xD;&#xA;  Vector2 zdpos = new Vector2(&#xD;&#xA;   (pointA3.X + pointA4.X) / 2,&#xD;&#xA;   (pointA3.Y + pointA4.Y) / 2&#xD;&#xA;  );&#xD;&#xA;&#xD;&#xA;  // 圆心和半径&#xD;&#xA;  Vector2 center = new Vector2(100, 100);&#xD;&#xA;  float radius = 15;&#xD;&#xA;&#xD;&#xA;  // 步骤 4: 计算从圆心到 zdpos 的方向向量&#xD;&#xA;  Vector2 direction = Vector2.Normalize(zdpos - center);&#xD;&#xA;  &#xD;&#xA;  // 使用曼哈顿距离计算D1和D2的位置&#xD;&#xA;  // 计算从圆心到pointA1和pointA2的曼哈顿距离方向&#xD;&#xA;  Vector2 D1diff = pointA1 - center;&#xD;&#xA;  Vector2 D2diff = pointA2 - center;&#xD;&#xA;  &#xD;&#xA;  // 计算曼哈顿距离&#xD;&#xA;  float D1manhattan = Math.Abs(D1diff.X) + Math.Abs(D1diff.Y);&#xD;&#xA;  float D2manhattan = Math.Abs(D2diff.X) + Math.Abs(D2diff.Y);&#xD;&#xA;  &#xD;&#xA;  // 归一化方向向量（保持曼哈顿距离的比例）&#xD;&#xA;  Vector2 D1direction = new Vector2(D1diff.X / D1manhattan, D1diff.Y / D1manhattan);&#xD;&#xA;  Vector2 D2direction = new Vector2(D2diff.X / D2manhattan, D2diff.Y / D2manhattan);&#xD;&#xA;  &#xD;&#xA;  // 沿方向移动 7 单位长度（使用曼哈顿距离）&#xD;&#xA;  Vector2 D1resultPoint = center + D1direction * 7;&#xD;&#xA;  Vector2 D2resultPoint = center + D2direction * 7;&#xD;&#xA;&#xD;&#xA;  // 步骤 5: 射线与圆的交点（沿方向移动半径长度）&#xD;&#xA;  Vector2 intersection = center + direction * radius;&#xD;&#xA;&#xD;&#xA;  // 步骤 6: 输出交点&#xD;&#xA;  RotateIntersection(intersection);&#xD;&#xA;  plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {intersection.X}, {intersection.Y}\nScale: 1,1\nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;  plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 10\nPos: {D1resultPoint.X}, {D1resultPoint.Y}\nScale: 1,1\nColor: 0.1, 0.1, 1, 0.9&quot;);&#xD;&#xA;  plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 10\nPos: {D2resultPoint.X}, {D2resultPoint.Y}\nScale: 1,1\nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;  &#xD;&#xA;  if (Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D1坐标：({D1resultPoint.X}, {D1resultPoint.Y})&quot;);&#xD;&#xA;  if (Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D2坐标：({D2resultPoint.X}, {D2resultPoint.Y})&quot;);&#xD;&#xA;  if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火第四次移动坐标：({intersection.X}, {intersection.Y})&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;// 示例 DecodePos 方法（根据实际数据调整）&#xD;&#xA; private static Vector2 DecodePos(int pos)&#xD;&#xA; {&#xD;&#xA;  // 这里假设每个 pos 对应一个预定义的坐标&#xD;&#xA;  switch (pos)&#xD;&#xA;  {&#xD;&#xA;   case 1 &lt;&lt; 7: return new Vector2(100, 90);&#xD;&#xA;   case 1 &lt;&lt; 6: return new Vector2(107, 93);&#xD;&#xA;   case 1 &lt;&lt; 5: return new Vector2(110, 100);&#xD;&#xA;   case 1 &lt;&lt; 4: return new Vector2(107, 107);&#xD;&#xA;   case 1 &lt;&lt; 3: return new Vector2(100, 110);&#xD;&#xA;   case 1 &lt;&lt; 2: return new Vector2(93, 107);&#xD;&#xA;   case 1 &lt;&lt; 1: return new Vector2(90, 100);&#xD;&#xA;   case 1: return new Vector2(93, 93);&#xD;&#xA;   default: return new Vector2(100, 100); // 默认值&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;private static void RotateIntersection(Vector2 intersection)&#xD;&#xA;{&#xD;&#xA;    // 圆心&#xD;&#xA;    Vector2 center = new Vector2(100, 100);&#xD;&#xA;&#xD;&#xA;    // 自定义角度转弧度函数&#xD;&#xA;    float ToRadians(float degrees) =&gt; (float)(degrees * Math.PI / 180.0);&#xD;&#xA;&#xD;&#xA;    // 逆时针旋转&#xD;&#xA;    &#xD;&#xA;&#xD;&#xA;    // 第一次旋转：40度&#xD;&#xA;    Vector2 translatedPoint = intersection - center;&#xD;&#xA;    Vector2 rotatedPoint1 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(40)) - translatedPoint.Y * (float)Math.Sin(ToRadians(40)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(40)) + translatedPoint.Y * (float)Math.Cos(ToRadians(40))&#xD;&#xA;    );&#xD;&#xA;    Vector2 finalPoint1 = rotatedPoint1 + center;&#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint1.X}, {finalPoint1.Y}\nScale: 1,1\nColor: 0, 0.3, 0.5&quot;);&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D4第三次移动坐标：({finalPoint1.X}, {finalPoint1.Y})&quot;);&#xD;&#xA;&#xD;&#xA;    // 第二次旋转：45度&#xD;&#xA;    translatedPoint = finalPoint1 - center;&#xD;&#xA;    Vector2 rotatedPoint2 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(45)) - translatedPoint.Y * (float)Math.Sin(ToRadians(45)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(45)) + translatedPoint.Y * (float)Math.Cos(ToRadians(45))&#xD;&#xA;    );&#xD;&#xA;    Vector2 finalPoint2 = rotatedPoint2 + center;&#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint2.X}, {finalPoint2.Y}\nScale: 1,1\nColor: 0, 0.2, 0.7&quot;);&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D4第二次移动坐标：({finalPoint2.X}, {finalPoint2.Y})&quot;);&#xD;&#xA;&#xD;&#xA;    // 第三次旋转：33度&#xD;&#xA;    translatedPoint = finalPoint2 - center;&#xD;&#xA;    Vector2 rotatedPoint3 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(33)) - translatedPoint.Y * (float)Math.Sin(ToRadians(33)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(33)) + translatedPoint.Y * (float)Math.Cos(ToRadians(33))&#xD;&#xA;    );&#xD;&#xA;    Vector2 finalPoint3 = rotatedPoint3 + center;&#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint3.X}, {finalPoint3.Y}\nScale: 1,1\nColor: 0, 0.2, 0.9&quot;);&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D4第一次坐标：({finalPoint3.X}, {finalPoint3.Y})&quot;);&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    // 顺时针旋转&#xD;&#xA;    Console.WriteLine(&quot;\n顺时针旋转：&quot;);&#xD;&#xA;&#xD;&#xA;    // 第一次旋转：-40度&#xD;&#xA;    translatedPoint = intersection - center;&#xD;&#xA;    rotatedPoint1 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(-40)) - translatedPoint.Y * (float)Math.Sin(ToRadians(-40)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(-40)) + translatedPoint.Y * (float)Math.Cos(ToRadians(-40))&#xD;&#xA;    );&#xD;&#xA;    finalPoint1 = rotatedPoint1 + center;&#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint1.X}, {finalPoint1.Y}\nScale: 1,1\nColor: 0, 0.3, 0.5&quot;);&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D3第三次移动坐标：({finalPoint1.X}, {finalPoint1.Y})&quot;);&#xD;&#xA;&#xD;&#xA;    // 第二次旋转：-45度&#xD;&#xA;    translatedPoint = finalPoint1 - center;&#xD;&#xA;    rotatedPoint2 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(-45)) - translatedPoint.Y * (float)Math.Sin(ToRadians(-45)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(-45)) + translatedPoint.Y * (float)Math.Cos(ToRadians(-45))&#xD;&#xA;    );&#xD;&#xA;    finalPoint2 = rotatedPoint2 + center;&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D3第二次移动坐标：({finalPoint2.X}, {finalPoint2.Y})&quot;);&#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint2.X}, {finalPoint2.Y}\nScale: 1,1\nColor: 0, 0.2, 0.7&quot;);&#xD;&#xA;&#xD;&#xA;    // 第三次旋转：-33度&#xD;&#xA;    translatedPoint = finalPoint2 - center;&#xD;&#xA;    rotatedPoint3 = new Vector2(&#xD;&#xA;        translatedPoint.X * (float)Math.Cos(ToRadians(-33)) - translatedPoint.Y * (float)Math.Sin(ToRadians(-33)),&#xD;&#xA;        translatedPoint.X * (float)Math.Sin(ToRadians(-33)) + translatedPoint.Y * (float)Math.Cos(ToRadians(-33))&#xD;&#xA;    );&#xD;&#xA;    finalPoint3 = rotatedPoint3 + center;&#xD;&#xA; &#xD;&#xA;    plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 20\nPos: {finalPoint3.X}, {finalPoint3.Y}\nScale: 1,1\nColor: 0, 0.2, 0.9&quot;);&#xD;&#xA;    if(Uauto)plug.InvokeNamedCallback(&quot;Command&quot; ,$&quot;/e 地火D3第一次移动坐标：({finalPoint3.X}, {finalPoint3.Y})&quot;);&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static void p2zhuzi(string dxy) {&#xD;&#xA;  var ss = dxy.Split(',');&#xD;&#xA;  var d = ss[0];&#xD;&#xA;  var x = ss[1];&#xD;&#xA;  var y = ss[2];&#xD;&#xA;  lock (Zhuzis) {&#xD;&#xA;   if (x == &quot;100.00&quot; &amp;&amp; y == &quot;90.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 7));&#xD;&#xA;   else if (x == &quot;107.00&quot; &amp;&amp; y == &quot;93.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 6));&#xD;&#xA;   else if (x == &quot;110.00&quot; &amp;&amp; y == &quot;100.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 5));&#xD;&#xA;   else if (x == &quot;107.00&quot; &amp;&amp; y == &quot;107.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 4));&#xD;&#xA;   else if (x == &quot;100.00&quot; &amp;&amp; y == &quot;110.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 3));&#xD;&#xA;   else if (x == &quot;93.00&quot; &amp;&amp; y is &quot;107.00&quot; or &quot;106.95&quot; or &quot;107&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 2));&#xD;&#xA;   else if (x == &quot;90.00&quot; &amp;&amp; y == &quot;100.00&quot;) Zhuzis.Add(new Zhuzi(d, 1 &lt;&lt; 1));&#xD;&#xA;   else if (x == &quot;93.00&quot; &amp;&amp; y == &quot;93.00&quot;) Zhuzis.Add(new Zhuzi(d, 1));&#xD;&#xA;   else Log($&quot;Error: Zhuzi {dxy}.&quot;);&#xD;&#xA;&#xD;&#xA;   if (Zhuzis.Count != 4) return;&#xD;&#xA;   Zhuzis.Sort((a, b) =&gt; a.pos.CompareTo(b.pos));&#xD;&#xA;   switch (Zhuzis.Aggregate(0, (current, z) =&gt; current | z.pos)) {&#xD;&#xA;    case 0b11010010:&#xD;&#xA;     Zhuzi2 = new Vector2(93.3f, 116.12f);&#xD;&#xA;     p2zhuzimark(1, 0, 2, 3);&#xD;&#xA;     Newp2FindTargetzhuzi(1, 0, 2, 3);&#xD;&#xA;     FindIntersectionWithCircle(1,0,2,3);&#xD;&#xA;     break;&#xD;&#xA;    case 0b01101001:&#xD;&#xA;     Zhuzi2 = new Vector2(83.88f, 106.7f);&#xD;&#xA;     p2zhuzimark(1, 0, 2, 3);&#xD;&#xA;     Newp2FindTargetzhuzi(1, 0, 2, 3);&#xD;&#xA;     FindIntersectionWithCircle(1,0,2,3);&#xD;&#xA;     break;&#xD;&#xA;    case 0b10110100:&#xD;&#xA;     Zhuzi2 = new Vector2(83.88f, 93.3f);&#xD;&#xA;     p2zhuzimark(0, 3, 1, 2);&#xD;&#xA;     Newp2FindTargetzhuzi(0, 3, 1, 2);&#xD;&#xA;     FindIntersectionWithCircle(0,3,1,2);&#xD;&#xA;     break;&#xD;&#xA;    case 0b01011010:&#xD;&#xA;     Zhuzi2 = new Vector2(93.3f, 83.88f);&#xD;&#xA;     p2zhuzimark(0, 3, 1, 2);&#xD;&#xA;     Newp2FindTargetzhuzi(0, 3, 1, 2);&#xD;&#xA;     FindIntersectionWithCircle(0,3,1,2);&#xD;&#xA;     break;&#xD;&#xA;    case 0b00101101:&#xD;&#xA;     Zhuzi2 = new Vector2(106.7f, 83.88f);&#xD;&#xA;     p2zhuzimark(0, 3, 1, 2);&#xD;&#xA;     Newp2FindTargetzhuzi(0, 3, 1, 2);&#xD;&#xA;     FindIntersectionWithCircle(0,3,1,2);&#xD;&#xA;     break;&#xD;&#xA;    case 0b10010110:&#xD;&#xA;     Zhuzi2 = new Vector2(116.12f, 93.3f);&#xD;&#xA;     p2zhuzimark(3, 2, 0, 1);&#xD;&#xA;     Newp2FindTargetzhuzi(3, 2, 0, 1);&#xD;&#xA;     FindIntersectionWithCircle(3,2,0,1);&#xD;&#xA;     break;&#xD;&#xA;    case 0b01001011:&#xD;&#xA;     Zhuzi2 = new Vector2(116.12f, 106.7f);&#xD;&#xA;     p2zhuzimark(3, 2, 0, 1);&#xD;&#xA;     Newp2FindTargetzhuzi(3, 2, 0, 1);&#xD;&#xA;     FindIntersectionWithCircle(3,2,0,1);&#xD;&#xA;     break;&#xD;&#xA;    case 0b10100101:&#xD;&#xA;     Zhuzi2 = new Vector2(106.7f, 116.12f);&#xD;&#xA;     p2zhuzimark(2, 1, 3, 0);&#xD;&#xA;     Newp2FindTargetzhuzi(2, 1, 3, 0);&#xD;&#xA;     FindIntersectionWithCircle(2,1,3,0);&#xD;&#xA;     break;&#xD;&#xA;   }&#xD;&#xA;   Place($&quot;2:{Zhuzi2.X},{Zhuzi2.Y}&quot;);&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA; private static void NEWp3ygjd(string xy)&#xD;&#xA;{&#xD;&#xA;    // 输入验证&#xD;&#xA;    var ss = xy.Split(',');&#xD;&#xA;    if (ss.Length != 2 || string.IsNullOrEmpty(ss[0]) || string.IsNullOrEmpty(ss[1]))&#xD;&#xA;        return;&#xD;&#xA;&#xD;&#xA;    var x = ss[0];&#xD;&#xA;    var y = ss[1];&#xD;&#xA;&#xD;&#xA;    // 定义方向映射&#xD;&#xA;    string ygjddir = &quot;&quot;;&#xD;&#xA;    bool isRight = (x == &quot;95.00&quot; &amp;&amp; (y == &quot;111.00&quot; || y == &quot;112.00&quot;)) ||&#xD;&#xA;                   (x == &quot;88.00&quot; &amp;&amp; y == &quot;95.00&quot;) ||&#xD;&#xA;                   (x == &quot;105.00&quot; &amp;&amp; y == &quot;88.00&quot;) ||&#xD;&#xA;                   (x == &quot;112.00&quot; &amp;&amp; y == &quot;105.00&quot;);&#xD;&#xA;&#xD;&#xA;    bool isLeft = (x == &quot;105.00&quot; &amp;&amp; y == &quot;112.00&quot;) ||&#xD;&#xA;                  (x == &quot;88.00&quot; &amp;&amp; y == &quot;105.00&quot;) ||&#xD;&#xA;                  (x == &quot;95.00&quot; &amp;&amp; y == &quot;88.00&quot;) ||&#xD;&#xA;                  ((x == &quot;111.00&quot; || x == &quot;112.00&quot;) &amp;&amp; y == &quot;95.00&quot;);&#xD;&#xA;&#xD;&#xA;    if (isRight) ygjddir = &quot;右右右&quot;;&#xD;&#xA;    else if (isLeft) ygjddir = &quot;左左左&quot;;&#xD;&#xA;    else return;&#xD;&#xA;&#xD;&#xA;    // 定义坐标映射表&#xD;&#xA;    var placeMap = new Dictionary&lt;(string, string), string&gt;&#xD;&#xA;    {&#xD;&#xA;        { (&quot;95.00&quot;, &quot;111.00&quot;), &quot;3:105,105&quot; },//A右3&#xD;&#xA;        { (&quot;95.00&quot;, &quot;112.00&quot;), &quot;3:105,105&quot; },&#xD;&#xA;        { (&quot;111.00&quot;, &quot;95.00&quot;), &quot;3:105,105&quot; },//D左3&#xD;&#xA;        { (&quot;112.00&quot;, &quot;95.00&quot;), &quot;3:105,105&quot; },&#xD;&#xA;&#xD;&#xA;        { (&quot;105.00&quot;, &quot;112.00&quot;), &quot;3:95,105&quot; },//A左3&#xD;&#xA;        { (&quot;88.00&quot;, &quot;95.00&quot;), &quot;3:95,105&quot; },&#xD;&#xA;&#xD;&#xA;        { (&quot;105.00&quot;, &quot;88.00&quot;), &quot;3:95,95&quot; },&#xD;&#xA;        { (&quot;88.00&quot;, &quot;105.00&quot;), &quot;3:95,95&quot; },&#xD;&#xA;&#xD;&#xA;        { (&quot;95.00&quot;, &quot;88.00&quot;), &quot;3:105,95&quot; },&#xD;&#xA;        { (&quot;112.00&quot;, &quot;105.00&quot;), &quot;3:105,95&quot; }//D右3&#xD;&#xA;    };&#xD;&#xA;&#xD;&#xA;    if (placeMap.TryGetValue((x, y), out var place))&#xD;&#xA;    {&#xD;&#xA;        Place(place);&#xD;&#xA;        var posValue = place.Split(new[] { ':' }, 2).LastOrDefault();&#xD;&#xA;        plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f\nt: 2\nPos: {posValue}\nScale: 1,1\nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;        if (Uauto) plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 3桶移动坐标:{posValue}&quot;);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // ttsafe 分支逻辑&#xD;&#xA;    int? index = null;&#xD;&#xA;    switch (ttsafe)&#xD;&#xA;    {&#xD;&#xA;        case &quot;A点上北安全&quot;:&#xD;&#xA;            Place(&quot;1:100,106;2:100,100&quot;);&#xD;&#xA;            plug.InvokeNamedCallback(&quot;PictoACT&quot;, &quot;Omen: er_general_1f \nt: 2\n Pos: 100,106\n Scale: 1,1\n Color: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;            index = 0;&#xD;&#xA;            if(Uauto)plug.InvokeNamedCallback(&quot;command&quot;,&quot;/e 1桶移动坐标:100,106&quot;);&#xD;&#xA;            break;&#xD;&#xA;        case &quot;B点右东安全&quot;:&#xD;&#xA;            Place(&quot;1:94,100;2:100,100&quot;);//D1&#xD;&#xA;            plug.InvokeNamedCallback(&quot;PictoACT&quot;, &quot;Omen: er_general_1f \nt: 2 \nPos: 94,100 \nScale: 1,1 \nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;            index = 1;&#xD;&#xA;            if(Uauto)plug.InvokeNamedCallback(&quot;command&quot;,&quot;/e 1桶移动坐标:94,100&quot;);&#xD;&#xA;            break;&#xD;&#xA;        case &quot;C点下南安全&quot;:&#xD;&#xA;            Place(&quot;1:100,94;2:100,100&quot;);//A1&#xD;&#xA;            plug.InvokeNamedCallback(&quot;PictoACT&quot;, &quot;Omen: er_general_1f \nt: 2 \nPos: 100,94 \nScale: 1,1 \nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;            index = 2;&#xD;&#xA;            if(Uauto)plug.InvokeNamedCallback(&quot;command&quot;,&quot;/e 1桶移动坐标:100,94&quot;);&#xD;&#xA;            break;&#xD;&#xA;        case &quot;D点左西安全&quot;:&#xD;&#xA;            Place(&quot;1:106,100;2:100,100&quot;);&#xD;&#xA;            plug.InvokeNamedCallback(&quot;PictoACT&quot;, &quot;Omen: er_general_1f \nt: 2 \nPos:106,100 \nScale: 1,1 \nColor: 0.1, 1, 0.1, 0.9&quot;);&#xD;&#xA;            index = 3;&#xD;&#xA;            if(Uauto)plug.InvokeNamedCallback(&quot;command&quot;,&quot;/e 1桶移动坐标:106,100&quot;);&#xD;&#xA;            &#xD;&#xA;            break;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (index.HasValue)&#xD;&#xA;    {&#xD;&#xA;     string place4 = StaticPlace.ygjdPlace4[index.Value, ygjddir == &quot;左左左&quot; ? 0 : 1];&#xD;&#xA;     //Place(place4);&#xD;&#xA;     // 提取 &quot;4:xxx,yyy&quot; 中冒号后的内容作为 Pos 值&#xD;&#xA;     var posValue = place4.Split(new[] { ':' }, 2).LastOrDefault();&#xD;&#xA;     plug.InvokeNamedCallback(&quot;PictoACT&quot;, $&quot;Omen: er_general_1f \nt: 5 \nPos: {posValue} \nScale: 1,1\nColor: 0.1, 1, 0.1&quot;);&#xD;&#xA;     if(Uauto)plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e 大怒震移动坐标:{posValue} &quot;);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    PostTip(ygjddir);&#xD;&#xA;}&#xD;&#xA; &#xD;&#xA; private static void Broadcast(string s, bool tip = false) {&#xD;&#xA;  if (tip) PostTip(s, tts: false);&#xD;&#xA;  plug.InvokeNamedCallback(&quot;command&quot;, Ubroadcast ? $&quot;/p {s} &quot; : $&quot;/e {s}&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static string GetPScale(string name) {&#xD;&#xA;  return GetScalarVariable(true, &quot;ptuw_&quot; + name);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static string GetScale(string name) {&#xD;&#xA;  return GetScalarVariable(false, &quot;tuw_&quot; + name);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p3fly(string id) {&#xD;&#xA;  var pos = GetXY(id);&#xD;&#xA;  ttsafe = &quot;&quot;;&#xD;&#xA;  if (Math.Abs(pos.X - 100) &lt;= 2 &amp;&amp; Math.Abs(pos.Y - 114) &lt;= 2) {&#xD;&#xA;   ttsafe = &quot;A点上北安全&quot;;&#xD;&#xA;   Place(StaticPlace.safeA);&#xD;&#xA;  }&#xD;&#xA;  if (Math.Abs(pos.X - 86) &lt;= 2 &amp;&amp; Math.Abs(pos.Y - 100) &lt;= 2) {&#xD;&#xA;   ttsafe = &quot;B点右东安全&quot;;&#xD;&#xA;   Place(StaticPlace.safeB);&#xD;&#xA;  }&#xD;&#xA;  if (Math.Abs(pos.X - 100) &lt;= 2 &amp;&amp; Math.Abs(pos.Y - 86) &lt;= 2) {&#xD;&#xA;   ttsafe = &quot;C点下南安全&quot;;&#xD;&#xA;   Place(StaticPlace.safeC);&#xD;&#xA;  }&#xD;&#xA;  if (Math.Abs(pos.X - 114) &lt;= 2 &amp;&amp; Math.Abs(pos.Y - 100) &lt;= 2) {&#xD;&#xA;   ttsafe = &quot;D点左西安全&quot;;&#xD;&#xA;   Place(StaticPlace.safeD);&#xD;&#xA;  }&#xD;&#xA;  if (ttsafe == &quot;&quot;) Log($&quot;Taitan Loc Fail At:({pos.X},{pos.Y})&quot;);&#xD;&#xA;  Broadcast(ttsafe, true);&#xD;&#xA;  PostTTS(ttsafe);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void PostTTS(string text) {&#xD;&#xA;  plug.QueueAction(fakectx, _tri, null,&#xD;&#xA;   new Action {&#xD;&#xA;    ActionType = LogMessage.ToString(),&#xD;&#xA;    LogMessageText = $&quot;[Latihas TTS] {text}&quot;,&#xD;&#xA;    LogProcess = &quot;true&quot;&#xD;&#xA;   }, DateTime.Now, true);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void PostTip(string text, float x = 0, float y = 0, string id = &quot;main&quot;, bool tts = true) {&#xD;&#xA;  plug.QueueAction(fakectx, _tri, null,&#xD;&#xA;   new Action {&#xD;&#xA;    ActionType = LogMessage.ToString(),&#xD;&#xA;    LogMessageText = $&quot;[Latihas Tip] {text}:{x}:{y}:{id}&quot;,&#xD;&#xA;    LogProcess = &quot;true&quot;&#xD;&#xA;   }, DateTime.Now, true);&#xD;&#xA;  if (tts) PostTTS(text);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2safe(string xy) {&#xD;&#xA;  if (hs == &quot;&quot;) return;&#xD;&#xA;  var zzpos = GetXY(xy);&#xD;&#xA;  string safe = null;&#xD;&#xA;  if (Math.Abs(zzpos.X - 100) &lt; 1 &amp;&amp; zzpos.Y &lt; 85 &amp;&amp; hs != &quot;上北&quot; &amp;&amp; hs != &quot;下南&quot;) safe = &quot;下南C点&quot;;&#xD;&#xA;  if (Math.Abs(zzpos.X - 100) &lt; 1 &amp;&amp; zzpos.Y &gt; 115 &amp;&amp; hs != &quot;上北&quot; &amp;&amp; hs != &quot;下南&quot;) safe = &quot;上北A点&quot;;&#xD;&#xA;  if (Math.Abs(zzpos.Y - 100) &lt; 1 &amp;&amp; zzpos.X &lt; 85 &amp;&amp; hs != &quot;左西&quot; &amp;&amp; hs != &quot;右东&quot;) safe = &quot;右东B点&quot;;&#xD;&#xA;  if (Math.Abs(zzpos.Y - 100) &lt; 1 &amp;&amp; zzpos.X &gt; 115 &amp;&amp; hs != &quot;左西&quot; &amp;&amp; hs != &quot;右东&quot;) safe = &quot;左西D点&quot;;&#xD;&#xA;  if (safe is null) return;&#xD;&#xA;  Place(safe switch {&#xD;&#xA;   &quot;上北A点&quot; =&gt; StaticPlace.safeA,&#xD;&#xA;   &quot;下南C点&quot; =&gt; StaticPlace.safeC,&#xD;&#xA;   &quot;左西D点&quot; =&gt; StaticPlace.safeD,&#xD;&#xA;   &quot;右东B点&quot; =&gt; StaticPlace.safeB&#xD;&#xA;  });&#xD;&#xA;  safe += &quot;安全&quot;;&#xD;&#xA;  PostTip(safe);&#xD;&#xA;  Broadcast($&quot;火神转场{safe}&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void p2hs(string xy) {&#xD;&#xA;  var ss = xy.Split(',');&#xD;&#xA;  var id = ss[0];&#xD;&#xA;  if (BridgeFFXIV.GetIdEntity(id).GetValue(&quot;bnpcid&quot;).ToString() != &quot;8730&quot;) return;&#xD;&#xA;  hs = GetDir(ss[1], ss[2]);&#xD;&#xA;  if (hs is &quot;上北&quot; or &quot;下南&quot;) Place(StaticPlace.p2hsWEsafe);&#xD;&#xA;  if (hs is &quot;左西&quot; or &quot;右东&quot;) Place(StaticPlace.p2hsNSsafe);&#xD;&#xA;  Place(StaticPlace.clear4);&#xD;&#xA;  PostTip(&quot;火神&quot; + hs, 50, 50, &quot;main2&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static void FsPlace(string pl1, string pl2) {&#xD;&#xA;  Place(pl1 switch {&#xD;&#xA;   &quot;上北&quot; =&gt; StaticPlace.p1fsN3,&#xD;&#xA;   &quot;下南&quot; =&gt; StaticPlace.p1fsS3,&#xD;&#xA;   &quot;左西&quot; =&gt; StaticPlace.p1fsW3,&#xD;&#xA;   &quot;右东&quot; =&gt; StaticPlace.p1fsE3&#xD;&#xA;  });&#xD;&#xA;  Place(pl2 switch {&#xD;&#xA;   &quot;上北&quot; =&gt; StaticPlace.p1fsN4,&#xD;&#xA;   &quot;下南&quot; =&gt; StaticPlace.p1fsS4,&#xD;&#xA;   &quot;左西&quot; =&gt; StaticPlace.p1fsW4,&#xD;&#xA;   &quot;右东&quot; =&gt; StaticPlace.p1fsE4&#xD;&#xA;  });&#xD;&#xA; }&#xD;&#xA; public static void FsPlaceByRule(string pos1, string pos2)&#xD;&#xA;{&#xD;&#xA;    // 3点位优先顺序&#xD;&#xA;    string[] p3Order = { &quot;上北&quot;, &quot;右东&quot;, &quot;下南&quot;, &quot;左西&quot; };&#xD;&#xA;    string[] input = { pos1, pos2 };&#xD;&#xA;    // 按优先级排序&#xD;&#xA;    Array.Sort(input, (a, b) =&gt; Array.IndexOf(p3Order, a).CompareTo(Array.IndexOf(p3Order, b)));&#xD;&#xA;    string p3 = input[0];&#xD;&#xA;    string p4 = input[1];&#xD;&#xA;    // 3点位&#xD;&#xA;    switch (p3)&#xD;&#xA;    {&#xD;&#xA;        case &quot;上北&quot;: Place(StaticPlace.p1fsN3); break;&#xD;&#xA;        case &quot;右东&quot;: Place(StaticPlace.p1fsE3); break;&#xD;&#xA;        case &quot;下南&quot;: Place(StaticPlace.p1fsS3); break;&#xD;&#xA;        case &quot;左西&quot;: Place(StaticPlace.p1fsW3); break;&#xD;&#xA;    }&#xD;&#xA;    // 4点位&#xD;&#xA;    switch (p4)&#xD;&#xA;    {&#xD;&#xA;        case &quot;上北&quot;: Place(StaticPlace.p1fsN4); break;&#xD;&#xA;        case &quot;右东&quot;: Place(StaticPlace.p1fsE4); break;&#xD;&#xA;        case &quot;下南&quot;: Place(StaticPlace.p1fsS4); break;&#xD;&#xA;        case &quot;左西&quot;: Place(StaticPlace.p1fsW4); break;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static string GetDir(Vector2 v) {&#xD;&#xA;  return GetDir(v.X, v.Y);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static string GetDir(string x, string y) {&#xD;&#xA;  return GetDir(float.Parse(x), float.Parse(y));&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static string GetDir(float x, float y) {&#xD;&#xA;  return x switch {&#xD;&#xA;   &gt; 110 when y &gt; 110 =&gt; &quot;右下东南&quot;,&#xD;&#xA;   &gt; 110 when y &lt; 90 =&gt; &quot;右上东北&quot;,&#xD;&#xA;   &lt; 90 when y &lt; 90 =&gt; &quot;左上西北&quot;,&#xD;&#xA;   &lt; 90 when y &gt; 110 =&gt; &quot;左下西南&quot;,&#xD;&#xA;   &gt; 115 =&gt; &quot;右东&quot;,&#xD;&#xA;   &lt; 85 =&gt; &quot;左西&quot;,&#xD;&#xA;   _ =&gt; y switch {&#xD;&#xA;    &lt; 85 =&gt; &quot;上北&quot;,&#xD;&#xA;    &gt; 115 =&gt; &quot;下南&quot;,&#xD;&#xA;    _ =&gt; &quot;&quot;&#xD;&#xA;   }&#xD;&#xA;  };&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static List&lt;Vector2&gt; GetXYFromBnpcid(string arg, int reqHP = -1) {&#xD;&#xA;  return (arg.Any(c =&gt; c is (&lt; '0' or &gt; '9') and (&lt; 'A' or &gt; 'F') and (&lt; 'a' or &gt; 'f'))&#xD;&#xA;   ? null&#xD;&#xA;   : (from en in BridgeFFXIV.GetAllEntities().Where(en =&gt; en.GetValue(&quot;bnpcid&quot;).ToString() == arg)&#xD;&#xA;    where reqHP == -1 || int.Parse(en.GetValue(&quot;currenthp&quot;).ToString()) == reqHP&#xD;&#xA;    select new Vector2(float.Parse(en.GetValue(&quot;x&quot;).ToString()), float.Parse(en.GetValue(&quot;y&quot;).ToString()))).ToList()) ?? throw new InvalidOperationException();&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static Vector2 GetXY(string id_xy) {&#xD;&#xA;  if (id_xy.Contains(&quot;,&quot;)) {&#xD;&#xA;   var ss = id_xy.Split(',');&#xD;&#xA;   return new Vector2(float.Parse(ss[0]), float.Parse(ss[1]));&#xD;&#xA;  }&#xD;&#xA;  if (id_xy.Any(c =&gt; c is (&lt; '0' or &gt; '9') and (&lt; 'A' or &gt; 'F') and (&lt; 'a' or &gt; 'f'))) return new Vector2();&#xD;&#xA;  var e = BridgeFFXIV.GetIdEntity(id_xy);&#xD;&#xA;  return new Vector2(float.Parse(e.GetValue(&quot;x&quot;).ToString()), float.Parse(e.GetValue(&quot;y&quot;).ToString()));&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void ThreeBucket(string args) {&#xD;&#xA;  foreach (var v in Players) {&#xD;&#xA;   if (args != v.name) continue;&#xD;&#xA;   lock (Threebuckets) {&#xD;&#xA;    switch (Threebuckets.Count) {&#xD;&#xA;     case 0:&#xD;&#xA;      Threebuckets.Add(v);&#xD;&#xA;      break;&#xD;&#xA;     case 1:&#xD;&#xA;      if (Threebuckets[0].storder &gt; v.storder) Threebuckets.Insert(0, v);&#xD;&#xA;      else Threebuckets.Add(v);&#xD;&#xA;      break;&#xD;&#xA;     case 2:&#xD;&#xA;      if (Threebuckets[0].storder &gt; v.storder) Threebuckets.Insert(0, v);&#xD;&#xA;      else if (Threebuckets[1].storder &gt; v.storder) Threebuckets.Insert(1, v);&#xD;&#xA;      else Threebuckets.Add(v);&#xD;&#xA;      if (Uthreebucket) {&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/mk attack1 &lt;{Threebuckets[0].partyorder}&gt;&quot;);&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/mk attack2 &lt;{Threebuckets[1].partyorder}&gt;&quot;);&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/mk attack3 &lt;{Threebuckets[2].partyorder}&gt;&quot;);&#xD;&#xA;       &#xD;&#xA;       // 添加个人提示，让玩家知道自己点的是哪个桶&#xD;&#xA;       if (Threebuckets[0].name == MyName) PostTip(&quot;一桶点你&quot;);&#xD;&#xA;       else if (Threebuckets[1].name == MyName) PostTip(&quot;二桶点你&quot;);&#xD;&#xA;       else if (Threebuckets[2].name == MyName) PostTip(&quot;三桶点你&quot;);&#xD;&#xA;       &#xD;&#xA;       Task.Run(async delegate {&#xD;&#xA;        await Task.Delay(9000);&#xD;&#xA;        plug.InvokeNamedCallback(&quot;command&quot;, &quot;/mk attack1 &lt;attack1&gt;&quot;);&#xD;&#xA;        plug.InvokeNamedCallback(&quot;command&quot;, &quot;/mk attack2 &lt;attack2&gt;&quot;);&#xD;&#xA;        plug.InvokeNamedCallback(&quot;command&quot;, &quot;/mk attack3 &lt;attack3&gt;&quot;);&#xD;&#xA;       });&#xD;&#xA;      }&#xD;&#xA;      else {&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e attack1 &lt;{Threebuckets[0].partyorder}&gt;&quot;);&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e attack2 &lt;{Threebuckets[1].partyorder}&gt;&quot;);&#xD;&#xA;       plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e attack3 &lt;{Threebuckets[2].partyorder}&gt;&quot;);&#xD;&#xA;       &#xD;&#xA;       // 添加个人提示，让玩家知道自己点的是哪个桶&#xD;&#xA;       if (Threebuckets[0].name == MyName) PostTip(&quot;一桶点你&quot;);&#xD;&#xA;       else if (Threebuckets[1].name == MyName) PostTip(&quot;二桶点你&quot;);&#xD;&#xA;       else if (Threebuckets[2].name == MyName) PostTip(&quot;三桶点你&quot;);&#xD;&#xA;      }&#xD;&#xA;      Threebuckets.Clear();&#xD;&#xA;      break;&#xD;&#xA;    }&#xD;&#xA;   }&#xD;&#xA;   break;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void InitParams() {&#xD;&#xA;  Threebuckets.Clear();&#xD;&#xA;  P43PlayerName.Clear();&#xD;&#xA;  Zhuzis.Clear();&#xD;&#xA;  Zhuzi2 = new Vector2();&#xD;&#xA;  hs = &quot;&quot;;&#xD;&#xA;  ttsafe = &quot;&quot;;&#xD;&#xA;  hsadd = &quot;&quot;;&#xD;&#xA;  ciyu = new Ciyu();&#xD;&#xA;  p43dhCount = 0;&#xD;&#xA;  p43dhDist = new List&lt;DHP43&gt;();&#xD;&#xA;  Ubroadcast = GetPScale(&quot;Ubroadcast&quot;) == &quot;1&quot;;&#xD;&#xA;  Uthreebucket = GetPScale(&quot;Uthreebucket&quot;) == &quot;1&quot;;&#xD;&#xA;  Uauto = GetPScale(&quot;Uauto&quot;) == &quot;1&quot;;&#xD;&#xA;  Umarklocal = GetPScale(&quot;Umarklocal&quot;) == &quot;1&quot;;&#xD;&#xA;  Umark = GetPScale(&quot;Umark&quot;) == &quot;1&quot;;&#xD;&#xA;  &#xD;&#xA;  &#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static void GetPartyOrderInit(string args) {&#xD;&#xA;  var ss = args.Split(',');&#xD;&#xA;  var find = false;&#xD;&#xA;  for (var i = 0; i &lt; 8; i++) {&#xD;&#xA;   var job = JobOrder[i];&#xD;&#xA;   int num;&#xD;&#xA;   if (MyJob == job) {&#xD;&#xA;    num = 1;&#xD;&#xA;    find = true;&#xD;&#xA;   }&#xD;&#xA;   else num = i + (find ? 1 : 2);&#xD;&#xA;   var name = ss[num];&#xD;&#xA;   foreach (var ser in Server) {&#xD;&#xA;    if (!name.EndsWith(ser)) continue;&#xD;&#xA;    name = name.Substring(0, name.Length - ser.Length);&#xD;&#xA;    break;&#xD;&#xA;   }&#xD;&#xA;   Players[i] = new Player(job, num, name);&#xD;&#xA;  }&#xD;&#xA;  InitParams();&#xD;&#xA;  var sb = new StringBuilder(&quot;绝神兵小队初始化完成。职业&quot;).Append(MyJob).Append(&quot;。&quot;);&#xD;&#xA;  if (Ubroadcast) sb.Append(&quot;启用团队播报。&quot;);&#xD;&#xA;  if (Uthreebucket) sb.Append(&quot;启用三连桶点名。&quot;);&#xD;&#xA;  if (Uauto) sb.Append(&quot;启用FA坐标&quot;);&#xD;&#xA;  if (Umark&amp;&amp;Umarklocal) sb.Append(&quot;启用本地标记。&quot;);&#xD;&#xA;  if (Umark&amp;&amp;!Umarklocal) sb.Append(&quot;启用小队可见标记。&quot;);&#xD;&#xA;  if (Utarget) sb.Append(&quot;启用自动切换目标。&quot;);&#xD;&#xA;  &#xD;&#xA;  var sbs = sb.ToString();&#xD;&#xA;  Log(sbs);&#xD;&#xA;  PostTTS(sbs);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private static void Log(string message) {&#xD;&#xA;  plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e {message}&quot;);&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private record DHP43(string name, float dist) {&#xD;&#xA;  internal readonly string name = name;&#xD;&#xA;  internal float dist = dist;&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private record P41Info {&#xD;&#xA;  internal readonly Vector2 after;&#xD;&#xA;  internal readonly bool canES;&#xD;&#xA;  internal readonly string desc, first;&#xD;&#xA;&#xD;&#xA;  internal P41Info(string first, string desc, Vector2 after, bool canES) {&#xD;&#xA;   this.first = first;&#xD;&#xA;   this.canES = canES;&#xD;&#xA;   this.desc = desc;&#xD;&#xA;   if (canES) this.desc += &quot;(提前安全)&quot;;&#xD;&#xA;   this.after = after;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  public override string ToString() {&#xD;&#xA;   return desc;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private record Ciyu {&#xD;&#xA;  internal readonly List&lt;string&gt; dmg = new();&#xD;&#xA;  internal bool cs2;&#xD;&#xA;  internal string zid;&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private record Zhuzi {&#xD;&#xA;  internal readonly List&lt;string&gt; dmg = new();//伤害&#xD;&#xA;  internal readonly int pos;&#xD;&#xA;  internal readonly string zid;&#xD;&#xA;  internal bool cs2;&#xD;&#xA;&#xD;&#xA;  internal Zhuzi(string zid, int pos) {&#xD;&#xA;   this.zid = zid;&#xD;&#xA;   this.pos = pos;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA; private static class StaticPlace {&#xD;&#xA;  internal const string initPlace = &quot;A:100,82;B:118,100;C:100,118;D:82,100;3:93,93;4:107,107;1:100,100;2:87,87&quot;,&#xD;&#xA;   clear2 = &quot;2:clear&quot;,&#xD;&#xA;   clear3 = &quot;3:clear&quot;,&#xD;&#xA;   clear4 = &quot;4:clear&quot;,&#xD;&#xA;   safeA = &quot;1:100,84;2:98,82;3:102,82;4:100,92.5&quot;,&#xD;&#xA;   safeB = &quot;1:116,100;2:118,98;3:118,102;4:107.5,100&quot;,&#xD;&#xA;   safeC = &quot;1:100,116;2:102,118;3:98,118;4:100,107.5&quot;,&#xD;&#xA;   safeD = &quot;1:84,100;2:82,102;3:82,98;4:92.5,100&quot;,&#xD;&#xA;   p1fsN3 = &quot;3:100,90&quot;,&#xD;&#xA;   p1fsN4 = &quot;4:100,90&quot;,&#xD;&#xA;   p1fsS3 = &quot;3:100,110&quot;,&#xD;&#xA;   p1fsS4 = &quot;4:100,110&quot;,&#xD;&#xA;   p1fsW3 = &quot;3:90,100&quot;,&#xD;&#xA;   p1fsW4 = &quot;4:90,100&quot;,&#xD;&#xA;   p1fsE3 = &quot;3:110,100&quot;,&#xD;&#xA;   p1fsE4 = &quot;4:110,100&quot;,&#xD;&#xA;   p2hsWEsafe = &quot;2:90,100;3:110,100&quot;,&#xD;&#xA;   p2hsNSsafe = &quot;2:100,90;3:100,110&quot;,&#xD;&#xA;   p41place2 = &quot;2:100,111&quot;,&#xD;&#xA;   p42place2 = &quot;2:88,88&quot;,&#xD;&#xA;   p42place4d4 = &quot;4:100,110&quot;,&#xD;&#xA;   p42place2rf = &quot;2:100,112&quot;,&#xD;&#xA;   startp43 = &quot;A:100,82;B:94.5,83;1:89.5,85.5;2:85.5,89.5;3:83,94.5;4:82,100&quot;,&#xD;&#xA;   p5jzhA = &quot;B:101,81;C:101,83;D:99,81;4:99,83&quot;,&#xD;&#xA;   p5jzh2 = &quot;B:89,87;C:89,89;D:87,87;4:87,89&quot;,&#xD;&#xA;   p5jzh3 = &quot;B:94,92;C:94,94;D:92,92;4:92,94&quot;;&#xD;&#xA;  internal static readonly string[,] ygjdPlace4 = {&#xD;&#xA;   { &quot;4:101.1,109.6&quot;, &quot;4:98.9,109.6&quot; },&#xD;&#xA;   { &quot;4:90.4,101.1&quot;, &quot;4:90.4,98.9&quot; },&#xD;&#xA;   { &quot;4:98.9,90.4&quot;, &quot;4:101.1,90.4&quot; },&#xD;&#xA;   { &quot;4:109.6,98.9&quot;, &quot;4:109.6,101.1&quot; }&#xD;&#xA;  };&#xD;&#xA; }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA; private readonly record struct Player {&#xD;&#xA;  internal readonly string job, name;&#xD;&#xA;  internal readonly int partyorder, storder;&#xD;&#xA;&#xD;&#xA;  internal Player(string job, int partyorder, string name) {&#xD;&#xA;   this.job = job;&#xD;&#xA;   if (job == MyJob) MyName = name;&#xD;&#xA;   this.partyorder = partyorder;&#xD;&#xA;   var o = 0;&#xD;&#xA;   for (var i = 0; i &lt; TBJobOrder.Length; i++) {&#xD;&#xA;    if (job != TBJobOrder[i]) continue;&#xD;&#xA;    o = i;&#xD;&#xA;    break;&#xD;&#xA;   }&#xD;&#xA;   storder = o;&#xD;&#xA;   this.name = name;&#xD;&#xA;  }&#xD;&#xA;&#xD;&#xA;  public override string ToString() {&#xD;&#xA;   return $&quot;[{job}({partyorder})]:{name}&quot;;&#xD;&#xA;  }&#xD;&#xA; }&#xD;&#xA;}" ActionType="ExecuteScript" Asynchronous="False" />
                  <Action OrderNumber="2" VariableOp="SetString" VariableName="ptuw_USpecJob" VariableExpression="${_me.subrole}" ActionType="Variable" Asynchronous="False">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${var:ptuw_USpecJob}" ExpressionTypeL="String" ExpressionR="" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="3" NamedCallbackName="command" NamedCallbackParam="/e [Nag0miUWU] ${var:ptuw_USpecJob},&lt;1&gt;,&lt;2&gt;,&lt;3&gt;,&lt;4&gt;,&lt;5&gt;,&lt;6&gt;,&lt;7&gt;,&lt;8&gt;" ActionType="NamedCallback" Asynchronous="False">
                    <Condition Enabled="false" Grouping="And">
                      <ConditionSingle Enabled="false" ExpressionL="${func:length:var:ptuw_USpecJob}" ExpressionTypeL="Numeric" ExpressionR="2" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                    </Condition>
                  </Action>
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="回调字幕提示" Id="52c2b672-8019-4ef0-b4cc-6b23d73da1e1" RegularExpression="^\[Latihas Tip\] (?&lt;text&gt;[^:]+):(?&lt;offset_x&gt;[^:]+):(?&lt;offset_y&gt;[^:]+):(?&lt;id&gt;\S+)" PrevActions="Interrupt">
                <Actions>
                  <Action OrderNumber="1" UseTTSTextExpression="${var:Souma_Team_Role}" TextAuraEffect="Bold" TextAuraFontSize="26.25" TextAuraForeground="White" TextAuraOutline="Fuchsia" TextAuraName="tuw_subtitle_${id}" TextAuraExpression="${text}" TextAuraXIniExpression="1413+${offset_x}" TextAuraYIniExpression="333+${offset_y}" TextAuraWIniExpression="400" TextAuraHIniExpression="200" TextAuraOIniExpression="50" TextAuraTTLTickExpression="5-${_since}" TextAuraFontName="微软雅黑" ActionType="TextAura">
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${ecallback:warn}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                      <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="main" ExpressionTypeR="String" ConditionType="NumericEqual" />
                    </Condition>
                  </Action>
                  <Action OrderNumber="1" NamedCallbackName="warn" NamedCallbackParam="2.5&#xD;&#xA;${text}" ActionType="NamedCallback">
                    <Condition Enabled="true" Grouping="And">
                      <ConditionSingle Enabled="true" ExpressionL="${ecallback:warn}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringNotEqualCase" />
                      <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="main" ExpressionTypeR="String" ConditionType="StringEqualCase" />
                    </Condition>
                  </Action>
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="e87ffa89-e448-4ec2-9a5e-74788392728f" Name="危险区判定（蜂鸣）（适用于不想开绘制的）" Enabled="false">
            <Folders>
              <Folder Id="eec23582-5ffd-4929-a160-ca8901e13e22" Name="热风" Enabled="true">
                <Folders />
                <Triggers>
                  <Trigger Enabled="true" Name="判断热风距离" Id="c9dbbf78-bb67-4fd4-b0f0-5c43985bd70f" RegularExpression="">
                    <Actions>
                      <Action OrderNumber="1" SystemBeepLengthExpression="50">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_ffxiventity[tuw_RFid_tmp].Distance}" ExpressionTypeL="Numeric" ExpressionR="15" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" VariableOp="Increment" VariableName="RFcount" VariableExpression="+1" ActionType="Variable" />
                      <Action OrderNumber="3" TriggerId="c9dbbf78-bb67-4fd4-b0f0-5c43985bd70f" TriggerForce="regexp" ActionType="Trigger" ExecutionDelayExpression="50">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${var:RFcount}" ExpressionTypeL="Numeric" ExpressionR="360" ExpressionTypeR="String" ConditionType="NumericLessEqual" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" VariableName="RFcount" ActionType="Variable">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${var:RFcount}" ExpressionTypeL="Numeric" ExpressionR="360" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="热风添加" Id="aa5ff892-a8a3-4705-ac0e-96d5ff2ae03c" RegularExpression="^.{14} (?:\w+ )14:.{8}:(伊弗利特|Ifrit|イフリート):2B5B:(灼热咆哮|Inferno Howl|灼熱の咆哮):(?&lt;RFid&gt;.*?):(?&lt;RFName&gt;[^.]*):">
                    <Actions>
                      <Action OrderNumber="1" TriggerId="c9dbbf78-bb67-4fd4-b0f0-5c43985bd70f" TriggerForce="regexp" ActionType="Trigger" />
                      <Action OrderNumber="2" VariableOp="SetString" VariableName="tuw_RFid_tmp" VariableExpression="${RFid}" ActionType="Variable" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers />
          </Folder>
          <Folder Id="7cb30273-541e-4417-bc13-c69ab6114142" Name="全自动" Enabled="false">
            <Folders>
              <Folder Id="272ad71d-f359-4771-aae3-8dbb2112b3e6" Name="风神移动" Enabled="false">
                <Folders />
                <Triggers>
                  <Trigger Enabled="false" Name="风神" Id="4daa650e-756e-4d02-a157-696ebe805d50" RegularExpression="^.{14} (?:\w+ )00:0044:(迦楼罗|Garuda|ガルーダ):(哈哈哈哈哈！ 你们这些蝼蚁只有被我的狂风吹散的下场|Heehee HAHA hahaha HEEHEE haha HEEEEEE!!!|無残に散れッ！)">
                    <Actions />
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="adf391ca-4285-4d51-b69a-c95eca45a185" Name="土神" Enabled="true">
                <Folders>
                  <Folder Id="a6865fd1-5d59-489b-bbf3-c1ac18a744d5" Name="三连桶" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Name="二桶" Id="4d64f466-39ac-4aed-bb87-8c42e62d60f0" RegularExpression="^.{14} (?:\w+ )1D:Add:1:(?&lt;id&gt;.{8})">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="Teleport" NamedCallbackParam="100,100,0" ActionType="NamedCallback" ExecutionDelayExpression="4000">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="三桶" Id="813c67dd-e0ac-4228-9799-b361c2950e91" RegularExpression="^.{14} (?:\w+ )1D:Add:2:(?&lt;id&gt;.{8})">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e ${v:tuw_三桶坐标x} ${v:tuw_三桶坐标y} 0" ActionType="NamedCallback" Asynchronous="False">
                            <Condition Enabled="false" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                              <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" NamedCallbackName="Teleport" NamedCallbackParam="${v:tuw_三桶坐标x},${v:tuw_三桶坐标y},0" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="一桶" Id="0587819a-b2fa-425a-9fd4-1ee6fc9d1d18" RegularExpression="^.{14} (?:\w+ )1D:Add:0:(?&lt;id&gt;.{8})">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e ${v:tuw_一桶坐标x} ${v:tuw_一桶坐标y} 0" ActionType="NamedCallback" Asynchronous="False">
                            <Condition Enabled="false" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:ptuw_Uauto}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                              <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" NamedCallbackName="Teleport" NamedCallbackParam="${v:tuw_一桶坐标x},${v:tuw_一桶坐标y},0" ActionType="NamedCallback" ExecutionDelayExpression="4000" Asynchronous="False">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="捕获桶坐标" Id="6138b807-11c0-421c-81c5-16ce8b629c00" RegularExpression="^.{15}\S+ 00:0038::(?&lt;num&gt;\d+)桶移动坐标:(?&lt;x&gt;\d+(?:\.\d+)?),(?&lt;y&gt;\d+(?:\.\d+)?)">
                        <Actions>
                          <Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tuw_一桶坐标x" VariableExpression="${x}" ActionType="Variable">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${num}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericEqual" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="2" VariableOp="SetNumeric" VariableName="tuw_一桶坐标y" VariableExpression="${y}" ActionType="Variable">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${num}" ExpressionTypeL="String" ExpressionR="1" ExpressionTypeR="String" ConditionType="NumericEqual" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="3" VariableOp="SetNumeric" VariableName="tuw_三桶坐标x" VariableExpression="${x}" ActionType="Variable">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${num}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericEqual" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="4" VariableOp="SetNumeric" VariableName="tuw_三桶坐标y" VariableExpression="${y}" ActionType="Variable">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${num}" ExpressionTypeL="String" ExpressionR="3" ExpressionTypeR="String" ConditionType="NumericEqual" />
                            </Condition>
                          </Action>
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="true" Name="一杆进洞" Id="fb0ac757-0571-4613-9e07-c1c4d32406e7" RegularExpression="^.{15}\S+ 00:0038::大怒震移动坐标:(?&lt;x&gt;\d+(?:\.\d+)?),(?&lt;y&gt;\d+(?:\.\d+)?)">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="Teleport" NamedCallbackParam="${x},${y},0" ActionType="NamedCallback" ExecutionDelayExpression="1000" Asynchronous="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="土神" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers />
          </Folder>
          <Folder Id="b31cc4d5-5140-4b50-9a70-82a178d4632d" Name="彩蛋" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="自动辛苦了" Id="1cfd80df-5a1d-46dc-9510-a5a1c13e9c8a" RegularExpression="^.{14} Director 21:.{8}:40000003:00:00:00:00$">
                <Actions>
                  <Action OrderNumber="1" PlaySoundFileExpression="https://torappu.prts.wiki/assets/audio/voice/char_383_snsant/cn_030.wav?filename=3%E6%98%9F%E7%BB%93%E6%9D%9F%E8%A1%8C%E5%8A%A8.wav" ActionType="PlaySound" Description="雪雉3星结束行动 没有一丁点浪费，完美的胜利！" DescriptionOverride="True" />
                </Actions>
              </Trigger>
              <Trigger Enabled="true" Name="金身" Id="a3e778e0-3989-4d84-9559-5975eb3a89d7" RegularExpression="^.{14} (?:\w+ )15:(?&lt;id&gt;.{8}):[^:]+:(?&lt;spellid&gt;.{4})">
                <Actions>
                  <Action OrderNumber="1" PlaySoundFileExpression="https://d.feiliupan.com/t/105019529578418176/butcher_skill_jinghua.wav" PlaySoundVolumeExpression="50" ActionType="PlaySound" Description="金身音效" DescriptionOverride="True" />
                </Actions>
                <Condition Enabled="true" Grouping="And">
                  <ConditionSingle Enabled="true" ExpressionL="${id}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                  <ConditionGroup Enabled="true" Grouping="Or">
                    <ConditionSingle Enabled="true" ExpressionL="${spellid}" ExpressionTypeL="String" ExpressionR="1D87" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    <ConditionSingle Enabled="true" ExpressionL="${spellid}" ExpressionTypeL="String" ExpressionR="1D7C" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                  </ConditionGroup>
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="LB满" Id="0f696495-cc09-4fa6-b4ed-0963627b09ab" RegularExpression="^.{14} LimitBreak 24:7530:3">
                <Actions>
                  <Action OrderNumber="1" VariableOp="SetNumeric" VariableName="tuw_lb" VariableExpression="1" TriggerOp="CancelTrigger" TriggerId="760e97de-2040-4038-b54f-f08d04bc34ea" ActionType="Variable" Asynchronous="False" />
                  <Action OrderNumber="2" PlaySoundFileExpression="https://d.feiliupan.com/t/105019529578418176/killer_bell.wav" PlaySoundVolumeExpression="50" ActionType="PlaySound" Asynchronous="False" />
                </Actions>
              </Trigger>
            </Triggers>
          </Folder>
          <Folder Id="70297fe1-983c-47cf-bdcf-51445f04439f" Name="绘制" Enabled="true">
            <Folders>
              <Folder Id="41977484-952f-4095-9958-e8600cd837aa" Name="风神" Enabled="true">
                <Folders>
                  <Folder Id="0dbb6ce6-d076-45a5-8a55-aab3f5997803" Name="羽毛" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Name="p1羽毛" Id="36da6c29-0d8c-4602-b131-5940bee8c76b" RegularExpression="^.{14} 273 111:.{8}:0197:1E3A:0:0:0">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 躲羽毛" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="2" VariableOp="Increment" VariableName="tuw_p1羽毛次数" VariableExpression="+1" ActionType="Variable" />
                          <Action OrderNumber="3" TriggerId="e7b412df-ff6e-4112-8527-747efb0dc4c2" TriggerForce="regexp,conditions" ActionType="Trigger" />
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${var:tuw_p1羽毛次数}" ExpressionTypeL="Numeric" ExpressionR="8" ExpressionTypeR="Numeric" ConditionType="NumericLessEqual" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="P4本体进入本体" Id="6ada2960-7f2d-4ef4-8dbc-eb90d69de1d0" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]*:2B76:" PrevActionsRefire="Deny" Scheduling="FromRefirePeriod" PeriodRefire="Deny" RefirePeriodExpression="120000">
                        <Actions>
                          <Action OrderNumber="1" TriggerOp="EnableTrigger" TriggerId="7fdf279d-fe61-47bb-8549-353af34c35de" ActionType="Trigger" />
                          <Action OrderNumber="2" TriggerOp="DisableTrigger" TriggerId="36da6c29-0d8c-4602-b131-5940bee8c76b" ActionType="Trigger" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Name="本体羽毛" Id="7fdf279d-fe61-47bb-8549-353af34c35de" RegularExpression="^.{14} 273 111:.{8}:0197:1E3A:0:0:0">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e 躲羽毛" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="2" TriggerId="e7b412df-ff6e-4112-8527-747efb0dc4c2" TriggerForce="regexp,conditions" ActionType="Trigger" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Sequential="True" Name="添加羽毛omen黄圈特效" Id="e7b412df-ff6e-4112-8527-747efb0dc4c2" RegularExpression="" PeriodRefire="Deny" RefirePeriodExpression="1000">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_me.Pos}&#xD;&#xA;Scale: 0.5,0.5&#xD;&#xA;Tag:ym1" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2Pos: ${_ffxivparty[2].Pos}&#xD;&#xA;Scale: 3,3&#xD;&#xA;Tag:ym2" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[3].Pos}&#xD;&#xA;Scale: 3,3Tag:ym3" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[4].Pos}&#xD;&#xA;Scale: 3,3Tag:ym4" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[5].Pos}&#xD;&#xA;Scale: 3,3Tag:ym5" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[6].Pos}&#xD;&#xA;Scale: 3,3Tag:ym6" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[7].Pos}&#xD;&#xA;Scale: 3,3Tag:ym7" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Pos: ${_ffxivparty[8].Pos}&#xD;&#xA;Scale: 3,3Tag:ym8" Enabled="False" ActionType="NamedCallback" />
                          <Action OrderNumber="9" TableVariableOp="GetAllEntities" TableVariableName="tmp_tgts" TableVariableX="Pos" TableVariableY="Type = 1 &amp;&amp; HP &gt; 0" ActionType="TableVariable" />
                          <Action OrderNumber="10" ListVariableOp="SetAll" ListVariableName="tmp_posList" ListVariableExpression="Pos: ${t:tmp_tgts[1][${_idx}]}&#xD;&#xA;Omen: general_1bf&#xD;&#xA;t: 2&#xD;&#xA;Scale: 3,3" ListVariableIndex="${t:tmp_tgts.height}" ActionType="ListVariable" />
                          <Action OrderNumber="11" ListVariableOp="Remove" ListVariableName="tmp_posList" ListVariableIndex="1" ActionType="ListVariable" />
                          <Action OrderNumber="12" ListVariableOp="Join" ListVariableName="tmp_posList" ListVariableExpression="&#xD;&#xA;---&#xD;&#xA;" ListVariableTarget="tmp_posPiclist" ActionType="ListVariable" />
                          <Action OrderNumber="13" NamedCallbackName="PictoACT" NamedCallbackParam="${var:tmp_posPiclist}" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="ef58d313-8d75-4a6b-a7fb-8fd552cecc7f" Name="风枪" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Sequential="True" Name="开局本体风枪" Id="7cd5d68a-0618-4518-8ded-456af498e3ea" RegularExpression="^.{14} (?:\w+ )1B:(?&lt;FQid&gt;[^:]+):(?&lt;FQRoleName&gt;[^:]+):0000:0000:0010:.{8}:0000:0000">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: m0359wind_lz_o0t&#xD;&#xA;t: 4&#xD;&#xA;Pos: ${_entity[BNpcID=8722].Pos}&#xD;&#xA;Angle: angle(${_entity[BNpcID=8722].PosX}, ${_entity[BNpcID=8722].PosY}, ${_entity[${FQid}].PosX}, ${_entity[${FQid}].PosY})&#xD;&#xA;Scale: 8, 40&#xD;&#xA;Tag:开局风枪" ActionType="NamedCallback" />
                          <Action OrderNumber="2" LoopDelayExpression="5" ActionType="Loop" ExecutionDelayExpression="50">
                            <LoopCondition Enabled="true" Grouping="Or">
                              <ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="String" ExpressionR="4000" ExpressionTypeR="String" ConditionType="NumericLess" />
                            </LoopCondition>
                            <LoopActions>
                              <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action:Change&#xD;&#xA;Omen:m0359wind_lz_o0t&#xD;&#xA;Pos:${_entity[BNpcID=8722].Pos}&#xD;&#xA;Angle:angle(${_entity[BNpcID=8722].PosX}, ${_entity[BNpcID=8722].PosY}, ${_entity[${FQid}].PosX}, ${_entity[${FQid}].PosY})&#xD;&#xA;Scale:8, 40&#xD;&#xA;Tag:开局风枪" ActionType="NamedCallback" />
                            </LoopActions>
                          </Action>
                          <Action OrderNumber="3" ExecutionDelayExpression="4000" />
                          <Action OrderNumber="4" TriggerOp="DisableTrigger" TriggerId="7cd5d68a-0618-4518-8ded-456af498e3ea" ActionType="Trigger" />
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="true" Name="螺旋气流" Id="2534c66e-3e46-456d-8b58-9cd99200b52f" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B53:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_fan90_1bwf_k1&#xD;&#xA;t: 2.5&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Angle: ${_entity[${id}].h}&#xD;&#xA;Scale: 12,12" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_fan90_1bwf_k1, 2.5, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 12, 12" Enabled="False" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="三运觉醒顺劈" Id="a618bd0a-4aaa-46f5-a979-2cae8b24f555" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B8E:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: gl_fan150_y10_1bf&#xD;&#xA;t: 2.2&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 21,21&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="gl_fan150_y10_1bf, 2.5, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 20, 20" Enabled="False" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="钢铁邪轮旋风" Id="c56719ad-22dd-43b1-bc5f-b8ccc4e06fa1" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B4C:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 5&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 7,7" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="bd74cef7-34e2-4462-8fd9-34007c622589" Name="火神" Enabled="true">
                <Folders />
                <Triggers>
                  <Trigger Enabled="true" Name="火神冲特效显示" Id="551311b4-847f-4970-bf8b-285cecacedd7" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B5F:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 10,40&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="mdl_general_02x, 5, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 5, 40" Enabled="False" ActionType="NamedCallback" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Sequential="True" Name="热风" Id="79e9018e-f963-491b-b1a2-a302437d6feb" RegularExpression="^.{14} (?:\w+ )14:.{8}:(伊弗利特|Ifrit|イフリート):2B5B:(灼热咆哮|Inferno Howl|灼熱の咆哮):(?&lt;RFid&gt;.*?):(?&lt;RFName&gt;[^.]*):">
                    <Actions>
                      <Action OrderNumber="1" ListVariableOp="Push" ListVariableName="tuw_RFid" ListVariableExpression="${RFid}" ActionType="ListVariable" ExecutionDelayExpression="5" Asynchronous="False" />
                      <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:gl_sircle_1510bx&#xD;&#xA;t:21&#xD;&#xA;O:${_entity[${l:tuw_RFid[last]}].XYZ}&#xD;&#xA;Scale:15,15&#xD;&#xA;Tag:热风未觉醒" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:gl_sircle_1510bx&#xD;&#xA;t:33&#xD;&#xA;O:${_entity[${l:tuw_RFid[last]}].XYZ}&#xD;&#xA;Scale:15,15&#xD;&#xA;Tag:热风觉醒" ActionType="NamedCallback" ExecutionDelayExpression="5" Asynchronous="False">
                        <Condition Enabled="true" Grouping="And">
                          <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="4" LoopDelayExpression="5" ActionType="Loop" Asynchronous="False">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="Numeric" ExpressionR="29000" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action:Change&#xD;&#xA;Omen:gl_sircle_1510bx&#xD;&#xA;O:${_entity[${l:tuw_RFid[last]}].XYZ}&#xD;&#xA;Scale:15,15&#xD;&#xA;Tag:热风觉醒" ActionType="NamedCallback" Asynchronous="False">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericGreater" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action:Change&#xD;&#xA;Omen:gl_sircle_1510bx&#xD;&#xA;O:${_entity[${l:tuw_RFid[last]}].XYZ}&#xD;&#xA;Scale:15,15&#xD;&#xA;Tag:热风未觉醒" ActionType="NamedCallback" Asynchronous="False">
                            <Condition Enabled="true" Grouping="And">
                              <ConditionSingle Enabled="true" ExpressionL="${l:tuw_RFid.size}" ExpressionTypeL="Numeric" ExpressionR="1" ExpressionTypeR="Numeric" ConditionType="NumericEqual" />
                            </Condition>
                          </Action>
                        </LoopActions>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="2db217ca-924c-4b22-b478-abb39b0ebfea" Name="土神" Enabled="true">
                <Folders>
                  <Folder Id="70474313-8a63-4379-a6a2-5ae83d91e5fe" Name="冲拳" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="false" Name="冲拳本体" Id="46da3bc6-6150-4b34-8080-26a22ccb3881" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B6F">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 2.2&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 3,40&#xD;&#xA;Tag:冲拳本体&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                            <Condition Enabled="false" Grouping="Or">
                              <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="mdl_general_02x, 3, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 6, 40" Enabled="False" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="冲拳神兵分身" Id="2674a0ab-1b44-420b-a4a9-18655e344a35" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B7F">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 1.7&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 3,40&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                            <Condition Enabled="false" Grouping="Or">
                              <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                        </Actions>
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="1801" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Trigger>
                      <Trigger Enabled="true" Name="冲拳觉醒分身" Id="d55cf099-7a43-426c-aa35-85d25d451f77" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2C22">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 1.7&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 3,40&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                            <Condition Enabled="false" Grouping="Or">
                              <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="mdl_general_02x, 3, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 6, 40" Enabled="False" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="false" Name="冲拳觉醒本体" Id="bdf90c71-a688-47f8-b84f-34a428b5114e" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B71">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 2.2&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 3,40&#xD;&#xA;Tag:冲拳觉醒&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                            <Condition Enabled="false" Grouping="Or">
                              <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="mdl_general_02x, 3, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 6, 40" Enabled="False" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="冲拳分身" Id="ae8eced6-e141-4fb5-87f0-932be3c9fe6c" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B70">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 1.7&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 3,40&#xD;&#xA;Angle: ${_entity[${id}].h}" ActionType="NamedCallback">
                            <Condition Enabled="false" Grouping="Or">
                              <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                            </Condition>
                          </Action>
                          <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="mdl_general_02x, 3, ${_entity[${id}].Pos}, ${_entity[${id}].h}, 6, 40" Enabled="False" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="神兵冲拳" Id="47b292ff-8b35-4e60-8cea-8a0e9d39c823" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B7E:">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 1.7&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Angle: ${_entity[${id}].h}&#xD;&#xA;Scale: 3,40" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="true" Name="大地粉碎落地" Id="d815b9fb-f750-4980-b786-d14db983330d" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B66:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 23,23&#xD;&#xA;Tag:大地粉碎" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general_1bf,5,${_entity[${id}].Pos}, ${_entity[${id}].h},23,23" Enabled="False" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="1801" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="false" Name="大爆炸" Id="c84c8ff1-8060-4be5-9034-1eaf5737b886" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2B6A:">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t:3.5&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 6&#xD;&#xA;Tag:大爆炸" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="1" NamedCallbackName="Omen" NamedCallbackParam="general_1bf,5,${_entity[${id}].Pos}, ${_entity[${id}].h},5,5" Enabled="False" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="1803" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Sequential="True" Name="冲击石头砸地" Id="5c045515-c537-44a2-9d61-70f8b68a3c6e" RegularExpression="^.{14} (?:\w+ )03:(?&lt;rockid&gt;.*?):爆破岩石">
                    <Actions>
                      <Action OrderNumber="1" VariableOp="SetString" VariableName="tmp_rockpos" VariableExpression=" ${_entity[${rockid}].Pos}" ActionType="Variable" />
                      <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 1&#xD;&#xA;Pos: ${var:tmp_rockpos}&#xD;&#xA;Scale: 5,5&#xD;&#xA;Tag:冲击" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Sequential="True" Name="石牢爆炸范围(仅自己)" Id="cce11067-b354-4d5e-9f03-9ece0eb9dd90" RegularExpression="^.{14} ActionEffect 15:.{8}:[^:]+:2B6(?:B|C):[^:]+:(?&lt;bucketid&gt;[^:]+):">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 6&#xD;&#xA;Pos: ${_me.Pos}&#xD;&#xA;Scale: 6,6&#xD;&#xA;Color:0.1,1,0.2&#xD;&#xA;Tag:石牢爆炸" ActionType="NamedCallback">
                        <Condition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${bucketid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" LoopDelayExpression="5" ActionType="Loop">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="String" ExpressionR="3000" ExpressionTypeR="String" ConditionType="NumericLess" />
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Pos: ${_me.Pos}&#xD;&#xA;Scale: 6,6&#xD;&#xA;Tag:石牢爆炸" ActionType="NamedCallback">
                            <Condition Enabled="true" Grouping="Or">
                              <ConditionGroup Enabled="true" Grouping="Or">
                                <ConditionSingle Enabled="true" ExpressionL="${bucketid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                              </ConditionGroup>
                            </Condition>
                          </Action>
                        </LoopActions>
                      </Action>
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${bucketid}" ExpressionTypeL="String" ExpressionR="${_me.id}" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Name="落地钢铁" Id="07ba15be-62b3-47fb-afa1-98558321823e" RegularExpression="^.{14} (?:\w+ )00:0044:(伊弗利特|Ifrit|イフリート):(不共戴天……|The blessing of Light...defies me!?|不倶戴天……。)">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 5&#xD;&#xA;Center: 100, 100, 0&#xD;&#xA;Scale: 18,18&#xD;&#xA;Tag:转场落地贴边" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="一杆进洞击退落点" Id="deeb84f9-f33c-4204-b1d9-edc6f749ad85" RegularExpression="">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:x6d2_pk_o0e1&#xD;&#xA;t:5&#xD;&#xA;Scale:0.25,24&#xD;&#xA;Pos:${_me.Pos}&#xD;&#xA;Angle: ${_me.H}+pi&#xD;&#xA;Tag:ygjd" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Pos:${_me.Pos} polar 24,${_me.H}+pi&#xD;&#xA;Omen:hori_trap_o2v&#xD;&#xA;t:5&#xD;&#xA;Tag:ygjdpos&#xD;&#xA;Scale:1,1,5" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="2" LoopDelayExpression="5" ActionType="Loop" Asynchronous="False">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="Numeric" ExpressionR="4950" ExpressionTypeR="Numeric" ConditionType="NumericLess" />
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="1:${_me.Pos} polar 24,${_me.H}+pi" Enabled="False" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Pos:${_me.Pos} polar 24,${_me.H}+pi&#xD;&#xA;Tag:ygjdpos&#xD;&#xA;Action: Change" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Tag:ygjd&#xD;&#xA;Pos:${_me.Pos}&#xD;&#xA;Angle: ${_me.H}+pi" ActionType="NamedCallback" Asynchronous="False" />
                        </LoopActions>
                      </Action>
                      <Action OrderNumber="3" NamedCallbackName="AdvWm" NamedCallbackParam="1:${_me.Pos} polar 24,${_me.H}+pi" Enabled="False" ActionType="NamedCallback" ExecutionDelayExpression="5" Asynchronous="False" />
                      <Action OrderNumber="4" ListVariableOp="SetAll" ListVariableName="tmp_AddressList" ListVariableExpression="${t:tmp_ygjsys[1][${_idx}]}" ListVariableIndex="${t:tmp_ygjsys.height}" Enabled="False" ActionType="ListVariable" />
                      <Action OrderNumber="5" ListVariableOp="Remove" ListVariableName="tmp_posList" ListVariableIndex="1" Enabled="False" ActionType="ListVariable" />
                      <Action OrderNumber="6" ListVariableOp="Join" ListVariableName="tmp_posList" ListVariableExpression="&#xD;&#xA;---&#xD;&#xA;" ListVariableTarget="tmp_posPiclist" Enabled="False" ActionType="ListVariable" />
                      <Action OrderNumber="7" NamedCallbackName="SetOpacity" Enabled="False" ActionType="NamedCallback" />
                      <Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="${var:tmp_posPiclist}" Enabled="False" ActionType="NamedCallback" />
                      <Action OrderNumber="9" TableVariableOp="GetAllEntities" TableVariableName="tmp_ygjsys" TableVariableX="Address" TableVariableY="Type = 1 &amp;&amp; HP &gt; 0" Enabled="False" ActionType="TableVariable" />
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="true" Name="落地钢铁" Id="3ab2ccfc-cd39-402d-8fe9-bd4521df9b30" RegularExpression="^.{14} (?:\w+ )00:0044:(伊弗利特|Ifrit|イフリート):(不共戴天……|The blessing of Light...defies me!?|不倶戴天……。)">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 5&#xD;&#xA;Center: 100, 100, 0&#xD;&#xA;Scale: 18,18&#xD;&#xA;Tag:转场落地贴边" ActionType="NamedCallback">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
              <Folder Id="83e72489-b657-4f89-9c2d-053e9de5ec11" Name="本体" Enabled="true">
                <Folders>
                  <Folder Id="b91883af-313d-4885-8216-f46a4c1472e6" Name="1.5运" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Name="泰坦在右" Id="1d357a3c-8910-4e53-992b-3b84e1812945" RegularExpression="^.{14} (?:\w+ )03:.{8}:(泰坦|タイタン|titan):.+:10000:::113.70:86.30:0|Added new combatant.+Pos: \(113.7,86.3,-1.369999E-12\)" PeriodRefire="Deny" RefirePeriodExpression="50000">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 318" Enabled="False" ActionType="NamedCallback" Asynchronous="False" Description="上" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                          <Action OrderNumber="1" NamedCallbackName="hint" NamedCallbackParam="2&#xD;&#xA;→右东→" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="1" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 320" ActionType="NamedCallback" Asynchronous="False" Description="· 右键此行可测试动作（设置自身特效）" DescBgColor="f0f8ff" DescTextColor="2a8" />
                          <Action OrderNumber="2" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 321" ActionType="NamedCallback" ExecutionDelayExpression="2500" Asynchronous="False" Description="· 右键此行可测试动作（设置自身特效）" DescBgColor="f0f8ff" DescTextColor="2a8" />
                          <Action OrderNumber="3" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 0" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" Description="· 右键此行可测试动作（清除自身特效）" DescBgColor="f0f8ff" DescTextColor="2a8" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="泰坦在左" Id="3b67de16-197a-48b4-b7ee-82e9cae8aced" RegularExpression="^.{14} (?:\w+ )03:.{8}:(泰坦|タイタン|titan):.+:10000:::86.30:86.30:" PeriodRefire="Deny" RefirePeriodExpression="50000">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="hint" NamedCallbackParam="2&#xD;&#xA;←左西←" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="2" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 321" ActionType="NamedCallback" Asynchronous="False" Description="左西" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                          <Action OrderNumber="3" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 320" ActionType="NamedCallback" ExecutionDelayExpression="2500" Asynchronous="False" Description="右东" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                          <Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 0" ActionType="NamedCallback" ExecutionDelayExpression="2000" Asynchronous="False" Description="· 右键此行可测试动作（清除自身特效）" DescBgColor="f0f8ff" DescTextColor="2a8" />
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                  <Folder Id="984f3324-a02a-493b-af53-3b75e0091718" Name="三运" Enabled="true">
                    <Folders />
                    <Triggers>
                      <Trigger Enabled="true" Name="三运预站位" Id="23e5a1ab-24f8-4a4c-907c-b825242ca30f" RegularExpression="^.{14} StartsCasting 14:(?&lt;id&gt;.{8}):[^:]+:2D4D:">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 20&#xD;&#xA;Pos: 107,107,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:MT三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 20&#xD;&#xA;Pos: 93,107,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:ST三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 83,94.5,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:D3三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="4" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 100,82,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:D1三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 94.5,83,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:D2三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="6" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 89.5,85.5,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:H1三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="7" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 85.5,89.5,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:H2三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="8" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 10&#xD;&#xA;Pos: 82,100,0&#xD;&#xA;Scale: 1,1 &#xD;&#xA;Color: 0.1, 1, 0.1, 0.9&#xD;&#xA;Tag:D4三运站位" ActionType="NamedCallback" Asynchronous="False" />
                          <Action OrderNumber="9" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:er_sicle_2010t&#xD;&#xA;O:100,100,0&#xD;&#xA;t:18&#xD;&#xA;Scale:30&#xD;&#xA;Color:1,0,0&#xD;&#xA;Tag:刚羽范围&#xD;&#xA;" ActionType="NamedCallback" ExecutionDelayExpression="18000" Asynchronous="False" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="魔科学激光2" Id="351617d7-35e0-4db7-8031-7e14f6a4c193" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B86:">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Angle: ${_entity[${id}].h}+π/4&#xD;&#xA;Scale: 4,40&#xD;&#xA;Tag:激光2" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="魔科学激光1" Id="3b11d3d6-4f2c-49c2-8b98-56352b7c7b9a" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B85:">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x &#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Angle: ${_entity[${id}].h}-π/4&#xD;&#xA;Scale: 4,40&#xD;&#xA;Tag:激光1" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="魔科学激光3" Id="3359096d-7f8d-4890-9a10-b56b6580967d" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B84:">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: mdl_general_02x&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Angle: ${_entity[${id}].h}&#xD;&#xA;Scale: 4,40&#xD;&#xA;Tag:激光3" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                      <Trigger Enabled="true" Name="潜地炮" Id="b781e82e-5170-43db-9c81-6b26bc46ebee" RegularExpression="^.{14} 264 108:.{8}:2B83:.{8}:1:(?&lt;x&gt;[^:]+):(?&lt;y&gt;[^:]+):">
                        <Actions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Pos:${x},${y}&#xD;&#xA;Omen:sxt_trap_o1v&#xD;&#xA;t:2&#xD;&#xA;Scale:3,3&#xD;&#xA;Tag:潜地炮" ActionType="NamedCallback" />
                        </Actions>
                      </Trigger>
                    </Triggers>
                  </Folder>
                </Folders>
                <Triggers>
                  <Trigger Enabled="false" Name="刚羽标记" Id="1b7f564c-19fa-4332-8dd4-6b6f908ad124" RegularExpression="^.{14} (?:\w+ )03:(?&lt;GYid&gt;[^:]+):(刚羽|ブリストリープルーム|Razor Plume):">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="command" NamedCallbackParam="/e id:${GYid}" Enabled="False" ActionType="NamedCallback" />
                      <Action OrderNumber="2" NamedCallbackName="ObjectScaling" NamedCallbackParam="${_entity[${GYid}].address}, 6" ActionType="NamedCallback" Asynchronous="False" DescBgColor="f0f8ff" DescTextColor="2a8" />
                      <Action OrderNumber="3" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${GYid}].address}, 77" ActionType="NamedCallback" Asynchronous="False" />
                      <Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_entity[${GYid}].address}, 0" ActionType="NamedCallback" ExecutionDelayExpression="20000" Asynchronous="False" />
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="三运" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="true" Sequential="True" Name="二仇炮诱导射线" Id="6b135432-0b32-41fd-8839-2839e1234c3f" RegularExpression="^.{14} (?:\w+ )14:[^:]+:[^:]+:2B7B:[^:]+:(?&lt;tid&gt;.{8})">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${tid}].Pos}&#xD;&#xA;Scale: 4,4&#xD;&#xA;Tag:诱导射线&#xD;&#xA;Color:1,0,0" ActionType="NamedCallback" />
                      <Action OrderNumber="2" LoopDelayExpression="25" ActionType="Loop">
                        <LoopCondition Enabled="true" Grouping="Or">
                          <ConditionSingle Enabled="true" ExpressionL="${_sincems}" ExpressionTypeL="String" ExpressionR="3000" ExpressionTypeR="String" ConditionType="NumericLess" />
                        </LoopCondition>
                        <LoopActions>
                          <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Action: Change&#xD;&#xA;Omen: general_1bf&#xD;&#xA;t: 3&#xD;&#xA;Pos: ${_entity[${tid}].Pos}&#xD;&#xA;Scale: 4,4&#xD;&#xA;Tag:诱导射线" ActionType="NamedCallback" />
                        </LoopActions>
                      </Action>
                    </Actions>
                  </Trigger>
                  <Trigger Enabled="false" Name="一运" Id="98b5544d-b182-4002-b3bd-f99afcc9020f" RegularExpression="^.{14} (?:\w+ )14:(?&lt;id&gt;.{8}):[^:]+:2B4E">
                    <Actions>
                      <Action OrderNumber="1" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 5&#xD;&#xA;Pos: ${_entity[${id}].Pos}&#xD;&#xA;Scale: 7,7&#xD;&#xA;Tag:一运风神&#xD;&#xA;---&#xD;&#xA;Tag:一运风神&#xD;&#xA;Action: Change&#xD;&#xA;Scale: 20,20&#xD;&#xA;Delay:2.6&#xD;&#xA;" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="2" NamedCallbackName="PictoACT" NamedCallbackParam="Omen: general_1bf&#xD;&#xA;t: 2.4&#xD;&#xA;Pos:${_entity[BNpcID=8734].Pos}&#xD;&#xA;Scale: 8&#xD;&#xA;Tag:一运神兵&#xD;&#xA;Delay:2.6" ActionType="NamedCallback" Asynchronous="False">
                        <Condition Enabled="false" Grouping="Or">
                          <ConditionSingle Enabled="false" ExpressionL="${_entity[${id}].BNpcID}" ExpressionTypeL="String" ExpressionR="8723" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                        </Condition>
                      </Action>
                      <Action OrderNumber="3" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:er_general_x02t&#xD;&#xA;O:100,100&#xD;&#xA;t:2.4&#xD;&#xA;Scale:10,40&#xD;&#xA;Delay:2.6&#xD;&#xA;Color:0.8,0,0,0.5&#xD;&#xA;---&#xD;&#xA;Omen:er_general_x02t&#xD;&#xA;O:100,100&#xD;&#xA;t:2.4&#xD;&#xA;Scale:10,40&#xD;&#xA;θ:π/2&#xD;&#xA;Delay:2.6&#xD;&#xA;Color:0.8,0,0,0.5" ActionType="NamedCallback" Asynchronous="False" />
                    </Actions>
                    <Condition Enabled="true" Grouping="Or">
                      <ConditionSingle Enabled="true" ExpressionL="${v:tuw_state}" ExpressionTypeL="String" ExpressionR="一运" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                    </Condition>
                  </Trigger>
                  <Trigger Enabled="false" Name="二运" Id="7ba99bd4-c896-4681-86d2-0607b0d85b69" RegularExpression="^.{14} (?:\w+ )14:.{8}:[^:]*:2D4C:">
                    <Actions>
                      <Action OrderNumber="1" UseTTSTextExpression="三连流沙，右左上" UseTTSRateExpression="1" ActionType="UseTTS" ExecutionDelayExpression="11000" Asynchronous="False" />
                      <Action OrderNumber="2" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 320" ActionType="NamedCallback" ExecutionDelayExpression="2500" Asynchronous="False" Description="右东" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                      <Action OrderNumber="3" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 321" ActionType="NamedCallback" ExecutionDelayExpression="3000" Asynchronous="False" Description="左西" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                      <Action OrderNumber="4" NamedCallbackName="SetStatusLoopVfx" NamedCallbackParam="${_me.address}, 0" ActionType="NamedCallback" Asynchronous="False" Description="清空" DescBgColor="f0f8ff" DescTextColor="2a8" DescriptionOverride="True" />
                      <Action OrderNumber="5" NamedCallbackName="PictoACT" NamedCallbackParam="Omen:er_general_x02t&#xD;&#xA;O:100,100&#xD;&#xA;t:2.4&#xD;&#xA;Scale:10,40&#xD;&#xA;Color:0.8,0,0,0.5&#xD;&#xA;---&#xD;&#xA;Omen:er_general_x02t&#xD;&#xA;O:100,100&#xD;&#xA;t:2.4&#xD;&#xA;Scale:10,40&#xD;&#xA;θ:π/2&#xD;&#xA;Color:0.8,0,0,0.5" ActionType="NamedCallback" ExecutionDelayExpression="15500" Asynchronous="False" />
                    </Actions>
                  </Trigger>
                </Triggers>
              </Folder>
            </Folders>
            <Triggers />
          </Folder>
        </Folders>
        <Triggers />
      </Folder>
      <Folder Id="2ea3bd5f-4c99-4c67-a92f-0bbcb7f18081" Name="配置窗口" Enabled="true">
        <Folders>
          <Folder Id="29ff4eff-a4bf-4e28-ab9c-02656799f66d" Name="触发" Enabled="true">
            <Folders />
            <Triggers>
              <Trigger Enabled="true" Name="[Z+] 激活配置： 进本" Id="37342ee8-3393-4c06-a814-59b5f336de0c" RegularExpression="^.{15}\S+ 01:">
                <Actions>
                  <Action OrderNumber="1" LogMessageText="UWU_ShowConfigForm" LogProcess="True" ActionType="LogMessage" />
                </Actions>
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${_ffxivzoneid}" ExpressionTypeL="String" ExpressionR="^777$" ExpressionTypeR="String" ConditionType="RegexMatch" />
                </Condition>
              </Trigger>
              <Trigger Enabled="true" Name="激活配置：副本外  /e cfg uwu|绝神兵" Id="6a1865bd-1655-49d1-965b-3517cb099b0e" RegularExpression="^.{15}\S+ 00:0038:: *[Cc][Ff][Gg] +(?&lt;name&gt;.+?) *$">
                <Actions>
                  <Action OrderNumber="1" LogMessageText="UWU_ShowConfigForm" LogProcess="True" ActionType="LogMessage" />
                </Actions>
                <Condition Enabled="true" Grouping="Or">
                  <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="绝神兵" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                  <ConditionSingle Enabled="true" ExpressionL="${name}" ExpressionTypeL="String" ExpressionR="UWU" ExpressionTypeR="String" ConditionType="StringEqualNocase" />
                </Condition>
              </Trigger>
            </Triggers>
          </Folder>
        </Folders>
        <Triggers>
          <Trigger Enabled="true" Name="[C#] 打开配置窗口" Id="88c0e378-6c3a-4e3b-ac4f-d7aa36f3581d" RegularExpression="^UWU_ShowConfigForm">
            <Actions>
              <Action OrderNumber="1" UseTTSTextExpression="正在打开配置，请检查后台窗口" ActionType="UseTTS" Asynchronous="False" />
              <Action OrderNumber="2" ExecScriptExpression="using System;&#xD;&#xA;using System.Collections.Generic;&#xD;&#xA;using System.Collections.ObjectModel;&#xD;&#xA;using System.Drawing;&#xD;&#xA;using System.Globalization;&#xD;&#xA;using System.Linq;&#xD;&#xA;using System.Threading;&#xD;&#xA;using System.Windows.Forms;&#xD;&#xA;using Triggernometry;&#xD;&#xA;using Triggernometry.PluginBridges;&#xD;&#xA;using Triggernometry.Variables;&#xD;&#xA;using static Triggernometry.Interpreter;&#xD;&#xA;&#xD;&#xA;public struct Info&#xD;&#xA;{&#xD;&#xA;    public static readonly string Name = &quot;绝神兵宝宝椅&quot;;&#xD;&#xA;    public static readonly string Version = &quot;3.9&quot;;&#xD;&#xA;    public static readonly string Author = &quot;Nag0mi&quot;;&#xD;&#xA;    public static readonly string ConfigName = &quot;UWU_cfg&quot;;   // 保存配置的触发器永久变量名&#xD;&#xA;    public static string Description =&gt; $&quot;{Name}  v{Version}  by {Author}&quot;;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;RealPlugin.plug.RegisterNamedCallback(Info.ConfigName, new Action&lt;object, string&gt;((_, __) =&gt; Entry.Start()), null);&#xD;&#xA;&#xD;&#xA;public static class Entry&#xD;&#xA;{&#xD;&#xA;    public static void RunConfigForm()&#xD;&#xA;    {&#xD;&#xA;        ConfigForm configForm = new ConfigForm(Info.ConfigName);&#xD;&#xA;        BijectDictionary&lt;string, string&gt; cbxItems;&#xD;&#xA;        OptionCbx cbx;&#xD;&#xA;        // 在下面倒序添加各个选项组&#xD;&#xA;        &#xD;&#xA;        #region 配置：设置&#xD;&#xA;        var P2VFXSetting = new BijectDictionary&lt;string, string&gt;(&#xD;&#xA;            (&quot;1&quot;, &quot;开启&quot;),&#xD;&#xA;            (&quot;0&quot;, &quot;关闭&quot;)&#xD;&#xA;        );&#xD;&#xA;        OptionsTableLayoutPanel VFXSetting = configForm.AddOptionGroup(&quot;设置&quot;);&#xD;&#xA;        OptionCbx P2VFXMode = new OptionCbx(&quot;团队播报&quot;, &quot;ptuw_Ubroadcast&quot;, P2VFXSetting, defaultSelection: &quot;0&quot;,&#xD;&#xA;            hint: &quot;小队可见提示，关闭则仅自己可见。&quot;);&#xD;&#xA;        OptionCbx P3VFXMode = new OptionCbx(&quot;头标&quot;, &quot;ptuw_Umark&quot;, P2VFXSetting, defaultSelection: &quot;1&quot;,&#xD;&#xA;            hint: &quot;柱子，停手等标记。&quot;);&#xD;&#xA;        OptionCbx Umarklocal = new OptionCbx(&quot;头标仅本地可见&quot;, &quot;ptuw_Umarklocal&quot;,P2VFXSetting, defaultSelection: &quot;1&quot;,&#xD;&#xA;            hint: &quot;开启后头标仅本地可见。&quot;);&#xD;&#xA;        OptionCbx three = new OptionCbx(&quot;三连桶&quot;, &quot;ptuw_Uthreebucket&quot;,P2VFXSetting, defaultSelection: &quot;0&quot;,&#xD;&#xA;            hint: &quot;与其他设置独立，开启仅本地可见也可以正常标三连桶。&quot;);&#xD;&#xA;        OptionCbx P5VFXMode = new OptionCbx(&quot;自动切目标&quot;, &quot;ptuw_Utarget&quot;,P2VFXSetting, defaultSelection: &quot;0&quot;,&#xD;&#xA;            hint: &quot;开启后自动选柱子奶桶&quot;);&#xD;&#xA;        configForm.AddOption(three, VFXSetting);&#xD;&#xA;        configForm.AddOption(P2VFXMode, VFXSetting);&#xD;&#xA;        configForm.AddOption(P3VFXMode, VFXSetting);&#xD;&#xA;        configForm.AddOption(Umarklocal, VFXSetting);&#xD;&#xA;        configForm.AddOption(P5VFXMode, VFXSetting);&#xD;&#xA;        #endregion 配置：设置&#xD;&#xA;        &#xD;&#xA;        &#xD;&#xA;&#xD;&#xA;        #region 配置：队员顺序&#xD;&#xA;        string[] playerDescriptions = { &quot;MT&quot;, &quot;ST&quot;, &quot;H1&quot;, &quot;H2&quot;, &quot;D1&quot;, &quot;D2&quot;, &quot;D3&quot;, &quot;D4&quot; };&#xD;&#xA;        configForm.AddPartyGroup(&quot; 队员顺序保证和游戏内一致 &quot;, playerDescriptions);&#xD;&#xA;        #endregion 配置：队员顺序&#xD;&#xA;        configForm.Run();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    [STAThread]&#xD;&#xA;    public static void Start()&#xD;&#xA;    {&#xD;&#xA;        try&#xD;&#xA;        {&#xD;&#xA;            StaticHelpers.SetScalarVariable(false, $&quot;{Info.ConfigName}_isRunning&quot;, &quot;1&quot;);&#xD;&#xA;            Thread staThread = new Thread(new ThreadStart(RunConfigForm));&#xD;&#xA;            staThread.SetApartmentState(ApartmentState.STA);&#xD;&#xA;            staThread.Start();&#xD;&#xA;            staThread.Join();&#xD;&#xA;            StaticHelpers.SetScalarVariable(false, $&quot;{Info.ConfigName}_isRunning&quot;, null);&#xD;&#xA;        }&#xD;&#xA;        catch&#xD;&#xA;        {&#xD;&#xA;            StaticHelpers.SetScalarVariable(false, $&quot;{Info.ConfigName}_isRunning&quot;, null);&#xD;&#xA;            throw;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;#region ConfigForm 配置表单类&#xD;&#xA;public class ConfigForm : Form&#xD;&#xA;{&#xD;&#xA;    public static readonly Font UserFont = new Font(&quot;微软雅黑&quot;, 10);&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 储存表单中所有 Option 控件的列表。 &lt;/summary&gt;&#xD;&#xA;    private List&lt;Option&gt; _options = new List&lt;Option&gt;();&#xD;&#xA;    /// &lt;summary&gt; （可选）表单绑定的小队列表控件。 &lt;/summary&gt;&#xD;&#xA;    private PartyListPanel _partyListPanel;&#xD;&#xA;    /// &lt;summary&gt; 用于储存用户配置的触发器字典变量。 &lt;/summary&gt;&#xD;&#xA;    public VariableDictionary Config = new VariableDictionary();&#xD;&#xA;&#xD;&#xA;    private bool _verified;  // 改成定义一个 Verfier&#xD;&#xA;    private int _clickCount = 0;&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 表单上方用于放置所有选项组的 Panel，可滚动。 &lt;/summary&gt;&#xD;&#xA;    Panel mainPanel = new BackgroundPanel();&#xD;&#xA;    /// &lt;summary&gt; 表单下方用于放置按钮等控件的 TableLayoutPanel。 &lt;/summary&gt;&#xD;&#xA;    TableLayoutPanel bottomPanel = new BottomTableLayoutPanel { RowCount = 1, ColumnCount = 1 };&#xD;&#xA;&#xD;&#xA;    public Button btnSave = new Button { Text = &quot;保存配置&quot; };&#xD;&#xA;&#xD;&#xA;    public ConfigForm(string configName)&#xD;&#xA;    {&#xD;&#xA;        // 暂停调整布局，直至 Run()&#xD;&#xA;        SuspendLayout();&#xD;&#xA;        // 不再需要读取触发器配置字典变量，因为现在使用标量变量&#xD;&#xA;        // 基本属性&#xD;&#xA;        Text = Info.Description;&#xD;&#xA;        Font = UserFont;&#xD;&#xA;        TopMost = true;&#xD;&#xA;        StartPosition = FormStartPosition.CenterScreen;&#xD;&#xA;        int width = (TextRenderer.MeasureText(&quot;啊啊啊啊啊&quot;, UserFont).Width) * 9;&#xD;&#xA;        MinimumSize = new Size(width, width); // To-do：添加一个根据所有控件总高度调节最小高度的逻辑&#xD;&#xA;        // 控件布局&#xD;&#xA;        Controls.Add(mainPanel);&#xD;&#xA;        Controls.Add(bottomPanel);&#xD;&#xA;        bottomPanel.Controls.Add(btnSave);&#xD;&#xA;        bottomPanel.ColumnStyles.Add(new ColumnStyle(SizeType.AutoSize));&#xD;&#xA;        // 绑定事件&#xD;&#xA;        Shown += (sender, e) =&gt; {&#xD;&#xA;            TopMost = true;&#xD;&#xA;            BringToFront();&#xD;&#xA;            Focus();&#xD;&#xA;            RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, &quot;/e &lt;se.9&gt;&quot;);&#xD;&#xA;            mainPanel.AutoScrollPosition = new Point(0, 0);&#xD;&#xA;        };&#xD;&#xA;        bottomPanel.MouseDown += VerifyClick;&#xD;&#xA;        btnSave.Click += btnSave_Click;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt;&#xD;&#xA;    /// 在表单上方的 mainPanel 区域添加一个 Panel - GroupBox - OptionsTableLayoutPanel 的结构，并返回这个 OptionsTableLayoutPanel。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    /// &lt;param name=&quot;groupName&quot;&gt;GroupBox 上方显示的名称，建议首尾添加空格。&lt;/param&gt;&#xD;&#xA;    /// &lt;returns&gt;生成的 OptionsTableLayoutPanel，用于填充该分组的选项。&lt;/returns&gt;&#xD;&#xA;    public OptionsTableLayoutPanel AddOptionGroup(string groupName)&#xD;&#xA;    {&#xD;&#xA;        var table = new OptionsTableLayoutPanel();&#xD;&#xA;        var group = new GroupBox { Text = groupName };&#xD;&#xA;        var panel = new GroupPanel();&#xD;&#xA;&#xD;&#xA;        mainPanel.Controls.Add(panel);&#xD;&#xA;        panel.Controls.Add(group);&#xD;&#xA;        group.Controls.Add(table);&#xD;&#xA;&#xD;&#xA;        table.ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 50));&#xD;&#xA;        table.ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 50));&#xD;&#xA;&#xD;&#xA;        return table;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt;&#xD;&#xA;    /// 在表单上方的 mainPanel 区域添加一个 Panel - GroupBox - PartyListPanel 的结构，并返回这个 PartyListPanel。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    /// &lt;param name=&quot;groupName&quot;&gt;GroupBox 上方显示的名称，建议首尾添加空格。&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;playerDescriptions&quot;&gt;包含每个队员职能描述的 string[]，如 { &quot;MT&quot;, &quot;ST&quot;, ... }。小队人数由 Array 长度决定。&lt;/param&gt;&#xD;&#xA;    /// &lt;returns&gt;生成的 PartyListPanel，用于显示当前队员并调整顺序。&lt;/returns&gt;&#xD;&#xA;    public void AddPartyGroup(string groupName, string[] playerDescriptions)&#xD;&#xA;    {&#xD;&#xA;        _partyListPanel = new PartyListPanel(playerDescriptions);&#xD;&#xA;        var group = new GroupBox { Text = groupName };&#xD;&#xA;        var panel = new GroupPanel();&#xD;&#xA;&#xD;&#xA;        mainPanel.Controls.Add(panel);&#xD;&#xA;        panel.Controls.Add(group);&#xD;&#xA;        group.Controls.Add(_partyListPanel);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 将选项添加至表单，并放置在 GroupBox 中的 Table 末尾。 &lt;/summary&gt;&#xD;&#xA;    public void AddOption(Option option, OptionsTableLayoutPanel table)&#xD;&#xA;    {&#xD;&#xA;        _options.Add(option);&#xD;&#xA;        option.AppendToTable(table);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 在 GroupBox 中的 Table 末尾添加一条分割线。 &lt;/summary&gt;&#xD;&#xA;    public void AddSeparatorLine(OptionsTableLayoutPanel table)&#xD;&#xA;    {&#xD;&#xA;        table.RowCount++;&#xD;&#xA;        Panel separator = new SeperatorPanel();&#xD;&#xA;        table.Controls.Add(separator, 0, table.RowCount - 1);&#xD;&#xA;        table.SetColumnSpan(separator, 2);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 在 GroupBox 中的 Table 末尾添加一个文本 Label。 &lt;/summary&gt;&#xD;&#xA;    public Label AddLabel(string desc, OptionsTableLayoutPanel table)&#xD;&#xA;    {&#xD;&#xA;        table.RowCount++;&#xD;&#xA;        Label lbl = new Label { Text = desc };&#xD;&#xA;        table.Controls.Add(lbl, 0, table.RowCount - 1);&#xD;&#xA;        table.SetColumnSpan(lbl, 2);&#xD;&#xA;        return lbl;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 从触发器变量中读取全部已保存配置，若校验合法则设置到表单。 &lt;/summary&gt;&#xD;&#xA;    public void LoadFromConfig()&#xD;&#xA;    {&#xD;&#xA;        string env = &quot;${_env[COMPUTERNAME]} ${_env[USERNAME]}&quot;;&#xD;&#xA;        var savedEnv = StaticHelpers.GetScalarVariable(true, &quot;env&quot;);&#xD;&#xA;        if (savedEnv == null || env != savedEnv.ToString())&#xD;&#xA;        {&#xD;&#xA;            return;&#xD;&#xA;        }&#xD;&#xA;        else&#xD;&#xA;        {&#xD;&#xA;            _verified = true;&#xD;&#xA;        }&#xD;&#xA;        _partyListPanel?.LoadFromConfig(); // 设置了小队列表控件&#xD;&#xA;        foreach (Option option in _options)&#xD;&#xA;        {&#xD;&#xA;            option.LoadFromConfig();&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    void btnSave_Click(object sender, EventArgs e)&#xD;&#xA;    {&#xD;&#xA;        //if (!_verified) // 不会吧不会吧 不会有人有空来这改代码解锁 没空看使用说明吧 ヽ(`Д´)ノ&#xD;&#xA;        //{&#xD;&#xA;            //MessageBox.Show(&quot;你需要完整阅读触发器使用说明，并按提示操作。\n\n&quot; +&#xD;&#xA;                //&quot;“完整阅读”的意思是逐行阅读，\n不是扫一眼没看见之后在群里问怎么设置。&quot;,&#xD;&#xA;                //Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Error);&#xD;&#xA;            //return;&#xD;&#xA;        //}&#xD;&#xA;&#xD;&#xA;        string myRole = _partyListPanel.SaveToConfig();&#xD;&#xA;&#xD;&#xA;        foreach (Option option in _options)&#xD;&#xA;        {&#xD;&#xA;            option.SaveToConfig();&#xD;&#xA;        }&#xD;&#xA;        // 保存环境变量和作者信息到标量变量&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, &quot;env&quot;, &quot;${_env[COMPUTERNAME]} ${_env[USERNAME]}&quot;);  // 储存系统环境变量以保证用户不是 copy 了别人的配置&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, &quot;author&quot;, Info.Author);&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, &quot;version&quot;, Info.Version);&#xD;&#xA;        RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, &quot;/e &lt;se.10&gt;&quot;);&#xD;&#xA;        RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, &quot;/e 已保存配置。&quot;);&#xD;&#xA;        if (!string.IsNullOrEmpty(myRole))&#xD;&#xA;        {&#xD;&#xA;            RealPlugin.plug.InvokeNamedCallback(&quot;command&quot;, $&quot;/e {myRole}&quot;);&#xD;&#xA;        }&#xD;&#xA;        this.Close();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    void VerifyClick(object sender, EventArgs e)&#xD;&#xA;    {&#xD;&#xA;        _clickCount++;&#xD;&#xA;        if (_clickCount % 10 == 0)&#xD;&#xA;        {&#xD;&#xA;            if (!_verified)&#xD;&#xA;            {&#xD;&#xA;                _verified = true;&#xD;&#xA;                MessageBox.Show(&quot;已解除锁定。&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Information);&#xD;&#xA;            }&#xD;&#xA;            else&#xD;&#xA;            {&#xD;&#xA;                MessageBox.Show(&quot;已解除过锁定，无需再次操作。&quot;, Info.Name, MessageBoxButtons.OK, MessageBoxIcon.Information);&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 读取配置，恢复表单布局，显示表单。&lt;/summary&gt;&#xD;&#xA;    public void Run()&#xD;&#xA;    {&#xD;&#xA;        LoadFromConfig();&#xD;&#xA;        ResumeLayout();&#xD;&#xA;        ShowDialog();&#xD;&#xA;        Dispose();&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private class Validator&#xD;&#xA;    {&#xD;&#xA;        public bool Validated = false;&#xD;&#xA;        private ConfigForm _form;&#xD;&#xA;        public Validator(ConfigForm form) { _form = form; }&#xD;&#xA;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;#endregion ConfigForm 配置表单类&#xD;&#xA;&#xD;&#xA;#region 小队控件类定义&#xD;&#xA;public class PartyListPanel : System.Windows.Forms.TableLayoutPanel&#xD;&#xA;{&#xD;&#xA;    List&lt;PlayerLabel&gt; _players = new List&lt;PlayerLabel&gt;();&#xD;&#xA;    public int PlayerCount;&#xD;&#xA;    public string[] PlayerDescriptions;&#xD;&#xA;    private ToolTip _tip = new ToolTip();&#xD;&#xA;&#xD;&#xA;    public const string CONFIGNAME_PLAYERNAMES_LIST = &quot;pn&quot;;&#xD;&#xA;    public const string CONFIGNAME_PLAYERIDS_LIST = &quot;pid&quot;;&#xD;&#xA;    public const string CONFIGNAME_PLAYERNAMES_DICT = &quot;pn&quot;;&#xD;&#xA;    public const string CONFIGNAME_PLAYERIDS_DICT = &quot;pid&quot;;&#xD;&#xA;    public const string CONFIGNAME_PLAYER_IDX = &quot;myIdx&quot;;&#xD;&#xA;&#xD;&#xA;    public PartyListPanel(string[] playerDescriptions)&#xD;&#xA;    {&#xD;&#xA;        PlayerCount = playerDescriptions.Length;&#xD;&#xA;        PlayerDescriptions = playerDescriptions;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        AutoSizeMode = AutoSizeMode.GrowAndShrink;&#xD;&#xA;&#xD;&#xA;        // 设置可拖拽队员标签&#xD;&#xA;        DragEnter += new DragEventHandler(PartyListPanel_DragEnter);&#xD;&#xA;        DragDrop += new DragEventHandler(PartyListPanel_DragDrop);&#xD;&#xA;        AllowDrop = true;&#xD;&#xA;&#xD;&#xA;        // 根据玩家数确定行列数&#xD;&#xA;        int rowCount = PlayerCount &lt;= 4 ? 1 : 2;&#xD;&#xA;        int colCount = Math.Min(PlayerCount, 4);&#xD;&#xA;        for (int i = 0; i &lt; rowCount; i++)&#xD;&#xA;        {&#xD;&#xA;            RowStyles.Add(new RowStyle(SizeType.Percent, 100F / rowCount));&#xD;&#xA;        }&#xD;&#xA;        for (int i = 0; i &lt; colCount; i++)&#xD;&#xA;        {&#xD;&#xA;            ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 100F / colCount));&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // 读取当前队员并生成标签&#xD;&#xA;        List&lt;VariableDictionary&gt; entities = GetSortedPartyMembers();&#xD;&#xA;        for (int i = 0; i &lt; PlayerCount; i++)&#xD;&#xA;        {&#xD;&#xA;            PlayerLabel player = new PlayerLabel(this, entities[i], i);&#xD;&#xA;            _players.Add(player);&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // 设置标签宽度&#xD;&#xA;        double lblWidth = 50;&#xD;&#xA;        double lblHeight = 30;&#xD;&#xA;        /*&#xD;&#xA;        using (Graphics g = _players[0].CreateGraphics())&#xD;&#xA;        {&#xD;&#xA;            foreach (var label in _players)&#xD;&#xA;            {&#xD;&#xA;                lblWidth = Math.Max(lblWidth, g.MeasureString(label.Text, ConfigForm.UserFont).Width);&#xD;&#xA;            }&#xD;&#xA;            lblWidth *= 1.1;&#xD;&#xA;            lblHeight = g.MeasureString(_players[0].Text, ConfigForm.UserFont).Height * 1.1;&#xD;&#xA;        }&#xD;&#xA;        */&#xD;&#xA;        foreach (var label in _players)&#xD;&#xA;        {&#xD;&#xA;            Size size = TextRenderer.MeasureText(label.Text, ConfigForm.UserFont);&#xD;&#xA;            lblWidth = Math.Max(lblWidth, size.Width);&#xD;&#xA;            lblHeight = Math.Max(lblHeight, size.Height);&#xD;&#xA;        }&#xD;&#xA;        lblWidth *= 1.1;&#xD;&#xA;        lblHeight *= 1.1;&#xD;&#xA;&#xD;&#xA;        foreach (var label in _players)&#xD;&#xA;        {&#xD;&#xA;            label.Width = (int)lblWidth;&#xD;&#xA;            label.Height = (int)lblHeight;&#xD;&#xA;            _tip.SetToolTip(label, &quot;拖拽调整顺序&quot;);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    static string[] jobOrder = {&#xD;&#xA;        &quot;WAR&quot;, &quot;MRD&quot;, &quot;DRK&quot;, &quot;GNB&quot;, &quot;PLD&quot;, &quot;GLA&quot;,&#xD;&#xA;        &quot;WHM&quot;, &quot;CNJ&quot;, &quot;AST&quot;, &quot;SGE&quot;, &quot;SCH&quot;,&#xD;&#xA;        &quot;SAM&quot;, &quot;MNK&quot;, &quot;PGL&quot;, &quot;DRG&quot;, &quot;LNC&quot;, &quot;NIN&quot;, &quot;ROG&quot;, &quot;RPR&quot;,&#xD;&#xA;        &quot;BRD&quot;, &quot;ARC&quot;, &quot;MCH&quot;, &quot;DNC&quot;, &quot;BLM&quot;, &quot;THM&quot;, &quot;RDM&quot;, &quot;SMN&quot;, &quot;ACN&quot;, &quot;BLU&quot;&#xD;&#xA;    };&#xD;&#xA;&#xD;&#xA;    List&lt;VariableDictionary&gt; GetSortedPartyMembers()&#xD;&#xA;    {&#xD;&#xA;        List&lt;VariableDictionary&gt; entities = BridgeFFXIV.GetAllEntities();&#xD;&#xA;        entities = entities.Where(e =&gt; e.GetValue(&quot;id&quot;).ToString().StartsWith(&quot;10&quot;))                // is player&#xD;&#xA;                           .OrderByDescending(e =&gt; e.GetValue(&quot;inparty&quot;).ToString() == &quot;1&quot;)         // is party member&#xD;&#xA;                           .ThenBy(e =&gt; e.GetValue(&quot;roleid&quot;).ToString().PadLeft(3, '0'))            // sort by subrole id (Entity.RoleType)&#xD;&#xA;                           .ThenBy(e =&gt; Array.IndexOf(jobOrder, e.GetValue(&quot;jobEN3&quot;).ToString()))   // customized job order&#xD;&#xA;                           .ThenBy(e =&gt; e.GetValue(&quot;jobid&quot;).ToString().PadLeft(3, '0'))             // sort by job id&#xD;&#xA;                           .ThenBy(e =&gt; e.GetValue(&quot;name&quot;).ToString())&#xD;&#xA;                           .ToList();&#xD;&#xA;&#xD;&#xA;        if (entities.Count &gt;= 8     // Double Caster =&gt; D2 / D4&#xD;&#xA;            &amp;&amp; entities[5].GetValue(&quot;roleid&quot;).ToString() == ((int)Entity.RoleType.PhysicalRanged).ToString()&#xD;&#xA;            &amp;&amp; entities[6].GetValue(&quot;roleid&quot;).ToString() == ((int)Entity.RoleType.MagicalRanged).ToString()&#xD;&#xA;            &amp;&amp; entities[7].GetValue(&quot;roleid&quot;).ToString() == ((int)Entity.RoleType.MagicalRanged).ToString())&#xD;&#xA;        {&#xD;&#xA;            (entities[5], entities[6]) = (entities[6], entities[5]);&#xD;&#xA;&#xD;&#xA;            if (entities[7].GetValue(&quot;jobEN3&quot;).ToString() == &quot;BLM&quot;) // with BLM: BLM D2&#xD;&#xA;            {&#xD;&#xA;                (entities[5], entities[7]) = (entities[7], entities[5]);&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        if (entities.Count &lt; PlayerCount)&#xD;&#xA;        {&#xD;&#xA;            entities.AddRange(Enumerable.Repeat(BridgeFFXIV.NullCombatant, PlayerCount - entities.Count));&#xD;&#xA;        }&#xD;&#xA;        else if (entities.Count &gt; PlayerCount)&#xD;&#xA;        {&#xD;&#xA;            entities.RemoveRange(PlayerCount, entities.Count - PlayerCount);&#xD;&#xA;        }&#xD;&#xA;        return entities;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    private void PartyListPanel_DragEnter(object sender, DragEventArgs e)&#xD;&#xA;    {&#xD;&#xA;        if (e.Data.GetDataPresent(typeof(PlayerLabel)))&#xD;&#xA;        {&#xD;&#xA;            e.Effect = DragDropEffects.Move;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void PartyListPanel_DragDrop(object sender, DragEventArgs e)&#xD;&#xA;    {&#xD;&#xA;        // 获取拖动的标签和目标位置的标签，更新 Order&#xD;&#xA;        PlayerLabel draggedLabel = (PlayerLabel)e.Data.GetData(typeof(PlayerLabel));&#xD;&#xA;        Point clientPoint = PointToClient(new Point(e.X, e.Y));&#xD;&#xA;        Control control = GetChildAtPoint(clientPoint);&#xD;&#xA;        if (control != null &amp;&amp; control is PlayerLabel targetLabel &amp;&amp; draggedLabel != targetLabel)&#xD;&#xA;        {&#xD;&#xA;            Parent.Parent.Parent.Parent.SuspendLayout();&#xD;&#xA;            SwapLabels(draggedLabel, targetLabel);&#xD;&#xA;            Parent.Parent.Parent.Parent.ResumeLayout(false);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void SwapLabels(PlayerLabel draggedLabel, PlayerLabel targetLabel)&#xD;&#xA;    {&#xD;&#xA;        (draggedLabel.Order, targetLabel.Order) = (targetLabel.Order, draggedLabel.Order);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public void LoadFromConfig()&#xD;&#xA;    {&#xD;&#xA;        var savedList = StaticHelpers.GetListVariable(false, CONFIGNAME_PLAYERIDS_LIST);&#xD;&#xA;        if (savedList == null || savedList.Size != PlayerCount)&#xD;&#xA;            return;&#xD;&#xA;&#xD;&#xA;        List&lt;string&gt; storedPlayerIDs = savedList.Values.Select(var =&gt; var.ToString()).ToList();&#xD;&#xA;&#xD;&#xA;        List&lt;int&gt; indices = new List&lt;int&gt;();&#xD;&#xA;        foreach (var playerLabel in _players)&#xD;&#xA;        {&#xD;&#xA;            int index = storedPlayerIDs.IndexOf(playerLabel.HexID);&#xD;&#xA;            if (index &gt;= 0 &amp;&amp; index &lt; PlayerCount)&#xD;&#xA;            {&#xD;&#xA;                indices.Add(index);&#xD;&#xA;            }&#xD;&#xA;            else return;&#xD;&#xA;        }&#xD;&#xA;        HashSet&lt;int&gt; expectedIndices = new HashSet&lt;int&gt;(Enumerable.Range(0, PlayerCount));&#xD;&#xA;        if (new HashSet&lt;int&gt;(indices).SetEquals(expectedIndices))&#xD;&#xA;        {&#xD;&#xA;            for (int i = 0; i &lt; PlayerCount; i++)&#xD;&#xA;            {&#xD;&#xA;                _players[i].Order = indices[i];&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public string SaveToConfig()&#xD;&#xA;    {&#xD;&#xA;        if (_players.Count &lt;= 1) return string.Empty;&#xD;&#xA;&#xD;&#xA;        _players = _players.OrderBy(p =&gt; p.Order).ToList();&#xD;&#xA;&#xD;&#xA;        VariableList hexIDList = new VariableList();&#xD;&#xA;        VariableList nameList = new VariableList();&#xD;&#xA;        VariableDictionary hexIDDict = new VariableDictionary();&#xD;&#xA;        VariableDictionary nameDict = new VariableDictionary();&#xD;&#xA;        string changer = &quot;ConfigForm&quot;;&#xD;&#xA;        string myRole = string.Empty;&#xD;&#xA;&#xD;&#xA;        foreach (var label in _players)&#xD;&#xA;        {&#xD;&#xA;            Variable hexID = new VariableScalar { Value = label.HexID };&#xD;&#xA;            Variable name = new VariableScalar { Value = label.PlayerName };&#xD;&#xA;            string description = PlayerDescriptions[label.Order];&#xD;&#xA;&#xD;&#xA;            hexIDList.Push(hexID, changer);&#xD;&#xA;            nameList.Push(name, changer);&#xD;&#xA;            hexIDDict.SetValue(description, hexID, changer);&#xD;&#xA;            nameDict.SetValue(description, name, changer);&#xD;&#xA;&#xD;&#xA;            if (BridgeFFXIV.PlayerHexId == label.HexID)&#xD;&#xA;            {&#xD;&#xA;                StaticHelpers.SetScalarVariable(isPersistent: false, CONFIGNAME_PLAYER_IDX, new VariableScalar(label.Order + 1));&#xD;&#xA;                myRole = description.ToLower();&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        StaticHelpers.SetListVariable(isPersistent: false, CONFIGNAME_PLAYERIDS_LIST, hexIDList);&#xD;&#xA;        StaticHelpers.SetListVariable(isPersistent: false, CONFIGNAME_PLAYERNAMES_LIST, nameList);&#xD;&#xA;        StaticHelpers.SetDictVariable(isPersistent: false, CONFIGNAME_PLAYERIDS_DICT, hexIDDict);&#xD;&#xA;        StaticHelpers.SetDictVariable(isPersistent: false, CONFIGNAME_PLAYERNAMES_DICT, nameDict);&#xD;&#xA;&#xD;&#xA;        return myRole;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private static string RoleToCN(Entity.RoleType role)&#xD;&#xA;    {&#xD;&#xA;        switch (role &amp; Entity.RoleType.MainRole)&#xD;&#xA;        {&#xD;&#xA;            case Entity.RoleType.Tank:&#xD;&#xA;                return &quot;坦克&quot;;&#xD;&#xA;            case Entity.RoleType.Healer:&#xD;&#xA;                return &quot;治疗&quot;;&#xD;&#xA;        }&#xD;&#xA;        switch (role)&#xD;&#xA;        {&#xD;&#xA;            case Entity.RoleType.StrengthMelee:&#xD;&#xA;                return &quot;近战力量&quot;;&#xD;&#xA;            case Entity.RoleType.DexterityMelee:&#xD;&#xA;                return &quot;近战敏捷&quot;;&#xD;&#xA;            case Entity.RoleType.PhysicalRanged:&#xD;&#xA;                return &quot;物理远程&quot;;&#xD;&#xA;            case Entity.RoleType.MagicalRanged:&#xD;&#xA;                return &quot;魔法远程&quot;;&#xD;&#xA;            default:&#xD;&#xA;                return &quot;DPS&quot;;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class PlayerLabel : System.Windows.Forms.Label&#xD;&#xA;{&#xD;&#xA;    public PartyListPanel ParentTable;&#xD;&#xA;    public string PlayerName;&#xD;&#xA;    public Entity.RoleType SubRole;&#xD;&#xA;    public string JobName;&#xD;&#xA;    public string HexID;&#xD;&#xA;    private Label _draggingClone;&#xD;&#xA;&#xD;&#xA;    private int _order;&#xD;&#xA;    /// &lt;summary&gt; Start from 0 &lt;/summary&gt;&#xD;&#xA;    public int Order&#xD;&#xA;    {&#xD;&#xA;        get =&gt; _order;&#xD;&#xA;        set&#xD;&#xA;        {&#xD;&#xA;            _order = value;&#xD;&#xA;            Text = $&quot;[{ParentTable.PlayerDescriptions[_order]}] {JobName}\n&quot; + PlayerName.Replace(&quot; &quot;, &quot;\n&quot;);&#xD;&#xA;            RefreshLocation();&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private Color GetForeColor()&#xD;&#xA;    {&#xD;&#xA;        switch (SubRole &amp; Entity.RoleType.MainRole)&#xD;&#xA;        {&#xD;&#xA;            case Entity.RoleType.Tank: return Color.FromArgb(16, 72, 144);&#xD;&#xA;            case Entity.RoleType.Healer: return Color.FromArgb(16, 144, 72);&#xD;&#xA;            case Entity.RoleType.DPS:&#xD;&#xA;                switch (SubRole)&#xD;&#xA;                {&#xD;&#xA;                    case Entity.RoleType.StrengthMelee:&#xD;&#xA;                    case Entity.RoleType.DexterityMelee: return Color.FromArgb(160, 64, 0);&#xD;&#xA;                    case Entity.RoleType.PhysicalRanged: return Color.FromArgb(160, 0, 0);&#xD;&#xA;                    case Entity.RoleType.MagicalRanged: return Color.FromArgb(160, 0, 96);&#xD;&#xA;                    default: return Color.FromArgb(128, 128, 128);&#xD;&#xA;                }&#xD;&#xA;            default: return Color.FromArgb(128, 128, 128);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public PlayerLabel(PartyListPanel parent, VariableDictionary entity, int order)&#xD;&#xA;    {&#xD;&#xA;        ParentTable = parent;&#xD;&#xA;        PlayerName = entity.GetValue(&quot;name&quot;).ToString();&#xD;&#xA;        SubRole = (Entity.RoleType)int.Parse(entity.GetValue(&quot;roleid&quot;).ToString().PadLeft(1, '0'), NumberStyles.Integer, CultureInfo.InvariantCulture);&#xD;&#xA;        JobName = CultureInfo.CurrentCulture.Name.StartsWith(&quot;zh-&quot;)&#xD;&#xA;            ? entity.GetValue(&quot;jobCN2&quot;).ToString()&#xD;&#xA;            : entity.GetValue(&quot;jobEN3&quot;).ToString();&#xD;&#xA;        HexID = entity.GetValue(&quot;id&quot;).ToString();&#xD;&#xA;        Order = order;&#xD;&#xA;        ForeColor = GetForeColor();&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;        AutoSize = false;&#xD;&#xA;        Anchor = AnchorStyles.None;&#xD;&#xA;        TextAlign = ContentAlignment.MiddleCenter;&#xD;&#xA;        Cursor = Cursors.SizeAll;&#xD;&#xA;        MouseDown += new MouseEventHandler(PlayerLabel_MouseDown);&#xD;&#xA;        MouseMove += new MouseEventHandler(PlayerLabel_MouseMove);&#xD;&#xA;        MouseUp += new MouseEventHandler(PlayerLabel_MouseUp);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 根据 Order 将标签置于父表格的正确位置  &lt;/summary&gt;&#xD;&#xA;    public void RefreshLocation()&#xD;&#xA;    {&#xD;&#xA;        int colCount = Math.Min(ParentTable.PlayerCount, 4);&#xD;&#xA;        int row = Order / colCount;&#xD;&#xA;        int col = Order % colCount;&#xD;&#xA;        ParentTable.Controls.Add(this, col, row);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void PlayerLabel_MouseDown(object sender, MouseEventArgs e)&#xD;&#xA;    {&#xD;&#xA;        if (e.Button == MouseButtons.Left)&#xD;&#xA;        {&#xD;&#xA;            /*  To-Do&#xD;&#xA;             *  &#xD;&#xA;            _draggingClone = new Label&#xD;&#xA;            {&#xD;&#xA;                Text = this.Text,&#xD;&#xA;                Size = this.Size,&#xD;&#xA;                BackColor = Color.FromArgb(128, this.BackColor),&#xD;&#xA;                ForeColor = Color.FromArgb(128, this.ForeColor),&#xD;&#xA;                Font = this.Font,&#xD;&#xA;                TextAlign = this.TextAlign,&#xD;&#xA;            };&#xD;&#xA;            ParentTable.Parent.Controls.Add(_draggingClone);&#xD;&#xA;            _draggingClone.BringToFront();&#xD;&#xA;            _draggingClone.Location = this.Location;&#xD;&#xA;            */&#xD;&#xA;            DoDragDrop(this, DragDropEffects.Move);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void PlayerLabel_MouseMove(object sender, MouseEventArgs e)&#xD;&#xA;    {&#xD;&#xA;        if (e.Button == MouseButtons.Left &amp;&amp; _draggingClone != null)&#xD;&#xA;        {&#xD;&#xA;            Point newLocation = ParentTable.PointToClient(Cursor.Position);&#xD;&#xA;            newLocation.Offset(-_draggingClone.Width / 2, -_draggingClone.Height / 2);&#xD;&#xA;            _draggingClone.Location = newLocation;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void PlayerLabel_MouseUp(object sender, MouseEventArgs e)&#xD;&#xA;    {&#xD;&#xA;        if (_draggingClone != null)&#xD;&#xA;        {&#xD;&#xA;            ParentTable.Controls.Remove(_draggingClone);&#xD;&#xA;            _draggingClone.Dispose();&#xD;&#xA;            _draggingClone = null;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;#endregion&#xD;&#xA;&#xD;&#xA;#region Option 选项类定义&#xD;&#xA;public abstract class Option&#xD;&#xA;{&#xD;&#xA;    public Label Lbl;               // 左侧的描述标签（如果控件不自带文本描述）&#xD;&#xA;    public Control Ctrl;            // 控件，如 ComboBox&#xD;&#xA;    private readonly ToolTip _tip = new ToolTip();   // 鼠标悬停时显示提示文本&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 选项对应的触发器配置字典键名。 &lt;/summary&gt;&#xD;&#xA;    public string ConfigKey { get; set; }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt;&#xD;&#xA;    /// 在 TableLayoutPanel 末尾添加空行，并将该选项置于这一行。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    /// &lt;param name=&quot;table&quot;&gt;选项所处的父对象 TableLayoutPanel。&lt;/param&gt;&#xD;&#xA;    public virtual void AppendToTable(OptionsTableLayoutPanel table)&#xD;&#xA;    {&#xD;&#xA;        table.RowCount++;&#xD;&#xA;        table.RowStyles.Add(new RowStyle(SizeType.AutoSize));&#xD;&#xA;&#xD;&#xA;        table.Controls.Add(Lbl, 0, table.RowCount - 1);&#xD;&#xA;        if (Ctrl != null)&#xD;&#xA;            table.Controls.Add(Ctrl, 1, table.RowCount - 1);&#xD;&#xA;        else&#xD;&#xA;            table.SetColumnSpan(Lbl, 2);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public virtual void SetHint(string hint)&#xD;&#xA;    {&#xD;&#xA;        if (!string.IsNullOrWhiteSpace(hint))&#xD;&#xA;        {&#xD;&#xA;            if (Lbl != null)&#xD;&#xA;            {&#xD;&#xA;                _tip.SetToolTip(Lbl, hint);&#xD;&#xA;                Lbl.Cursor = Cursors.Help;&#xD;&#xA;            }&#xD;&#xA;            if (Ctrl != null)&#xD;&#xA;            {&#xD;&#xA;                _tip.SetToolTip(Ctrl, hint);&#xD;&#xA;                Ctrl.Cursor = Cursors.Help;&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public abstract void LoadFromConfig();&#xD;&#xA;    public abstract void SaveToConfig();&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class OptionTxt : Option&#xD;&#xA;{&#xD;&#xA;    public TextBox Txt =&gt; (TextBox)Ctrl;&#xD;&#xA;&#xD;&#xA;    public OptionTxt(string desc, string configKey, string defaultText = &quot;&quot;, string hint = null)&#xD;&#xA;    {&#xD;&#xA;        Lbl = new Label { Text = desc };&#xD;&#xA;        Ctrl = new TextBox { Text = defaultText };&#xD;&#xA;        ConfigKey = configKey;&#xD;&#xA;        SetHint(hint);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 若配置标量变量中已有该选项，则读取已保存的文本。&lt;/summary&gt;&#xD;&#xA;    public override void LoadFromConfig()&#xD;&#xA;    {&#xD;&#xA;        var value = StaticHelpers.GetScalarVariable(true, ConfigKey);&#xD;&#xA;        if (value != null)&#xD;&#xA;        {&#xD;&#xA;            Txt.Text = value.ToString().Trim();&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 将输入的文本保存至配置标量变量中。 &lt;/summary&gt;&#xD;&#xA;    public override void SaveToConfig()&#xD;&#xA;    {&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, ConfigKey, Txt.Text.Trim());&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class OptionChk : Option&#xD;&#xA;{&#xD;&#xA;    public CheckBox Chk =&gt; (CheckBox)Ctrl;&#xD;&#xA;&#xD;&#xA;    public OptionChk(string desc, string configKey, bool defaultChecked = false, string hint = null)&#xD;&#xA;    {&#xD;&#xA;        Lbl = new Label { Text = desc };&#xD;&#xA;        Ctrl = new CheckBox { Checked = defaultChecked };&#xD;&#xA;        ConfigKey = configKey;&#xD;&#xA;        SetHint(hint);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; &#xD;&#xA;    /// 若配置标量变量中已有该选项，则读取已保存的选项。&lt;br /&gt; &#xD;&#xA;    /// &quot;1&quot; 视为选中，其他文本视为未选中。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    public override void LoadFromConfig()&#xD;&#xA;    {&#xD;&#xA;        var value = StaticHelpers.GetScalarVariable(true, ConfigKey);&#xD;&#xA;        if (value != null)&#xD;&#xA;        {&#xD;&#xA;            Chk.Checked = value.ToString().Trim() == &quot;1&quot;;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 将该选项保存至配置标量变量中，以 &quot;1&quot; 和 &quot;0&quot; 表示选中状态。 &lt;/summary&gt;&#xD;&#xA;    public override void SaveToConfig()&#xD;&#xA;    {&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, ConfigKey, Chk.Checked ? &quot;1&quot; : &quot;0&quot;);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class OptionCbx : Option&#xD;&#xA;{&#xD;&#xA;    public ComboBox Cbx =&gt; (ComboBox)Ctrl;&#xD;&#xA;    private readonly BijectDictionary&lt;string, string&gt; _data;&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt;&#xD;&#xA;    /// 根据双向字典 &lt;paramref name=&quot;data&quot;/&gt; 生成一个 Label 和 ComboBox 的组合。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    /// &lt;param name=&quot;desc&quot;&gt;左侧 label 描述&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;configKey&quot;&gt;存储到永久字典变量中的键&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;data&quot;&gt;字典键与选项文本描述的双向字典&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;defaultSelection&quot;&gt;默认选中的描述&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;hint&quot;&gt;鼠标悬停的提示文本&lt;/param&gt;&#xD;&#xA;    public OptionCbx(string desc, string configKey, BijectDictionary&lt;string, string&gt; data, string defaultSelection = &quot;&quot;, string hint = null)&#xD;&#xA;        : this(desc, configKey, data, data.Keys.IndexOf(defaultSelection), hint) { }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt;&#xD;&#xA;    /// 根据双向字典 &lt;paramref name=&quot;data&quot;/&gt; 生成一个 Label 和 ComboBox 的组合。&#xD;&#xA;    /// &lt;/summary&gt;&#xD;&#xA;    /// &lt;param name=&quot;desc&quot;&gt;左侧 label 描述&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;configKey&quot;&gt;存储到永久字典变量中的键&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;data&quot;&gt;字典键与选项文本描述的双向字典&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;defaultIndex&quot;&gt;默认选中的序号&lt;/param&gt;&#xD;&#xA;    /// &lt;param name=&quot;hint&quot;&gt;鼠标悬停的提示文本&lt;/param&gt;&#xD;&#xA;    public OptionCbx(string desc, string configKey, BijectDictionary&lt;string, string&gt; data, int defaultIndex = 0, string hint = null)&#xD;&#xA;    {&#xD;&#xA;        Lbl = new Label { Text = desc };&#xD;&#xA;        _data = data;&#xD;&#xA;        Ctrl = new ComboBox();&#xD;&#xA;        Cbx.Items.AddRange(data.Values.ToArray());&#xD;&#xA;        Cbx.SelectedIndex = (defaultIndex &gt;= 0 &amp;&amp; defaultIndex &lt; Cbx.Items.Count) ? defaultIndex : 0;&#xD;&#xA;        Cbx.DropDownStyle = ComboBoxStyle.DropDownList;&#xD;&#xA;        ConfigKey = configKey;&#xD;&#xA;        SetHint(hint);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 若配置标量变量中已有该选项，则读取已保存的选项。 &lt;/summary&gt;&#xD;&#xA;    public override void LoadFromConfig()&#xD;&#xA;    {   // 暂时未支持 DropDown 模式&#xD;&#xA;        var value = StaticHelpers.GetScalarVariable(true, ConfigKey);&#xD;&#xA;        if (value != null)&#xD;&#xA;        {&#xD;&#xA;            string option = value.ToString().Trim();&#xD;&#xA;            Cbx.SelectedItem = _data[option] ?? option;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    /// &lt;summary&gt; 将选中项保存至配置标量变量中。 &lt;/summary&gt;&#xD;&#xA;    public override void SaveToConfig()&#xD;&#xA;    {&#xD;&#xA;        string selection = Cbx.SelectedItem?.ToString() ?? Cbx.SelectedText.ToString();&#xD;&#xA;        string option = _data.GetKey(selection) ?? selection;&#xD;&#xA;        StaticHelpers.SetScalarVariable(true, ConfigKey, option);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;/// &lt;summary&gt; 可以从值检索键的双射字典结构，可以用于将 ComboBox 选项和触发器内存储的键相互映射。&lt;/summary&gt;&#xD;&#xA;public class BijectDictionary&lt;TKey, TValue&gt;&#xD;&#xA;{&#xD;&#xA;    private Dictionary&lt;TKey, TValue&gt; _dict = new Dictionary&lt;TKey, TValue&gt;();&#xD;&#xA;    private Dictionary&lt;TValue, TKey&gt; _revDict = new Dictionary&lt;TValue, TKey&gt;();&#xD;&#xA;    private List&lt;TKey&gt; _keys = new List&lt;TKey&gt;();&#xD;&#xA;    private List&lt;TValue&gt; _values = new List&lt;TValue&gt;();&#xD;&#xA;    public ReadOnlyCollection&lt;TKey&gt; Keys =&gt; _keys.AsReadOnly();&#xD;&#xA;    public ReadOnlyCollection&lt;TValue&gt; Values =&gt; _values.AsReadOnly();&#xD;&#xA;    public int Count { get =&gt; _dict.Count; }&#xD;&#xA;    public bool ContainsKey(TKey key) =&gt; _dict.ContainsKey(key);&#xD;&#xA;    public bool ContainsValue(TValue value) =&gt; _revDict.ContainsKey(value);&#xD;&#xA;&#xD;&#xA;    public BijectDictionary() : this(new (TKey, TValue)[0]) { }&#xD;&#xA;    public BijectDictionary(params (TKey, TValue)[] items)&#xD;&#xA;    {&#xD;&#xA;        foreach (var (key, value) in items)&#xD;&#xA;        {&#xD;&#xA;            if (_dict.ContainsKey(key))&#xD;&#xA;                throw new Exception($&quot;Key \&quot;{key}\&quot; is duplicated in the bijective dictionary.&quot;);&#xD;&#xA;            if (_revDict.ContainsKey(value))&#xD;&#xA;                throw new Exception($&quot;Value \&quot;{value}\&quot; is duplicated in the bijective dictionary.&quot;);&#xD;&#xA;&#xD;&#xA;            _dict[key] = value;&#xD;&#xA;            _revDict[value] = key;&#xD;&#xA;            _keys.Add(key);&#xD;&#xA;            _values.Add(value);&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public TValue this[TKey key]&#xD;&#xA;    {&#xD;&#xA;        get =&gt; _dict.TryGetValue(key, out TValue value) ? value : default;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public TKey GetKey(TValue value)&#xD;&#xA;    {&#xD;&#xA;        return _revDict.TryGetValue(value, out TKey key) ? key : default;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public bool RemoveKey(TKey key)&#xD;&#xA;    {&#xD;&#xA;        lock (this)&#xD;&#xA;        {&#xD;&#xA;            int index = _keys.IndexOf(key);&#xD;&#xA;            if (index &lt; 0)&#xD;&#xA;                return false;&#xD;&#xA;            Remove(key, _values[index], index);&#xD;&#xA;            return true;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public bool RemoveValue(TValue value)&#xD;&#xA;    {&#xD;&#xA;        lock (this)&#xD;&#xA;        {&#xD;&#xA;            int index = _values.IndexOf(value);&#xD;&#xA;            if (index &lt; 0)&#xD;&#xA;                return false;&#xD;&#xA;            Remove(_keys[index], value, index);&#xD;&#xA;            return true;&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    private void Remove(TKey key, TValue value, int index)&#xD;&#xA;    {&#xD;&#xA;        _keys.RemoveAt(index);&#xD;&#xA;        _values.RemoveAt(index);&#xD;&#xA;        _dict.Remove(key);&#xD;&#xA;        _revDict.Remove(value);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    public BijectDictionary&lt;TKey, TValue&gt; ShallowCopy()&#xD;&#xA;    {&#xD;&#xA;        var duplicate = new BijectDictionary&lt;TKey, TValue&gt;();&#xD;&#xA;        foreach (var kvp in _dict)&#xD;&#xA;        {&#xD;&#xA;            duplicate._dict.Add(kvp.Key, kvp.Value);&#xD;&#xA;            duplicate._revDict.Add(kvp.Value, kvp.Key);&#xD;&#xA;            duplicate._keys.Add(kvp.Key);&#xD;&#xA;            duplicate._values.Add(kvp.Value);&#xD;&#xA;        }&#xD;&#xA;        return duplicate;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;#endregion&#xD;&#xA;&#xD;&#xA;#region 其它控件类定义（格式调整）&#xD;&#xA;public class GroupBox : System.Windows.Forms.GroupBox&#xD;&#xA;{&#xD;&#xA;    public GroupBox() : base()&#xD;&#xA;    {&#xD;&#xA;        Dock = DockStyle.Top;&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        AutoSizeMode = AutoSizeMode.GrowAndShrink;&#xD;&#xA;        Margin = new Padding(20);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class CheckBox : System.Windows.Forms.CheckBox&#xD;&#xA;{&#xD;&#xA;    public CheckBox() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class TextBox : System.Windows.Forms.TextBox&#xD;&#xA;{&#xD;&#xA;    public TextBox() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class ComboBox : System.Windows.Forms.ComboBox&#xD;&#xA;{&#xD;&#xA;    public ComboBox() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    protected override void WndProc(ref Message m)&#xD;&#xA;    {&#xD;&#xA;        if (m.Msg == 0x020A)  // WM_MOUSEWHEEL&#xD;&#xA;        {&#xD;&#xA;            return;  // No-scroll&#xD;&#xA;        }&#xD;&#xA;        base.WndProc(ref m);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class Label : System.Windows.Forms.Label&#xD;&#xA;{&#xD;&#xA;    public Label() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class Button : System.Windows.Forms.Button&#xD;&#xA;{&#xD;&#xA;    public Button() : base()&#xD;&#xA;    {&#xD;&#xA;        Anchor = AnchorStyles.None;&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;        Padding = new Padding(5);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class SeperatorPanel : System.Windows.Forms.Panel&#xD;&#xA;{&#xD;&#xA;    public SeperatorPanel() : base()&#xD;&#xA;    {&#xD;&#xA;        Height = 2;&#xD;&#xA;        BackColor = Color.DarkGray;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        Margin = new Padding(10);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class BackgroundPanel : System.Windows.Forms.Panel&#xD;&#xA;{&#xD;&#xA;    public BackgroundPanel() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        AutoSizeMode = AutoSizeMode.GrowAndShrink;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        AutoScroll = true;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class GroupPanel : System.Windows.Forms.Panel&#xD;&#xA;{&#xD;&#xA;    public GroupPanel() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        AutoSizeMode = AutoSizeMode.GrowAndShrink;&#xD;&#xA;        Dock = DockStyle.Top;&#xD;&#xA;        Padding = new Padding(20, 20, 20, 0);&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class OptionsTableLayoutPanel : System.Windows.Forms.TableLayoutPanel&#xD;&#xA;{&#xD;&#xA;    public OptionsTableLayoutPanel() : base()&#xD;&#xA;    {&#xD;&#xA;        AutoSize = true;&#xD;&#xA;        AutoSizeMode = AutoSizeMode.GrowAndShrink;&#xD;&#xA;        Dock = DockStyle.Fill;&#xD;&#xA;        RowCount = 0;&#xD;&#xA;        ColumnCount = 2;&#xD;&#xA;        ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 50));&#xD;&#xA;        ColumnStyles.Add(new ColumnStyle(SizeType.Percent, 50));&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class BottomTableLayoutPanel : System.Windows.Forms.TableLayoutPanel&#xD;&#xA;{&#xD;&#xA;    public BottomTableLayoutPanel() : base()&#xD;&#xA;    {&#xD;&#xA;        Dock = DockStyle.Bottom;&#xD;&#xA;        ColumnStyles.Add(new ColumnStyle(SizeType.AutoSize));&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;public class ToolTip : System.Windows.Forms.ToolTip&#xD;&#xA;{&#xD;&#xA;    public ToolTip() : base()&#xD;&#xA;    {&#xD;&#xA;        InitialDelay = 0;&#xD;&#xA;        AutoPopDelay = 30000;&#xD;&#xA;        ReshowDelay = 0;&#xD;&#xA;        ShowAlways = true;&#xD;&#xA;    }&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;#endregion&#xD;&#xA;" ActionType="ExecuteScript" Asynchronous="False" />
              <Action OrderNumber="3" NamedCallbackName="UWU_cfg" ActionType="NamedCallback" Asynchronous="False" />
            </Actions>
            <Condition Enabled="true" Grouping="Or">
              <ConditionSingle Enabled="true" ExpressionL="${ev:UWU_cfg_isRunning}" ExpressionTypeL="String" ExpressionR="0" ExpressionTypeR="String" ConditionType="StringEqualCase" />
            </Condition>
          </Trigger>
        </Triggers>
      </Folder>
    </Folders>
    <Triggers>
      <Trigger Enabled="true" Name="Readme(省流：点开区域限制-设置可以调整，进本/e 职能位置)" Id="248f36d7-1d4e-4b90-9b42-7d3bcac6dcbe" RegularExpression="" Description="本触发器基于莫灵喵绝神兵宝宝椅Mod by Latihas v2.2.5.4进行二次开发，整合了Cactbot播报，更新了绘图和自动选择和机制提醒等。 &#xD;&#xA;需要组件：Triggernometry,Postnamazu,鲶鱼精邮差扩展及小队框架&#xD;&#xA;鸣谢:阿洛,Latihas,还有帮助测试的所有人&#xD;&#xA;使用：&#xD;&#xA;区域限制-设置里面可以开关团队播报和三桶，保存更改后会自动执行注入。&#xD;&#xA;进本按O更改小队顺序：MT,ST,H1,H2,D1,D2,D3,D4。输入/e H1（职能位置）即可，会自动判断职能，也可以手动调整。&#xD;&#xA;已知问题：&#xD;&#xA;三运地火全队播报受限于网络延迟，不一定准确，其余没问题。&#xD;&#xA;网络情况差的情况下可能泰坦上天位置获取不到导致后面一杆进洞也会不报，小概率事件&#xD;&#xA;///修改内容&#xD;&#xA;1.柱子根据dps职能自动选中，柱子血量低于40%自动停手转火，觉醒后继续打ps：写死在回调注入里的，要调整自己把0.4f改成别的&#xD;&#xA;2.新增了各种画图，可在绘制文件夹关闭&#xD;&#xA;3.在标记基础上增加了toast提醒&#xD;&#xA;4.处于热风范围内会有蜂鸣器提醒（默认关闭，如果你不想开画图可以开这个）&#xD;&#xA;5.指路有三连桶，一杆进洞，三运站位，火神觉醒前地火站位，为绿色的小圆圈&#xD;&#xA;//todo&#xD;&#xA;1.自动移动&#xD;&#xA;2.更详细的指路&#xD;&#xA;3.把穷举的优化一下&#xD;&#xA;4.开怪范围&#xD;&#xA;5.一杆进洞&#xD;&#xA;//反馈地址&#xD;&#xA;b站@平安罗德岛https://space.bilibili.com/74131583&#xD;&#xA;//更新日志&#xD;&#xA;v3.9 修复了之前bug，加入了自动三连桶和家长会缩小神兵&#xD;&#xA;v2.0.5 增加了更多设置&#xD;&#xA;v2.0.4 尝试修复了觉醒后热风标点，现在切柱子不需要团队播报了&#xD;&#xA;v2.0.3 将热风绘制改成月环R=15 r=10，减少视野遮挡（原为R=15的圆）&#xD;&#xA;v2.0.2 增加了火神地火觉醒前指路（DH),热风标点更加精确，确保与两个柱子距离相等。">
        <Actions>
          <Action OrderNumber="1" ActionType="Placeholder" Description="点开右上触发器描述看详细信息" DescriptionOverride="True" />
        </Actions>
      </Trigger>
      <Trigger Enabled="true" Name="休息区" Id="dd54a2dc-9f98-41e1-91f7-f11f11c5823c" RegularExpression="^.{14} Territory 01:(?!309)">
        <Actions>
          <Action OrderNumber="1" ExecScriptExpression="TriggernometryHelpers.Plugin.UnregisterNamedCallback(&quot;LatihasTUW&quot;);" ActionType="ExecuteScript" />
          <Action OrderNumber="2" VariableOp="UnsetRegexUniversal" VariableName="tuw_.*" ActionType="Variable" />
          <Action OrderNumber="3" VariableOp="UnsetRegexUniversal" VariableName="ptuw_.*" ActionType="Variable" />
          <Action OrderNumber="4" TextAuraOp="DeactivateAuraRegex" TextAuraFontSize="9" TextAuraName="tuw_" TextAuraFontName="宋体" ActionType="TextAura" />
        </Actions>
      </Trigger>
    </Triggers>
  </ExportedFolder>
</TriggernometryExport>